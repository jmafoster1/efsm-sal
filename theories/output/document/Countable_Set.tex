%
\begin{isabellebody}%
\setisabellecontext{Countable{\isacharunderscore}Set}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Countable sets%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Countable{\isacharunderscore}Set\isanewline
\isakeyword{imports}\ Countable\ Infinite{\isacharunderscore}Set\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Predicate for countable sets%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ countable\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}countable\ S\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\isasymexists}f{\isacharcolon}{\isacharcolon}{\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardot}\ inj{\isacharunderscore}on\ f\ S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countableE{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ S{\isacharcolon}\ {\isachardoublequoteopen}countable\ S{\isachardoublequoteclose}\ \isakeyword{obtains}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ f\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ S\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ countable{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countableI{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ {\isacharparenleft}f{\isacharcolon}{\isacharcolon}{\isacharprime}a\ {\isasymRightarrow}\ nat{\isacharparenright}\ S\ {\isasymLongrightarrow}\ countable\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ countable{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countableI{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ {\isacharparenleft}f{\isacharcolon}{\isacharcolon}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}b{\isacharcolon}{\isacharcolon}countable{\isacharparenright}\ S\ {\isasymLongrightarrow}\ countable\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}inj{\isacharunderscore}on{\isacharbrackleft}of\ f\ S\ to{\isacharunderscore}nat{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ countableI{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countableE{\isacharunderscore}bij{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ S{\isacharcolon}\ {\isachardoublequoteopen}countable\ S{\isachardoublequoteclose}\ \isakeyword{obtains}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{and}\ C\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ set{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ f\ C\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ S\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ elim{\isacharcolon}\ countableE\ dest{\isacharcolon}\ inj{\isacharunderscore}on{\isacharunderscore}imp{\isacharunderscore}bij{\isacharunderscore}betw\ bij{\isacharunderscore}betw{\isacharunderscore}inv{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countableI{\isacharunderscore}bij{\isacharcolon}\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ f\ {\isacharparenleft}C{\isacharcolon}{\isacharcolon}nat\ set{\isacharparenright}\ S\ {\isasymLongrightarrow}\ countable\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ countableI\ bij{\isacharunderscore}betw{\isacharunderscore}inv{\isacharunderscore}into\ bij{\isacharunderscore}betw{\isacharunderscore}imp{\isacharunderscore}inj{\isacharunderscore}on{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}finite{\isacharcolon}\ {\isachardoublequoteopen}finite\ S\ {\isasymLongrightarrow}\ countable\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ dest{\isacharcolon}\ finite{\isacharunderscore}imp{\isacharunderscore}inj{\isacharunderscore}to{\isacharunderscore}nat{\isacharunderscore}seg\ countableI{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countableI{\isacharunderscore}bij{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ f\ A\ B\ {\isasymLongrightarrow}\ countable\ A\ {\isasymLongrightarrow}\ countable\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ elim{\isacharcolon}\ countableE{\isacharunderscore}bij\ intro{\isacharcolon}\ bij{\isacharunderscore}betw{\isacharunderscore}trans\ countableI{\isacharunderscore}bij{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countableI{\isacharunderscore}bij{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ f\ B\ A\ {\isasymLongrightarrow}\ countable\ A\ {\isasymLongrightarrow}\ countable\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ elim{\isacharcolon}\ countableE{\isacharunderscore}bij\ intro{\isacharcolon}\ bij{\isacharunderscore}betw{\isacharunderscore}trans\ bij{\isacharunderscore}betw{\isacharunderscore}inv{\isacharunderscore}into\ countableI{\isacharunderscore}bij{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}iff{\isacharunderscore}bij{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ f\ A\ B\ {\isasymLongrightarrow}\ countable\ A\ {\isasymlongleftrightarrow}\ countable\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ countableI{\isacharunderscore}bij{\isadigit{1}}\ countableI{\isacharunderscore}bij{\isadigit{2}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}subset{\isacharcolon}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ B\ {\isasymLongrightarrow}\ countable\ B\ {\isasymLongrightarrow}\ countable\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ countable{\isacharunderscore}def\ intro{\isacharcolon}\ subset{\isacharunderscore}inj{\isacharunderscore}on{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countableI{\isacharunderscore}type{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}A{\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isacharcolon}{\isacharcolon}\ countable\ set{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ countableI{\isacharbrackleft}of\ to{\isacharunderscore}nat\ A{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Enumerate a countable set%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ countableE{\isacharunderscore}infinite{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}countable\ S{\isachardoublequoteclose}\ {\isachardoublequoteopen}infinite\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{obtains}\ e\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ e\ S\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ f\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}countable\ S{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ countableE{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ f\ S\ {\isacharparenleft}f{\isacharbackquote}S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ bij{\isacharunderscore}betw{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}inj{\isacharunderscore}on\ f\ S{\isacartoucheclose}\ {\isacartoucheopen}infinite\ S{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ inf{\isacharunderscore}fS{\isacharcolon}\ {\isachardoublequoteopen}infinite\ {\isacharparenleft}f{\isacharbackquote}S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ finite{\isacharunderscore}imageD{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ {\isacharparenleft}the{\isacharunderscore}inv{\isacharunderscore}into\ UNIV\ {\isacharparenleft}enumerate\ {\isacharparenleft}f{\isacharbackquote}S{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}f{\isacharbackquote}S{\isacharparenright}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ bij{\isacharunderscore}betw{\isacharunderscore}the{\isacharunderscore}inv{\isacharunderscore}into\ bij{\isacharunderscore}enumerate{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ {\isacharparenleft}the{\isacharunderscore}inv{\isacharunderscore}into\ UNIV\ {\isacharparenleft}enumerate\ {\isacharparenleft}f{\isacharbackquote}S{\isacharparenright}{\isacharparenright}\ {\isasymcirc}\ f{\isacharparenright}\ S\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ bij{\isacharunderscore}betw{\isacharunderscore}trans{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ thesis\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}enum{\isacharunderscore}cases{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}countable\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{obtains}\ {\isacharparenleft}finite{\isacharparenright}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}finite\ S{\isachardoublequoteclose}\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ f\ S\ {\isacharbraceleft}{\isachardot}{\isachardot}{\isacharless}card\ S{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isacharbar}\ {\isacharparenleft}infinite{\isacharparenright}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}infinite\ S{\isachardoublequoteclose}\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ f\ S\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ex{\isacharunderscore}bij{\isacharunderscore}betw{\isacharunderscore}finite{\isacharunderscore}nat{\isacharbrackleft}of\ S{\isacharbrackright}\ countableE{\isacharunderscore}infinite\ {\isacartoucheopen}countable\ S{\isacartoucheclose}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}finite\ S{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ atLeast{\isadigit{0}}LessThan{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ set\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}to{\isacharunderscore}nat{\isacharunderscore}on\ S\ {\isacharequal}\ {\isacharparenleft}SOME\ f{\isachardot}\ if\ finite\ S\ then\ bij{\isacharunderscore}betw\ f\ S\ {\isacharbraceleft}{\isachardot}{\isachardot}{\isacharless}\ card\ S{\isacharbraceright}\ else\ bij{\isacharunderscore}betw\ f\ S\ UNIV{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ set\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}from{\isacharunderscore}nat{\isacharunderscore}into\ S\ n\ {\isacharequal}\ {\isacharparenleft}if\ n\ {\isasymin}\ to{\isacharunderscore}nat{\isacharunderscore}on\ S\ {\isacharbackquote}\ S\ then\ inv{\isacharunderscore}into\ S\ {\isacharparenleft}to{\isacharunderscore}nat{\isacharunderscore}on\ S{\isacharparenright}\ n\ else\ SOME\ s{\isachardot}\ s{\isasymin}S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}finite{\isacharcolon}\ {\isachardoublequoteopen}finite\ S\ {\isasymLongrightarrow}\ bij{\isacharunderscore}betw\ {\isacharparenleft}to{\isacharunderscore}nat{\isacharunderscore}on\ S{\isacharparenright}\ S\ {\isacharbraceleft}{\isachardot}{\isachardot}{\isacharless}\ card\ S{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ex{\isacharunderscore}bij{\isacharunderscore}betw{\isacharunderscore}finite{\isacharunderscore}nat\ \isacommand{unfolding}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ someI{\isadigit{2}}{\isacharunderscore}ex{\isacharbrackleft}\isakeyword{where}\ Q{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}f{\isachardot}\ bij{\isacharunderscore}betw\ f\ S\ {\isacharbraceleft}{\isachardot}{\isachardot}{\isacharless}card\ S{\isacharbraceright}{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ atLeast{\isadigit{0}}LessThan{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}infinite{\isacharcolon}\ {\isachardoublequoteopen}countable\ S\ {\isasymLongrightarrow}\ infinite\ S\ {\isasymLongrightarrow}\ bij{\isacharunderscore}betw\ {\isacharparenleft}to{\isacharunderscore}nat{\isacharunderscore}on\ S{\isacharparenright}\ S\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ countableE{\isacharunderscore}infinite\ \isacommand{unfolding}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ someI{\isadigit{2}}{\isacharunderscore}ex{\isacharbrackleft}\isakeyword{where}\ Q{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}f{\isachardot}\ bij{\isacharunderscore}betw\ f\ S\ UNIV{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ bij{\isacharunderscore}betw{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}finite{\isacharcolon}\ {\isachardoublequoteopen}finite\ S\ {\isasymLongrightarrow}\ bij{\isacharunderscore}betw\ {\isacharparenleft}from{\isacharunderscore}nat{\isacharunderscore}into\ S{\isacharparenright}\ {\isacharbraceleft}{\isachardot}{\isachardot}{\isacharless}\ card\ S{\isacharbraceright}\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}def{\isacharbrackleft}abs{\isacharunderscore}def{\isacharbrackright}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}finite{\isacharbrackleft}of\ S{\isacharbrackright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ bij{\isacharunderscore}betw{\isacharunderscore}cong{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}split\ if{\isacharunderscore}split{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ bij{\isacharunderscore}betw{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ cong{\isacharcolon}\ bij{\isacharunderscore}betw{\isacharunderscore}cong\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ intro{\isacharcolon}\ bij{\isacharunderscore}betw{\isacharunderscore}inv{\isacharunderscore}into\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}finite{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ bij{\isacharunderscore}betw{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharcolon}\ {\isachardoublequoteopen}countable\ S\ {\isasymLongrightarrow}\ infinite\ S\ {\isasymLongrightarrow}\ bij{\isacharunderscore}betw\ {\isacharparenleft}from{\isacharunderscore}nat{\isacharunderscore}into\ S{\isacharparenright}\ UNIV\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}def{\isacharbrackleft}abs{\isacharunderscore}def{\isacharbrackright}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}infinite{\isacharbrackleft}of\ S{\isacharcomma}\ unfolded\ bij{\isacharunderscore}betw{\isacharunderscore}def{\isacharbrackright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ cong{\isacharcolon}\ bij{\isacharunderscore}betw{\isacharunderscore}cong\ intro{\isacharcolon}\ bij{\isacharunderscore}betw{\isacharunderscore}inv{\isacharunderscore}into\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}infinite{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}as{\isacharunderscore}injective{\isacharunderscore}image{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}countable\ A{\isachardoublequoteclose}\ {\isachardoublequoteopen}infinite\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{obtains}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}A\ {\isacharequal}\ range\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}inj\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ bij{\isacharunderscore}betw{\isacharunderscore}def\ bij{\isacharunderscore}betw{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into\ {\isacharbrackleft}OF\ assms{\isacharbrackright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inj{\isacharunderscore}on{\isacharunderscore}to{\isacharunderscore}nat{\isacharunderscore}on{\isacharbrackleft}intro{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ inj{\isacharunderscore}on\ {\isacharparenleft}to{\isacharunderscore}nat{\isacharunderscore}on\ A{\isacharparenright}\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}infinite{\isacharbrackleft}of\ A{\isacharbrackright}\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}finite{\isacharbrackleft}of\ A{\isacharbrackright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}auto\ simp{\isacharcolon}\ bij{\isacharunderscore}betw{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}inj{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ a\ {\isasymin}\ A\ {\isasymLongrightarrow}\ b\ {\isasymin}\ A\ {\isasymLongrightarrow}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ a\ {\isacharequal}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ b\ {\isasymlongleftrightarrow}\ a\ {\isacharequal}\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}on{\isacharunderscore}to{\isacharunderscore}nat{\isacharunderscore}on{\isacharbrackleft}of\ A{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ inj{\isacharunderscore}onD{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}to{\isacharunderscore}nat{\isacharunderscore}on{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ a\ {\isasymin}\ A\ {\isasymLongrightarrow}\ from{\isacharunderscore}nat{\isacharunderscore}into\ A\ {\isacharparenleft}to{\isacharunderscore}nat{\isacharunderscore}on\ A\ a{\isacharparenright}\ {\isacharequal}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}def\ intro{\isacharbang}{\isacharcolon}\ inv{\isacharunderscore}into{\isacharunderscore}f{\isacharunderscore}f{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ subset{\isacharunderscore}range{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ A\ {\isasymsubseteq}\ range\ {\isacharparenleft}from{\isacharunderscore}nat{\isacharunderscore}into\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}to{\isacharunderscore}nat{\isacharunderscore}on{\isacharbrackleft}symmetric{\isacharbrackright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharcolon}\ {\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ from{\isacharunderscore}nat{\isacharunderscore}into\ A\ n\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ equals{\isadigit{0}}I\ inv{\isacharunderscore}into{\isacharunderscore}into\ someI{\isacharunderscore}ex{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ range{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}subset{\isacharcolon}\ {\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ range\ {\isacharparenleft}from{\isacharunderscore}nat{\isacharunderscore}into\ A{\isacharparenright}\ {\isasymsubseteq}\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharbrackleft}of\ A{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ range{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ countable\ A\ {\isasymLongrightarrow}\ range\ {\isacharparenleft}from{\isacharunderscore}nat{\isacharunderscore}into\ A{\isacharparenright}\ {\isacharequal}\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ equalityI\ range{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}subset\ subset{\isacharunderscore}range{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}to{\isacharunderscore}nat{\isacharunderscore}on{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ infinite\ A\ {\isasymLongrightarrow}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ {\isacharbackquote}\ A\ {\isacharequal}\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}infinite{\isacharbrackleft}of\ A{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ bij{\isacharunderscore}betw{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}surj{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ infinite\ A\ {\isasymLongrightarrow}\ {\isasymexists}a{\isasymin}A{\isachardot}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ a\ {\isacharequal}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}\ image{\isacharunderscore}iff\ iso{\isacharunderscore}tuple{\isacharunderscore}UNIV{\isacharunderscore}I\ image{\isacharunderscore}to{\isacharunderscore}nat{\isacharunderscore}on{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}n\ {\isasymin}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ {\isacharbackquote}\ A\ {\isasymLongrightarrow}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ {\isacharparenleft}from{\isacharunderscore}nat{\isacharunderscore}into\ A\ n{\isacharparenright}\ {\isacharequal}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ f{\isacharunderscore}inv{\isacharunderscore}into{\isacharunderscore}f\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}infinite{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ infinite\ A\ {\isasymLongrightarrow}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ {\isacharparenleft}from{\isacharunderscore}nat{\isacharunderscore}into\ A\ n{\isacharparenright}\ {\isacharequal}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ image{\isacharunderscore}iff\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}surj\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}inj{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ m\ {\isasymin}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ {\isacharbackquote}\ A\ {\isasymLongrightarrow}\ n\ {\isasymin}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ {\isacharbackquote}\ A\ {\isasymLongrightarrow}\isanewline
\ \ \ \ from{\isacharunderscore}nat{\isacharunderscore}into\ A\ m\ {\isacharequal}\ from{\isacharunderscore}nat{\isacharunderscore}into\ A\ n\ {\isasymlongleftrightarrow}\ m\ {\isacharequal}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}subst\ to{\isacharunderscore}nat{\isacharunderscore}on{\isacharunderscore}inj{\isacharbrackleft}symmetric{\isacharcomma}\ of\ A{\isacharbrackright}{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}inj{\isacharunderscore}infinite{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ infinite\ A\ {\isasymLongrightarrow}\ from{\isacharunderscore}nat{\isacharunderscore}into\ A\ m\ {\isacharequal}\ from{\isacharunderscore}nat{\isacharunderscore}into\ A\ n\ {\isasymlongleftrightarrow}\ m\ {\isacharequal}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ image{\isacharunderscore}to{\isacharunderscore}nat{\isacharunderscore}on{\isacharbrackleft}of\ A{\isacharbrackright}\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}inj{\isacharbrackleft}of\ A\ m\ n{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}iff{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ x\ {\isasymin}\ A\ {\isasymLongrightarrow}\ i\ {\isasymin}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ {\isacharbackquote}\ A\ {\isasymLongrightarrow}\ x\ {\isacharequal}\ from{\isacharunderscore}nat{\isacharunderscore}into\ A\ i\ {\isasymlongleftrightarrow}\ i\ {\isacharequal}\ to{\isacharunderscore}nat{\isacharunderscore}on\ A\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}surj{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ a\ {\isasymin}\ A\ {\isasymLongrightarrow}\ {\isasymexists}n{\isachardot}\ from{\isacharunderscore}nat{\isacharunderscore}into\ A\ n\ {\isacharequal}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exI{\isacharbrackleft}of\ {\isacharunderscore}\ {\isachardoublequoteopen}to{\isacharunderscore}nat{\isacharunderscore}on\ A\ a{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}inject{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ countable\ A\ {\isasymLongrightarrow}\ B\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ countable\ B\ {\isasymLongrightarrow}\ from{\isacharunderscore}nat{\isacharunderscore}into\ A\ {\isacharequal}\ from{\isacharunderscore}nat{\isacharunderscore}into\ B\ {\isasymlongleftrightarrow}\ A\ {\isacharequal}\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ range{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inj{\isacharunderscore}on{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ from{\isacharunderscore}nat{\isacharunderscore}into\ {\isacharparenleft}{\isacharbraceleft}A{\isachardot}\ A\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymand}\ countable\ A{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ inj{\isacharunderscore}on{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Closure properties of countability%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}SIGMA{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}countable\ I\ {\isasymLongrightarrow}\ {\isacharparenleft}{\isasymAnd}i{\isachardot}\ i\ {\isasymin}\ I\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}A\ i{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}SIGMA\ i\ {\isacharcolon}\ I{\isachardot}\ A\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ countableI{\isacharprime}{\isacharbrackleft}of\ {\isachardoublequoteopen}{\isasymlambda}{\isacharparenleft}i{\isacharcomma}\ a{\isacharparenright}{\isachardot}\ {\isacharparenleft}to{\isacharunderscore}nat{\isacharunderscore}on\ I\ i{\isacharcomma}\ to{\isacharunderscore}nat{\isacharunderscore}on\ {\isacharparenleft}A\ i{\isacharparenright}\ a{\isacharparenright}{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}auto\ simp{\isacharcolon}\ inj{\isacharunderscore}on{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}image{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}countable\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}f{\isacharbackquote}A{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ g\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ g\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ countableE{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ {\isacharparenleft}inv{\isacharunderscore}into\ A\ f{\isacharparenright}\ {\isacharparenleft}f{\isacharbackquote}A{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}inv{\isacharunderscore}into\ A\ f\ {\isacharbackquote}\ f\ {\isacharbackquote}\ A\ {\isasymsubseteq}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ inj{\isacharunderscore}on{\isacharunderscore}inv{\isacharunderscore}into\ inv{\isacharunderscore}into{\isacharunderscore}into{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ dest{\isacharcolon}\ comp{\isacharunderscore}inj{\isacharunderscore}on\ subset{\isacharunderscore}inj{\isacharunderscore}on\ intro{\isacharcolon}\ countableI{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}image{\isacharunderscore}inj{\isacharunderscore}on{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}f\ {\isacharbackquote}\ A{\isacharparenright}\ {\isasymLongrightarrow}\ inj{\isacharunderscore}on\ f\ A\ {\isasymLongrightarrow}\ countable\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ countable{\isacharunderscore}image\ the{\isacharunderscore}inv{\isacharunderscore}into{\isacharunderscore}onto{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}UN{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ I\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}i\ set{\isachardoublequoteclose}\ \isakeyword{and}\ A\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}i\ {\isacharequal}{\isachargreater}\ {\isacharprime}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ I{\isacharcolon}\ {\isachardoublequoteopen}countable\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ A{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ i\ {\isasymin}\ I\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}A\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}{\isasymUnion}i{\isasymin}I{\isachardot}\ A\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymUnion}i{\isasymin}I{\isachardot}\ A\ i{\isacharparenright}\ {\isacharequal}\ snd\ {\isacharbackquote}\ {\isacharparenleft}SIGMA\ i\ {\isacharcolon}\ I{\isachardot}\ A\ i{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ image{\isacharunderscore}iff{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ assms{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Un{\isacharbrackleft}intro{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ countable\ B\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}A\ {\isasymunion}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ countable{\isacharunderscore}UN{\isacharbrackleft}of\ {\isachardoublequoteopen}{\isacharbraceleft}True{\isacharcomma}\ False{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}True\ {\isasymRightarrow}\ A\ {\isacharbar}\ False\ {\isasymRightarrow}\ B{\isachardoublequoteclose}{\isacharcomma}\ simplified{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ {\isacharparenleft}simp\ split{\isacharcolon}\ bool{\isachardot}split{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Un{\isacharunderscore}iff{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}A\ {\isasymunion}\ B{\isacharparenright}\ {\isasymlongleftrightarrow}\ countable\ A\ {\isasymand}\ countable\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ countable{\isacharunderscore}Un\ countable{\isacharunderscore}subset\ inf{\isacharunderscore}sup{\isacharunderscore}ord{\isacharparenleft}{\isadigit{3}}{\isacharcomma}{\isadigit{4}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Plus{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ countable\ B\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}A\ {\isacharless}{\isacharplus}{\isachargreater}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ Plus{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}empty{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ countable{\isacharunderscore}finite{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}insert{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}insert\ a\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ countable{\isacharunderscore}Un{\isacharbrackleft}of\ {\isachardoublequoteopen}{\isacharbraceleft}a{\isacharbraceright}{\isachardoublequoteclose}\ A{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ countable{\isacharunderscore}finite{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Int{\isadigit{1}}{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}A\ {\isasyminter}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}force\ intro{\isacharcolon}\ countable{\isacharunderscore}subset{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Int{\isadigit{2}}{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ B\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}A\ {\isasyminter}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ countable{\isacharunderscore}subset{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}INT{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}i\ {\isasymin}\ I\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}A\ i{\isacharparenright}\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}{\isasymInter}i{\isasymin}I{\isachardot}\ A\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ countable{\isacharunderscore}subset{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Diff{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}A\ {\isacharminus}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ countable{\isacharunderscore}subset{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}insert{\isacharunderscore}eq\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}insert\ x\ A{\isacharparenright}\ {\isacharequal}\ countable\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ \ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto\ {\isacharparenleft}metis\ Diff{\isacharunderscore}insert{\isacharunderscore}absorb\ countable{\isacharunderscore}Diff\ insert{\isacharunderscore}absorb{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}vimage{\isacharcolon}\ {\isachardoublequoteopen}B\ {\isasymsubseteq}\ range\ f\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}f\ {\isacharminus}{\isacharbackquote}\ B{\isacharparenright}\ {\isasymLongrightarrow}\ countable\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ Int{\isacharunderscore}absorb{\isadigit{2}}\ countable{\isacharunderscore}image\ image{\isacharunderscore}vimage{\isacharunderscore}eq{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ surj{\isacharunderscore}countable{\isacharunderscore}vimage{\isacharcolon}\ {\isachardoublequoteopen}surj\ f\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}f\ {\isacharminus}{\isacharbackquote}\ B{\isacharparenright}\ {\isasymLongrightarrow}\ countable\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ countable{\isacharunderscore}vimage\ top{\isacharunderscore}greatest{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Collect{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ A\ {\isasymLongrightarrow}\ countable\ {\isacharbraceleft}a\ {\isasymin}\ A{\isachardot}\ {\isasymphi}\ a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ Collect{\isacharunderscore}conj{\isacharunderscore}eq\ Int{\isacharunderscore}absorb\ Int{\isacharunderscore}commute\ Int{\isacharunderscore}def\ countable{\isacharunderscore}Int{\isadigit{1}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Image{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}\ y\ {\isasymin}\ Y\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}X\ {\isacharbackquote}{\isacharbackquote}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}countable\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}X\ {\isacharbackquote}{\isacharbackquote}\ Y{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}countable\ {\isacharparenleft}X\ {\isacharbackquote}{\isacharbackquote}\ {\isacharparenleft}{\isasymUnion}y{\isasymin}Y{\isachardot}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Image{\isacharunderscore}UN\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ countable{\isacharunderscore}UN\ assms{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}relpow{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ X\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ rel{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ Image{\isacharunderscore}X{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}Y{\isachardot}\ countable\ Y\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}X\ {\isacharbackquote}{\isacharbackquote}\ Y{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ Y{\isacharcolon}\ {\isachardoublequoteopen}countable\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}{\isacharparenleft}X\ {\isacharcircum}{\isacharcircum}\ i{\isacharparenright}\ {\isacharbackquote}{\isacharbackquote}\ Y{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Y\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ i\ arbitrary{\isacharcolon}\ Y{\isacharparenright}\ {\isacharparenleft}auto\ simp{\isacharcolon}\ relcomp{\isacharunderscore}Image\ Image{\isacharunderscore}X{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}funpow{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ set\ {\isasymRightarrow}\ {\isacharprime}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}\ countable\ A\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}f\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}countable\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}{\isacharparenleft}f\ {\isacharcircum}{\isacharcircum}\ n{\isacharparenright}\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
{\isacharparenleft}induction\ n{\isacharparenright}{\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ assms{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}rtrancl{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymAnd}Y{\isachardot}\ countable\ Y\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}X\ {\isacharbackquote}{\isacharbackquote}\ Y{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\ countable\ Y\ {\isasymLongrightarrow}\ countable\ {\isacharparenleft}X\isactrlsup {\isacharasterisk}\ {\isacharbackquote}{\isacharbackquote}\ Y{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ rtrancl{\isacharunderscore}is{\isacharunderscore}UN{\isacharunderscore}relpow\ UN{\isacharunderscore}Image\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ countable{\isacharunderscore}UN\ countableI{\isacharunderscore}type\ countable{\isacharunderscore}relpow{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}lists{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ A{\isacharcolon}\ {\isachardoublequoteopen}countable\ A{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}lists\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}countable\ {\isacharparenleft}lists\ {\isacharparenleft}range\ {\isacharparenleft}from{\isacharunderscore}nat{\isacharunderscore}into\ A{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ lists{\isacharunderscore}image{\isacharparenright}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ A\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ subset{\isacharunderscore}range{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into\ countable{\isacharunderscore}subset\ lists{\isacharunderscore}mono{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Collect{\isacharunderscore}finite{\isacharunderscore}eq{\isacharunderscore}lists{\isacharcolon}\ {\isachardoublequoteopen}Collect\ finite\ {\isacharequal}\ set\ {\isacharbackquote}\ lists\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}list\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Collect{\isacharunderscore}finite{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}Collect\ {\isacharparenleft}finite{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}countable\ set{\isasymRightarrow}bool{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ Collect{\isacharunderscore}finite{\isacharunderscore}eq{\isacharunderscore}lists{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}int{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isasymint}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ Ints{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}rat{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isasymrat}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ Rats{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Collect{\isacharunderscore}finite{\isacharunderscore}subset{\isacharunderscore}eq{\isacharunderscore}lists{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}A{\isachardot}\ finite\ A\ {\isasymand}\ A\ {\isasymsubseteq}\ T{\isacharbraceright}\ {\isacharequal}\ set\ {\isacharbackquote}\ lists\ T{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}list\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ lists{\isacharunderscore}eq{\isacharunderscore}set{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Collect{\isacharunderscore}finite{\isacharunderscore}subset{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}countable\ T\ {\isasymLongrightarrow}\ countable\ {\isacharbraceleft}A{\isachardot}\ finite\ A\ {\isasymand}\ A\ {\isasymsubseteq}\ T{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ Collect{\isacharunderscore}finite{\isacharunderscore}subset{\isacharunderscore}eq{\isacharunderscore}lists\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}set{\isacharunderscore}option\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}set{\isacharunderscore}option\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
{\isacharparenleft}cases\ x{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Misc lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}subset{\isacharunderscore}image{\isacharcolon}\isanewline
\ \ \ {\isachardoublequoteopen}countable\ B\ {\isasymand}\ B\ {\isasymsubseteq}\ {\isacharparenleft}f\ {\isacharbackquote}\ A{\isacharparenright}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\isasymexists}A{\isacharprime}{\isachardot}\ countable\ A{\isacharprime}\ {\isasymand}\ A{\isacharprime}\ {\isasymsubseteq}\ A\ {\isasymand}\ {\isacharparenleft}B\ {\isacharequal}\ f\ {\isacharbackquote}\ A{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}lhs\ {\isacharequal}\ {\isacharquery}rhs{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacharquery}lhs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}rhs\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exI\ {\isacharbrackleft}\isakeyword{where}\ x{\isacharequal}{\isachardoublequoteopen}inv{\isacharunderscore}into\ A\ f\ {\isacharbackquote}\ B{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ {\isacharparenleft}use\ {\isacartoucheopen}{\isacharquery}lhs{\isacartoucheclose}\ \isakeyword{in}\ {\isacartoucheopen}auto\ simp{\isacharcolon}\ f{\isacharunderscore}inv{\isacharunderscore}into{\isacharunderscore}f\ subset{\isacharunderscore}iff\ image{\isacharunderscore}inv{\isacharunderscore}into{\isacharunderscore}cancel\ inv{\isacharunderscore}into{\isacharunderscore}into{\isacartoucheclose}{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacharquery}rhs\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}lhs\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ infinite{\isacharunderscore}countable{\isacharunderscore}subset{\isacharprime}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ X{\isacharcolon}\ {\isachardoublequoteopen}infinite\ X{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}C{\isasymsubseteq}X{\isachardot}\ countable\ C\ {\isasymand}\ infinite\ C{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ infinite{\isacharunderscore}countable{\isacharunderscore}subset{\isacharbrackleft}OF\ X{\isacharbrackright}\ \isacommand{guess}\isamarkupfalse%
\ f\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ exI{\isacharbrackleft}of\ {\isacharunderscore}\ {\isachardoublequoteopen}range\ f{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}auto\ simp{\isacharcolon}\ range{\isacharunderscore}inj{\isacharunderscore}infinite{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}all{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ S{\isacharcolon}\ {\isachardoublequoteopen}countable\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}s{\isasymin}S{\isachardot}\ P\ s{\isacharparenright}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\isasymforall}n{\isacharcolon}{\isacharcolon}nat{\isachardot}\ from{\isacharunderscore}nat{\isacharunderscore}into\ S\ n\ {\isasymin}\ S\ {\isasymlongrightarrow}\ P\ {\isacharparenleft}from{\isacharunderscore}nat{\isacharunderscore}into\ S\ n{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ S{\isacharbrackleft}THEN\ subset{\isacharunderscore}range{\isacharunderscore}from{\isacharunderscore}nat{\isacharunderscore}into{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}sequence{\isacharunderscore}to{\isacharunderscore}countable{\isacharunderscore}set{\isacharcolon}\isanewline
\ \ \ \isakeyword{assumes}\ {\isachardoublequoteopen}countable\ X{\isachardoublequoteclose}\ \isakeyword{obtains}\ F\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ F\ i\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ F\ i\ {\isasymsubseteq}\ F\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ finite\ {\isacharparenleft}F\ i{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymUnion}i{\isachardot}\ F\ i{\isacharparenright}\ {\isacharequal}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \ \isacommand{show}\isamarkupfalse%
\ thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ that{\isacharbrackleft}of\ {\isachardoublequoteopen}{\isasymlambda}i{\isachardot}\ if\ X\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ then\ {\isacharbraceleft}{\isacharbraceright}\ else\ from{\isacharunderscore}nat{\isacharunderscore}into\ X\ {\isacharbackquote}\ {\isacharbraceleft}{\isachardot}{\isachardot}i{\isacharbraceright}{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ image{\isacharunderscore}iff\ Ball{\isacharunderscore}def\ intro{\isacharcolon}\ from{\isacharunderscore}nat{\isacharunderscore}into\ split{\isacharcolon}\ if{\isacharunderscore}split{\isacharunderscore}asm{\isacharparenright}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ n\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}i\ m{\isachardot}\ m\ {\isasymle}\ i\ {\isasymlongrightarrow}\ x\ {\isasymnoteq}\ from{\isacharunderscore}nat{\isacharunderscore}into\ X\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}into{\isacharunderscore}surj{\isacharbrackleft}OF\ {\isacartoucheopen}countable\ X{\isacartoucheclose}\ {\isacartoucheopen}x\ {\isasymin}\ X{\isacartoucheclose}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ transfer{\isacharunderscore}countable{\isacharbrackleft}transfer{\isacharunderscore}rule{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}bi{\isacharunderscore}unique\ R\ {\isasymLongrightarrow}\ rel{\isacharunderscore}fun\ {\isacharparenleft}rel{\isacharunderscore}set\ R{\isacharparenright}\ {\isacharparenleft}{\isacharequal}{\isacharparenright}\ countable\ countable{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ rel{\isacharunderscore}funI{\isacharcomma}\ erule\ {\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ bi{\isacharunderscore}unique{\isacharunderscore}rel{\isacharunderscore}set{\isacharunderscore}lemma{\isacharparenright}\isanewline
\ \ \ \ \ {\isacharparenleft}auto\ dest{\isacharcolon}\ countable{\isacharunderscore}image{\isacharunderscore}inj{\isacharunderscore}on{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Uncountable%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{abbreviation}\isamarkupfalse%
\ uncountable\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}uncountable\ A\ {\isasymequiv}\ {\isasymnot}\ countable\ A{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ uncountable{\isacharunderscore}def{\isacharcolon}\ {\isachardoublequoteopen}uncountable\ A\ {\isasymlongleftrightarrow}\ A\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymand}\ {\isasymnot}\ {\isacharparenleft}{\isasymexists}f{\isacharcolon}{\isacharcolon}{\isacharparenleft}nat\ {\isasymRightarrow}\ {\isacharprime}a{\isacharparenright}{\isachardot}\ range\ f\ {\isacharequal}\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ inj{\isacharunderscore}on{\isacharunderscore}inv{\isacharunderscore}into\ simp{\isacharcolon}\ countable{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ {\isacharparenleft}metis\ all{\isacharunderscore}not{\isacharunderscore}in{\isacharunderscore}conv\ inj{\isacharunderscore}on{\isacharunderscore}iff{\isacharunderscore}surj\ subset{\isacharunderscore}UNIV{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ uncountable{\isacharunderscore}bij{\isacharunderscore}betw{\isacharcolon}\ {\isachardoublequoteopen}bij{\isacharunderscore}betw\ f\ A\ B\ {\isasymLongrightarrow}\ uncountable\ B\ {\isasymLongrightarrow}\ uncountable\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ bij{\isacharunderscore}betw{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ countable{\isacharunderscore}image{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ uncountable{\isacharunderscore}infinite{\isacharcolon}\ {\isachardoublequoteopen}uncountable\ A\ {\isasymLongrightarrow}\ infinite\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ countable{\isacharunderscore}finite{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ uncountable{\isacharunderscore}minus{\isacharunderscore}countable{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}uncountable\ A\ {\isasymLongrightarrow}\ countable\ B\ {\isasymLongrightarrow}\ uncountable\ {\isacharparenleft}A\ {\isacharminus}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ countable{\isacharunderscore}Un{\isacharbrackleft}of\ B\ {\isachardoublequoteopen}A\ {\isacharminus}\ B{\isachardoublequoteclose}{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}Diff{\isacharunderscore}eq\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}A\ {\isacharminus}\ {\isacharbraceleft}x{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ countable\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}meson\ countable{\isacharunderscore}Diff\ countable{\isacharunderscore}empty\ countable{\isacharunderscore}insert\ uncountable{\isacharunderscore}minus{\isacharunderscore}countable{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~~/src/HOL/Library/Countable_Set.thy%:%
%:%11=6%:%
%:%27=8%:%
%:%28=8%:%
%:%29=9%:%
%:%30=10%:%
%:%44=12%:%
%:%54=14%:%
%:%55=14%:%
%:%56=15%:%
%:%57=16%:%
%:%58=17%:%
%:%59=17%:%
%:%60=18%:%
%:%63=19%:%
%:%67=19%:%
%:%68=19%:%
%:%69=19%:%
%:%74=19%:%
%:%77=20%:%
%:%78=21%:%
%:%79=21%:%
%:%82=22%:%
%:%86=22%:%
%:%87=22%:%
%:%92=22%:%
%:%95=23%:%
%:%96=24%:%
%:%97=24%:%
%:%100=25%:%
%:%104=25%:%
%:%105=25%:%
%:%106=25%:%
%:%111=25%:%
%:%114=26%:%
%:%115=27%:%
%:%116=27%:%
%:%117=28%:%
%:%120=29%:%
%:%124=29%:%
%:%125=29%:%
%:%126=29%:%
%:%131=29%:%
%:%134=30%:%
%:%135=31%:%
%:%136=31%:%
%:%139=32%:%
%:%143=32%:%
%:%144=32%:%
%:%149=32%:%
%:%152=33%:%
%:%153=34%:%
%:%154=34%:%
%:%157=35%:%
%:%161=35%:%
%:%162=35%:%
%:%167=35%:%
%:%170=36%:%
%:%171=37%:%
%:%172=37%:%
%:%175=38%:%
%:%179=38%:%
%:%180=38%:%
%:%185=38%:%
%:%188=39%:%
%:%189=40%:%
%:%190=40%:%
%:%193=41%:%
%:%197=41%:%
%:%198=41%:%
%:%203=41%:%
%:%206=42%:%
%:%207=43%:%
%:%208=43%:%
%:%211=44%:%
%:%215=44%:%
%:%216=44%:%
%:%221=44%:%
%:%224=45%:%
%:%225=46%:%
%:%226=46%:%
%:%229=47%:%
%:%233=47%:%
%:%234=47%:%
%:%239=47%:%
%:%242=48%:%
%:%243=49%:%
%:%244=49%:%
%:%247=50%:%
%:%251=50%:%
%:%252=50%:%
%:%253=50%:%
%:%267=52%:%
%:%277=54%:%
%:%278=54%:%
%:%279=55%:%
%:%280=56%:%
%:%287=57%:%
%:%288=57%:%
%:%289=58%:%
%:%290=58%:%
%:%291=59%:%
%:%292=59%:%
%:%293=59%:%
%:%294=60%:%
%:%295=60%:%
%:%296=60%:%
%:%297=61%:%
%:%298=61%:%
%:%299=61%:%
%:%300=62%:%
%:%301=62%:%
%:%302=63%:%
%:%303=63%:%
%:%304=63%:%
%:%305=64%:%
%:%306=64%:%
%:%307=65%:%
%:%308=65%:%
%:%309=65%:%
%:%310=66%:%
%:%311=66%:%
%:%312=67%:%
%:%313=67%:%
%:%314=67%:%
%:%315=68%:%
%:%316=68%:%
%:%317=69%:%
%:%318=69%:%
%:%319=69%:%
%:%320=69%:%
%:%321=70%:%
%:%327=70%:%
%:%330=71%:%
%:%331=72%:%
%:%332=72%:%
%:%333=73%:%
%:%334=74%:%
%:%335=75%:%
%:%338=76%:%
%:%342=76%:%
%:%343=76%:%
%:%344=77%:%
%:%345=77%:%
%:%350=77%:%
%:%353=78%:%
%:%354=79%:%
%:%355=79%:%
%:%356=80%:%
%:%357=81%:%
%:%358=82%:%
%:%359=82%:%
%:%360=83%:%
%:%361=84%:%
%:%362=85%:%
%:%363=85%:%
%:%366=86%:%
%:%370=86%:%
%:%371=86%:%
%:%372=86%:%
%:%373=87%:%
%:%374=87%:%
%:%379=87%:%
%:%382=88%:%
%:%383=89%:%
%:%384=89%:%
%:%387=90%:%
%:%391=90%:%
%:%392=90%:%
%:%393=90%:%
%:%394=91%:%
%:%395=91%:%
%:%400=91%:%
%:%403=92%:%
%:%404=93%:%
%:%405=93%:%
%:%408=94%:%
%:%412=94%:%
%:%413=94%:%
%:%414=95%:%
%:%415=95%:%
%:%416=96%:%
%:%417=96%:%
%:%418=97%:%
%:%419=97%:%
%:%420=98%:%
%:%421=98%:%
%:%422=99%:%
%:%423=99%:%
%:%424=100%:%
%:%425=101%:%
%:%431=101%:%
%:%434=102%:%
%:%435=103%:%
%:%436=103%:%
%:%439=104%:%
%:%443=104%:%
%:%444=104%:%
%:%445=105%:%
%:%446=105%:%
%:%447=106%:%
%:%448=106%:%
%:%453=106%:%
%:%456=107%:%
%:%457=108%:%
%:%458=108%:%
%:%459=109%:%
%:%460=110%:%
%:%467=111%:%
%:%468=111%:%
%:%473=111%:%
%:%476=112%:%
%:%477=113%:%
%:%478=113%:%
%:%481=114%:%
%:%485=114%:%
%:%486=114%:%
%:%487=115%:%
%:%488=115%:%
%:%493=115%:%
%:%496=116%:%
%:%497=117%:%
%:%498=117%:%
%:%499=118%:%
%:%502=119%:%
%:%506=119%:%
%:%507=119%:%
%:%508=119%:%
%:%513=119%:%
%:%516=120%:%
%:%517=121%:%
%:%518=121%:%
%:%521=122%:%
%:%525=122%:%
%:%526=122%:%
%:%531=122%:%
%:%534=123%:%
%:%535=124%:%
%:%536=124%:%
%:%539=125%:%
%:%543=125%:%
%:%544=125%:%
%:%549=125%:%
%:%552=126%:%
%:%553=127%:%
%:%554=127%:%
%:%557=128%:%
%:%561=128%:%
%:%562=128%:%
%:%563=128%:%
%:%568=128%:%
%:%571=129%:%
%:%572=130%:%
%:%573=130%:%
%:%576=131%:%
%:%580=131%:%
%:%581=131%:%
%:%582=131%:%
%:%587=131%:%
%:%590=132%:%
%:%591=133%:%
%:%592=133%:%
%:%595=134%:%
%:%599=134%:%
%:%600=134%:%
%:%605=134%:%
%:%608=135%:%
%:%609=136%:%
%:%610=136%:%
%:%613=137%:%
%:%617=137%:%
%:%618=137%:%
%:%619=137%:%
%:%624=137%:%
%:%627=138%:%
%:%628=139%:%
%:%629=139%:%
%:%632=140%:%
%:%636=140%:%
%:%637=140%:%
%:%642=140%:%
%:%645=141%:%
%:%646=142%:%
%:%647=142%:%
%:%650=143%:%
%:%654=143%:%
%:%655=143%:%
%:%660=143%:%
%:%663=144%:%
%:%664=145%:%
%:%665=145%:%
%:%666=146%:%
%:%669=147%:%
%:%673=147%:%
%:%674=147%:%
%:%679=147%:%
%:%682=148%:%
%:%683=149%:%
%:%684=149%:%
%:%685=150%:%
%:%686=151%:%
%:%689=152%:%
%:%693=152%:%
%:%694=152%:%
%:%699=152%:%
%:%702=153%:%
%:%703=154%:%
%:%704=154%:%
%:%705=155%:%
%:%708=156%:%
%:%712=156%:%
%:%713=156%:%
%:%714=156%:%
%:%719=156%:%
%:%722=157%:%
%:%723=158%:%
%:%724=158%:%
%:%725=159%:%
%:%728=160%:%
%:%732=160%:%
%:%733=160%:%
%:%738=160%:%
%:%741=161%:%
%:%742=162%:%
%:%743=162%:%
%:%746=163%:%
%:%750=163%:%
%:%751=163%:%
%:%756=163%:%
%:%759=164%:%
%:%760=165%:%
%:%761=165%:%
%:%762=166%:%
%:%765=167%:%
%:%769=167%:%
%:%770=167%:%
%:%775=167%:%
%:%778=168%:%
%:%779=169%:%
%:%780=169%:%
%:%783=170%:%
%:%787=170%:%
%:%788=170%:%
%:%789=170%:%
%:%803=172%:%
%:%813=174%:%
%:%814=174%:%
%:%815=175%:%
%:%818=176%:%
%:%822=176%:%
%:%823=176%:%
%:%828=176%:%
%:%831=177%:%
%:%832=178%:%
%:%833=178%:%
%:%834=179%:%
%:%835=180%:%
%:%842=181%:%
%:%843=181%:%
%:%844=182%:%
%:%845=182%:%
%:%846=183%:%
%:%847=183%:%
%:%848=183%:%
%:%849=184%:%
%:%850=184%:%
%:%851=184%:%
%:%852=185%:%
%:%853=185%:%
%:%854=186%:%
%:%855=186%:%
%:%856=186%:%
%:%857=187%:%
%:%858=187%:%
%:%859=188%:%
%:%865=188%:%
%:%868=189%:%
%:%869=190%:%
%:%870=190%:%
%:%873=191%:%
%:%877=191%:%
%:%878=191%:%
%:%883=191%:%
%:%886=192%:%
%:%887=193%:%
%:%888=193%:%
%:%889=194%:%
%:%890=195%:%
%:%891=196%:%
%:%892=197%:%
%:%899=198%:%
%:%900=198%:%
%:%901=199%:%
%:%902=199%:%
%:%903=199%:%
%:%904=200%:%
%:%905=200%:%
%:%906=200%:%
%:%907=200%:%
%:%908=201%:%
%:%914=201%:%
%:%917=202%:%
%:%918=203%:%
%:%919=203%:%
%:%922=204%:%
%:%926=204%:%
%:%927=204%:%
%:%928=205%:%
%:%933=205%:%
%:%936=206%:%
%:%937=207%:%
%:%938=207%:%
%:%941=208%:%
%:%945=208%:%
%:%946=208%:%
%:%951=208%:%
%:%954=209%:%
%:%955=210%:%
%:%956=210%:%
%:%957=211%:%
%:%960=212%:%
%:%964=212%:%
%:%965=212%:%
%:%970=212%:%
%:%973=213%:%
%:%974=214%:%
%:%975=214%:%
%:%978=215%:%
%:%982=215%:%
%:%983=215%:%
%:%988=215%:%
%:%991=216%:%
%:%992=217%:%
%:%993=217%:%
%:%996=218%:%
%:%1000=218%:%
%:%1001=218%:%
%:%1002=218%:%
%:%1007=218%:%
%:%1010=219%:%
%:%1011=220%:%
%:%1012=220%:%
%:%1015=221%:%
%:%1019=221%:%
%:%1020=221%:%
%:%1025=221%:%
%:%1028=222%:%
%:%1029=223%:%
%:%1030=223%:%
%:%1033=224%:%
%:%1037=224%:%
%:%1038=224%:%
%:%1043=224%:%
%:%1046=225%:%
%:%1047=226%:%
%:%1048=226%:%
%:%1051=227%:%
%:%1055=227%:%
%:%1056=227%:%
%:%1061=227%:%
%:%1064=228%:%
%:%1065=229%:%
%:%1066=229%:%
%:%1069=230%:%
%:%1073=230%:%
%:%1074=230%:%
%:%1079=230%:%
%:%1082=231%:%
%:%1083=232%:%
%:%1084=232%:%
%:%1087=233%:%
%:%1091=233%:%
%:%1092=233%:%
%:%1097=233%:%
%:%1100=234%:%
%:%1101=235%:%
%:%1102=235%:%
%:%1105=236%:%
%:%1109=236%:%
%:%1110=236%:%
%:%1115=236%:%
%:%1118=237%:%
%:%1119=238%:%
%:%1120=238%:%
%:%1123=239%:%
%:%1127=239%:%
%:%1128=239%:%
%:%1133=239%:%
%:%1136=240%:%
%:%1137=241%:%
%:%1138=241%:%
%:%1141=242%:%
%:%1145=242%:%
%:%1146=242%:%
%:%1151=242%:%
%:%1154=243%:%
%:%1155=244%:%
%:%1156=244%:%
%:%1157=245%:%
%:%1158=246%:%
%:%1159=247%:%
%:%1166=248%:%
%:%1167=248%:%
%:%1168=249%:%
%:%1169=249%:%
%:%1170=250%:%
%:%1171=250%:%
%:%1172=250%:%
%:%1173=251%:%
%:%1174=251%:%
%:%1175=251%:%
%:%1176=251%:%
%:%1177=252%:%
%:%1183=252%:%
%:%1186=253%:%
%:%1187=254%:%
%:%1188=254%:%
%:%1189=255%:%
%:%1190=256%:%
%:%1191=257%:%
%:%1192=258%:%
%:%1195=259%:%
%:%1199=259%:%
%:%1200=259%:%
%:%1201=259%:%
%:%1206=259%:%
%:%1209=260%:%
%:%1210=261%:%
%:%1211=261%:%
%:%1212=262%:%
%:%1213=263%:%
%:%1214=264%:%
%:%1215=265%:%
%:%1222=266%:%
%:%1223=266%:%
%:%1228=266%:%
%:%1231=267%:%
%:%1232=268%:%
%:%1233=268%:%
%:%1234=269%:%
%:%1237=270%:%
%:%1241=270%:%
%:%1242=270%:%
%:%1243=270%:%
%:%1248=270%:%
%:%1251=271%:%
%:%1252=272%:%
%:%1253=272%:%
%:%1254=273%:%
%:%1261=274%:%
%:%1262=274%:%
%:%1263=275%:%
%:%1264=275%:%
%:%1265=276%:%
%:%1266=276%:%
%:%1267=277%:%
%:%1268=277%:%
%:%1269=277%:%
%:%1270=278%:%
%:%1271=278%:%
%:%1272=279%:%
%:%1278=279%:%
%:%1281=280%:%
%:%1282=281%:%
%:%1283=281%:%
%:%1286=282%:%
%:%1290=282%:%
%:%1291=282%:%
%:%1292=282%:%
%:%1297=282%:%
%:%1300=283%:%
%:%1301=284%:%
%:%1302=284%:%
%:%1305=285%:%
%:%1309=285%:%
%:%1310=285%:%
%:%1315=285%:%
%:%1318=286%:%
%:%1319=287%:%
%:%1320=287%:%
%:%1323=288%:%
%:%1327=288%:%
%:%1328=288%:%
%:%1329=288%:%
%:%1334=288%:%
%:%1337=289%:%
%:%1338=290%:%
%:%1339=290%:%
%:%1342=291%:%
%:%1346=291%:%
%:%1347=291%:%
%:%1348=291%:%
%:%1353=291%:%
%:%1356=292%:%
%:%1357=293%:%
%:%1358=293%:%
%:%1361=294%:%
%:%1365=294%:%
%:%1366=294%:%
%:%1367=294%:%
%:%1372=294%:%
%:%1375=295%:%
%:%1376=296%:%
%:%1377=296%:%
%:%1378=297%:%
%:%1381=298%:%
%:%1385=298%:%
%:%1386=298%:%
%:%1387=298%:%
%:%1392=298%:%
%:%1395=299%:%
%:%1396=300%:%
%:%1397=300%:%
%:%1404=301%:%
%:%1405=301%:%
%:%1419=303%:%
%:%1429=305%:%
%:%1430=305%:%
%:%1431=306%:%
%:%1432=307%:%
%:%1439=308%:%
%:%1440=308%:%
%:%1441=309%:%
%:%1442=309%:%
%:%1443=310%:%
%:%1444=310%:%
%:%1445=311%:%
%:%1446=311%:%
%:%1447=312%:%
%:%1448=313%:%
%:%1449=313%:%
%:%1450=314%:%
%:%1451=314%:%
%:%1452=315%:%
%:%1453=315%:%
%:%1454=315%:%
%:%1455=315%:%
%:%1456=316%:%
%:%1462=316%:%
%:%1465=317%:%
%:%1466=318%:%
%:%1467=318%:%
%:%1468=319%:%
%:%1475=320%:%
%:%1476=320%:%
%:%1477=321%:%
%:%1478=321%:%
%:%1479=321%:%
%:%1480=321%:%
%:%1481=322%:%
%:%1482=322%:%
%:%1483=322%:%
%:%1484=323%:%
%:%1485=323%:%
%:%1486=324%:%
%:%1492=324%:%
%:%1495=325%:%
%:%1496=326%:%
%:%1497=326%:%
%:%1498=327%:%
%:%1499=328%:%
%:%1502=329%:%
%:%1506=329%:%
%:%1507=329%:%
%:%1508=329%:%
%:%1513=329%:%
%:%1516=330%:%
%:%1517=331%:%
%:%1518=331%:%
%:%1519=332%:%
%:%1526=333%:%
%:%1527=333%:%
%:%1528=333%:%
%:%1529=334%:%
%:%1530=334%:%
%:%1531=335%:%
%:%1532=335%:%
%:%1533=336%:%
%:%1534=336%:%
%:%1535=337%:%
%:%1536=337%:%
%:%1537=337%:%
%:%1538=338%:%
%:%1539=338%:%
%:%1540=339%:%
%:%1541=339%:%
%:%1542=340%:%
%:%1543=340%:%
%:%1544=341%:%
%:%1545=341%:%
%:%1546=342%:%
%:%1552=342%:%
%:%1555=343%:%
%:%1556=344%:%
%:%1557=344%:%
%:%1558=345%:%
%:%1561=346%:%
%:%1565=346%:%
%:%1566=346%:%
%:%1567=347%:%
%:%1581=349%:%
%:%1591=351%:%
%:%1592=351%:%
%:%1593=352%:%
%:%1594=353%:%
%:%1595=354%:%
%:%1596=354%:%
%:%1599=355%:%
%:%1603=355%:%
%:%1604=355%:%
%:%1605=356%:%
%:%1610=356%:%
%:%1613=357%:%
%:%1614=358%:%
%:%1615=358%:%
%:%1618=359%:%
%:%1622=359%:%
%:%1623=359%:%
%:%1624=359%:%
%:%1629=359%:%
%:%1632=360%:%
%:%1633=361%:%
%:%1634=361%:%
%:%1637=362%:%
%:%1641=362%:%
%:%1642=362%:%
%:%1647=362%:%
%:%1650=363%:%
%:%1651=364%:%
%:%1652=364%:%
%:%1653=365%:%
%:%1656=366%:%
%:%1660=366%:%
%:%1661=366%:%
%:%1662=366%:%
%:%1667=366%:%
%:%1670=367%:%
%:%1671=368%:%
%:%1672=368%:%
%:%1675=369%:%
%:%1679=369%:%
%:%1680=369%:%
%:%1685=369%:%
%:%1690=370%:%
%:%1695=371%:%