%
\begin{isabellebody}%
\setisabellecontext{Countable}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Encoding (almost) everything into natural numbers%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Countable\isanewline
\isakeyword{imports}\ Old{\isacharunderscore}Datatype\ HOL{\isachardot}Rat\ Nat{\isacharunderscore}Bijection\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{The class of countable types%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{class}\isamarkupfalse%
\ countable\ {\isacharequal}\isanewline
\ \ \isakeyword{assumes}\ ex{\isacharunderscore}inj{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}to{\isacharunderscore}nat\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardot}\ inj\ to{\isacharunderscore}nat{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ countable{\isacharunderscore}classI{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}x\ y{\isachardot}\ f\ x\ {\isacharequal}\ f\ y\ {\isasymLongrightarrow}\ x\ {\isacharequal}\ y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}OFCLASS{\isacharparenleft}{\isacharprime}a{\isacharcomma}\ countable{\isacharunderscore}class{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}intro{\isacharunderscore}classes{\isacharcomma}\ rule\ exI{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}inj\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ injI\ {\isacharbrackleft}OF\ assms{\isacharbrackright}{\isacharparenright}\ assumption\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Conversion functions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ to{\isacharunderscore}nat\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a{\isacharcolon}{\isacharcolon}countable\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}to{\isacharunderscore}nat\ {\isacharequal}\ {\isacharparenleft}SOME\ f{\isachardot}\ inj\ f{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ from{\isacharunderscore}nat\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}a{\isacharcolon}{\isacharcolon}countable{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}from{\isacharunderscore}nat\ {\isacharequal}\ inv\ {\isacharparenleft}to{\isacharunderscore}nat\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isasymRightarrow}\ nat{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inj{\isacharunderscore}to{\isacharunderscore}nat\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}inj\ to{\isacharunderscore}nat{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exE{\isacharunderscore}some\ {\isacharbrackleft}OF\ ex{\isacharunderscore}inj{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}simp\ add{\isacharcolon}\ to{\isacharunderscore}nat{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inj{\isacharunderscore}on{\isacharunderscore}to{\isacharunderscore}nat{\isacharbrackleft}simp{\isacharcomma}\ intro{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ to{\isacharunderscore}nat\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}to{\isacharunderscore}nat\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ inj{\isacharunderscore}on{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ surj{\isacharunderscore}from{\isacharunderscore}nat\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}surj\ from{\isacharunderscore}nat{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inj{\isacharunderscore}imp{\isacharunderscore}surj{\isacharunderscore}inv{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ to{\isacharunderscore}nat{\isacharunderscore}split\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}to{\isacharunderscore}nat\ x\ {\isacharequal}\ to{\isacharunderscore}nat\ y\ {\isasymlongleftrightarrow}\ x\ {\isacharequal}\ y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ injD\ {\isacharbrackleft}OF\ inj{\isacharunderscore}to{\isacharunderscore}nat{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ from{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}nat\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}from{\isacharunderscore}nat\ {\isacharparenleft}to{\isacharunderscore}nat\ x{\isacharparenright}\ {\isacharequal}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ from{\isacharunderscore}nat{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Finite types are countable%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{subclass}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ finite{\isacharparenright}\ countable\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}UNIV{\isacharcolon}{\isacharcolon}{\isacharprime}a\ set{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ finite{\isacharunderscore}UNIV{\isacharparenright}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ finite{\isacharunderscore}conv{\isacharunderscore}nat{\isacharunderscore}seg{\isacharunderscore}image\ {\isacharbrackleft}of\ {\isachardoublequoteopen}UNIV{\isacharcolon}{\isacharcolon}{\isacharprime}a\ set{\isachardoublequoteclose}{\isacharbrackright}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n\ \isakeyword{and}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{where}\ {\isachardoublequoteopen}UNIV\ {\isacharequal}\ f\ {\isacharbackquote}\ {\isacharbraceleft}i{\isachardot}\ i\ {\isacharless}\ n{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}surj\ f{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ surj{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj\ {\isacharparenleft}inv\ f{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ surj{\isacharunderscore}imp{\isacharunderscore}inj{\isacharunderscore}inv{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}to{\isacharunderscore}nat\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isasymRightarrow}\ nat{\isachardot}\ inj\ to{\isacharunderscore}nat{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exI{\isacharbrackleft}of\ inj{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Automatically proving countability of old-style datatypes%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{context}\isamarkupfalse%
\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isakeyword{qualified}\ \isacommand{inductive}\isamarkupfalse%
\ finite{\isacharunderscore}item\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ Old{\isacharunderscore}Datatype{\isachardot}item\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ undefined{\isacharcolon}\ {\isachardoublequoteopen}finite{\isacharunderscore}item\ undefined{\isachardoublequoteclose}\isanewline
{\isacharbar}\ In{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}finite{\isacharunderscore}item\ x\ {\isasymLongrightarrow}\ finite{\isacharunderscore}item\ {\isacharparenleft}Old{\isacharunderscore}Datatype{\isachardot}In{\isadigit{0}}\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ In{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}finite{\isacharunderscore}item\ x\ {\isasymLongrightarrow}\ finite{\isacharunderscore}item\ {\isacharparenleft}Old{\isacharunderscore}Datatype{\isachardot}In{\isadigit{1}}\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ Leaf{\isacharcolon}\ {\isachardoublequoteopen}finite{\isacharunderscore}item\ {\isacharparenleft}Old{\isacharunderscore}Datatype{\isachardot}Leaf\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ Scons{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}finite{\isacharunderscore}item\ x{\isacharsemicolon}\ finite{\isacharunderscore}item\ y{\isasymrbrakk}\ {\isasymLongrightarrow}\ finite{\isacharunderscore}item\ {\isacharparenleft}Old{\isacharunderscore}Datatype{\isachardot}Scons\ x\ y{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isakeyword{qualified}\ \isacommand{function}\isamarkupfalse%
\ nth{\isacharunderscore}item\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}a{\isacharcolon}{\isacharcolon}countable{\isacharparenright}\ Old{\isacharunderscore}Datatype{\isachardot}item{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nth{\isacharunderscore}item\ {\isadigit{0}}\ {\isacharequal}\ undefined{\isachardoublequoteclose}\isanewline
{\isacharbar}\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ {\isacharparenleft}Suc\ n{\isacharparenright}\ {\isacharequal}\isanewline
\ \ {\isacharparenleft}case\ sum{\isacharunderscore}decode\ n\ of\isanewline
\ \ \ \ Inl\ i\ {\isasymRightarrow}\isanewline
\ \ \ \ {\isacharparenleft}case\ sum{\isacharunderscore}decode\ i\ of\isanewline
\ \ \ \ \ \ Inl\ j\ {\isasymRightarrow}\ Old{\isacharunderscore}Datatype{\isachardot}In{\isadigit{0}}\ {\isacharparenleft}nth{\isacharunderscore}item\ j{\isacharparenright}\isanewline
\ \ \ \ {\isacharbar}\ Inr\ j\ {\isasymRightarrow}\ Old{\isacharunderscore}Datatype{\isachardot}In{\isadigit{1}}\ {\isacharparenleft}nth{\isacharunderscore}item\ j{\isacharparenright}{\isacharparenright}\isanewline
\ \ {\isacharbar}\ Inr\ i\ {\isasymRightarrow}\isanewline
\ \ \ \ {\isacharparenleft}case\ sum{\isacharunderscore}decode\ i\ of\isanewline
\ \ \ \ \ \ Inl\ j\ {\isasymRightarrow}\ Old{\isacharunderscore}Datatype{\isachardot}Leaf\ {\isacharparenleft}from{\isacharunderscore}nat\ j{\isacharparenright}\isanewline
\ \ \ \ {\isacharbar}\ Inr\ j\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ {\isacharparenleft}case\ prod{\isacharunderscore}decode\ j\ of\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}\ {\isasymRightarrow}\ Old{\isacharunderscore}Datatype{\isachardot}Scons\ {\isacharparenleft}nth{\isacharunderscore}item\ a{\isacharparenright}\ {\isacharparenleft}nth{\isacharunderscore}item\ b{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ pat{\isacharunderscore}completeness\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ le{\isacharunderscore}sum{\isacharunderscore}encode{\isacharunderscore}Inl{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isasymle}\ y\ {\isasymLongrightarrow}\ x\ {\isasymle}\ sum{\isacharunderscore}encode\ {\isacharparenleft}Inl\ y{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ sum{\isacharunderscore}encode{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ le{\isacharunderscore}sum{\isacharunderscore}encode{\isacharunderscore}Inr{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isasymle}\ y\ {\isasymLongrightarrow}\ x\ {\isasymle}\ sum{\isacharunderscore}encode\ {\isacharparenleft}Inr\ y{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ sum{\isacharunderscore}encode{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\isakeyword{qualified}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\ \isacommand{termination}\isamarkupfalse%
\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}relation\ {\isachardoublequoteopen}measure\ id{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isacharparenleft}auto\ simp\ flip{\isacharcolon}\ sum{\isacharunderscore}encode{\isacharunderscore}eq\ prod{\isacharunderscore}encode{\isacharunderscore}eq\isanewline
\ \ \ \ simp{\isacharcolon}\ le{\isacharunderscore}imp{\isacharunderscore}less{\isacharunderscore}Suc\ le{\isacharunderscore}sum{\isacharunderscore}encode{\isacharunderscore}Inl\ le{\isacharunderscore}sum{\isacharunderscore}encode{\isacharunderscore}Inr\isanewline
\ \ \ \ le{\isacharunderscore}prod{\isacharunderscore}encode{\isacharunderscore}{\isadigit{1}}\ le{\isacharunderscore}prod{\isacharunderscore}encode{\isacharunderscore}{\isadigit{2}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nth{\isacharunderscore}item{\isacharunderscore}covers{\isacharcolon}\ {\isachardoublequoteopen}finite{\isacharunderscore}item\ x\ {\isasymLongrightarrow}\ {\isasymexists}n{\isachardot}\ nth{\isacharunderscore}item\ n\ {\isacharequal}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ set{\isacharcolon}\ finite{\isacharunderscore}item{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ undefined\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ {\isadigit{0}}\ {\isacharequal}\ undefined{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}In{\isadigit{0}}\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ n\ \isakeyword{where}\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ n\ {\isacharequal}\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ {\isacharparenleft}Suc\ {\isacharparenleft}sum{\isacharunderscore}encode\ {\isacharparenleft}Inl\ {\isacharparenleft}sum{\isacharunderscore}encode\ {\isacharparenleft}Inl\ n{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Old{\isacharunderscore}Datatype{\isachardot}In{\isadigit{0}}\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}In{\isadigit{1}}\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ n\ \isakeyword{where}\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ n\ {\isacharequal}\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ {\isacharparenleft}Suc\ {\isacharparenleft}sum{\isacharunderscore}encode\ {\isacharparenleft}Inl\ {\isacharparenleft}sum{\isacharunderscore}encode\ {\isacharparenleft}Inr\ n{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Old{\isacharunderscore}Datatype{\isachardot}In{\isadigit{1}}\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Leaf\ a{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ {\isacharparenleft}Suc\ {\isacharparenleft}sum{\isacharunderscore}encode\ {\isacharparenleft}Inr\ {\isacharparenleft}sum{\isacharunderscore}encode\ {\isacharparenleft}Inl\ {\isacharparenleft}to{\isacharunderscore}nat\ a{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Old{\isacharunderscore}Datatype{\isachardot}Leaf\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Scons\ x\ y{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ j\ \isakeyword{where}\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ i\ {\isacharequal}\ x{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ j\ {\isacharequal}\ y{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}nth{\isacharunderscore}item\isanewline
\ \ \ \ {\isacharparenleft}Suc\ {\isacharparenleft}sum{\isacharunderscore}encode\ {\isacharparenleft}Inr\ {\isacharparenleft}sum{\isacharunderscore}encode\ {\isacharparenleft}Inr\ {\isacharparenleft}prod{\isacharunderscore}encode\ {\isacharparenleft}i{\isacharcomma}\ j{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Old{\isacharunderscore}Datatype{\isachardot}Scons\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ countable{\isacharunderscore}datatype{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ Rep\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}b\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}a{\isacharcolon}{\isacharcolon}countable{\isacharparenright}\ Old{\isacharunderscore}Datatype{\isachardot}item{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ Abs\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}a{\isacharcolon}{\isacharcolon}countable{\isacharparenright}\ Old{\isacharunderscore}Datatype{\isachardot}item\ {\isasymRightarrow}\ {\isacharprime}b{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ rep{\isacharunderscore}set\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}a{\isacharcolon}{\isacharcolon}countable{\isacharparenright}\ Old{\isacharunderscore}Datatype{\isachardot}item\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ type{\isacharcolon}\ {\isachardoublequoteopen}type{\isacharunderscore}definition\ Rep\ Abs\ {\isacharparenleft}Collect\ rep{\isacharunderscore}set{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharunderscore}item{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}\ rep{\isacharunderscore}set\ x\ {\isasymLongrightarrow}\ finite{\isacharunderscore}item\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}OFCLASS{\isacharparenleft}{\isacharprime}b{\isacharcomma}\ countable{\isacharunderscore}class{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ f\ \isakeyword{where}\ {\isachardoublequoteopen}f\ y\ {\isacharequal}\ {\isacharparenleft}LEAST\ n{\isachardot}\ nth{\isacharunderscore}item\ n\ {\isacharequal}\ Rep\ y{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{for}\ y\isanewline
\ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}b\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}rep{\isacharunderscore}set\ {\isacharparenleft}Rep\ y{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ type{\isacharunderscore}definition{\isachardot}Rep\ {\isacharbrackleft}OF\ type{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}item\ {\isacharparenleft}Rep\ y{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ finite{\isacharunderscore}item{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}n{\isachardot}\ nth{\isacharunderscore}item\ n\ {\isacharequal}\ Rep\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ nth{\isacharunderscore}item{\isacharunderscore}covers{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}nth{\isacharunderscore}item\ {\isacharparenleft}f\ y{\isacharparenright}\ {\isacharequal}\ Rep\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ f{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ LeastI{\isacharunderscore}ex{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Abs\ {\isacharparenleft}nth{\isacharunderscore}item\ {\isacharparenleft}f\ y{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ type{\isacharunderscore}definition{\isachardot}Rep{\isacharunderscore}inverse\ {\isacharbrackleft}OF\ type{\isacharbrackright}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}inj\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ inj{\isacharunderscore}on{\isacharunderscore}inverseI{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isacharcolon}{\isacharcolon}{\isacharprime}b\ {\isasymRightarrow}\ nat{\isachardot}\ inj\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharminus}\ {\isacharparenleft}rule\ exI{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimML
\isanewline
%
\endisadelimML
%
\isatagML
\isacommand{ML}\isamarkupfalse%
\ {\isacartoucheopen}\isanewline
\ \ fun\ old{\isacharunderscore}countable{\isacharunderscore}datatype{\isacharunderscore}tac\ ctxt\ {\isacharequal}\isanewline
\ \ \ \ SUBGOAL\ {\isacharparenleft}fn\ {\isacharparenleft}goal{\isacharcomma}\ {\isacharunderscore}{\isacharparenright}\ {\isacharequal}{\isachargreater}\isanewline
\ \ \ \ \ \ let\isanewline
\ \ \ \ \ \ \ \ val\ ty{\isacharunderscore}name\ {\isacharequal}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}case\ goal\ of\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharunderscore}\ {\isachardollar}\ Const\ {\isacharparenleft}\isactrlconstUNDERSCOREname {\isasymopen}Pure{\isachardot}type{\isasymclose}{\isacharcomma}\ Type\ {\isacharparenleft}\isactrltypeUNDERSCOREname {\isasymopen}itself{\isasymclose}{\isacharcomma}\ {\isacharbrackleft}Type\ {\isacharparenleft}n{\isacharcomma}\ {\isacharunderscore}{\isacharparenright}{\isacharbrackright}{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}{\isachargreater}\ n\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbar}\ {\isacharunderscore}\ {\isacharequal}{\isachargreater}\ raise\ Match{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ val\ typedef{\isacharunderscore}info\ {\isacharequal}\ hd\ {\isacharparenleft}Typedef{\isachardot}get{\isacharunderscore}info\ ctxt\ ty{\isacharunderscore}name{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ val\ typedef{\isacharunderscore}thm\ {\isacharequal}\ {\isacharhash}type{\isacharunderscore}definition\ {\isacharparenleft}snd\ typedef{\isacharunderscore}info{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ val\ pred{\isacharunderscore}name\ {\isacharequal}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}case\ HOLogic{\isachardot}dest{\isacharunderscore}Trueprop\ {\isacharparenleft}Thm{\isachardot}concl{\isacharunderscore}of\ typedef{\isacharunderscore}thm{\isacharparenright}\ of\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharunderscore}\ {\isachardollar}\ {\isacharunderscore}\ {\isachardollar}\ {\isacharunderscore}\ {\isachardollar}\ {\isacharparenleft}{\isacharunderscore}\ {\isachardollar}\ Const\ {\isacharparenleft}n{\isacharcomma}\ {\isacharunderscore}{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}{\isachargreater}\ n\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbar}\ {\isacharunderscore}\ {\isacharequal}{\isachargreater}\ raise\ Match{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ val\ induct{\isacharunderscore}info\ {\isacharequal}\ Inductive{\isachardot}the{\isacharunderscore}inductive{\isacharunderscore}global\ ctxt\ pred{\isacharunderscore}name\isanewline
\ \ \ \ \ \ \ \ val\ pred{\isacharunderscore}names\ {\isacharequal}\ {\isacharhash}names\ {\isacharparenleft}fst\ induct{\isacharunderscore}info{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ val\ induct{\isacharunderscore}thms\ {\isacharequal}\ {\isacharhash}inducts\ {\isacharparenleft}snd\ induct{\isacharunderscore}info{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ val\ alist\ {\isacharequal}\ pred{\isacharunderscore}names\ {\isachartilde}{\isachartilde}\ induct{\isacharunderscore}thms\isanewline
\ \ \ \ \ \ \ \ val\ induct{\isacharunderscore}thm\ {\isacharequal}\ the\ {\isacharparenleft}AList{\isachardot}lookup\ {\isacharparenleft}op\ {\isacharequal}{\isacharparenright}\ alist\ pred{\isacharunderscore}name{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ val\ vars\ {\isacharequal}\ rev\ {\isacharparenleft}Term{\isachardot}add{\isacharunderscore}vars\ {\isacharparenleft}Thm{\isachardot}prop{\isacharunderscore}of\ induct{\isacharunderscore}thm{\isacharparenright}\ {\isacharbrackleft}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ val\ insts\ {\isacharequal}\ vars\ {\isacharbar}{\isachargreater}\ map\ {\isacharparenleft}fn\ {\isacharparenleft}{\isacharunderscore}{\isacharcomma}\ T{\isacharparenright}\ {\isacharequal}{\isachargreater}\ try\ {\isacharparenleft}Thm{\isachardot}cterm{\isacharunderscore}of\ ctxt{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Const\ {\isacharparenleft}\isactrlconstUNDERSCOREname {\isasymopen}Countable{\isachardot}finite{\isacharunderscore}item{\isasymclose}{\isacharcomma}\ T{\isacharparenright}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ val\ induct{\isacharunderscore}thm{\isacharprime}\ {\isacharequal}\ Thm{\isachardot}instantiate{\isacharprime}\ {\isacharbrackleft}{\isacharbrackright}\ insts\ induct{\isacharunderscore}thm\isanewline
\ \ \ \ \ \ \ \ val\ rules\ {\isacharequal}\ {\isacharat}{\isacharbraceleft}thms\ finite{\isacharunderscore}item{\isachardot}intros{\isacharbraceright}\isanewline
\ \ \ \ \ \ in\isanewline
\ \ \ \ \ \ \ \ SOLVED{\isacharprime}\ {\isacharparenleft}fn\ i\ {\isacharequal}{\isachargreater}\ EVERY\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbrackleft}resolve{\isacharunderscore}tac\ ctxt\ {\isacharat}{\isacharbraceleft}thms\ countable{\isacharunderscore}datatype{\isacharbraceright}\ i{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ resolve{\isacharunderscore}tac\ ctxt\ {\isacharbrackleft}typedef{\isacharunderscore}thm{\isacharbrackright}\ i{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ eresolve{\isacharunderscore}tac\ ctxt\ {\isacharbrackleft}induct{\isacharunderscore}thm{\isacharprime}{\isacharbrackright}\ i{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ REPEAT\ {\isacharparenleft}resolve{\isacharunderscore}tac\ ctxt\ rules\ i\ ORELSE\ assume{\isacharunderscore}tac\ ctxt\ i{\isacharparenright}{\isacharbrackright}{\isacharparenright}\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ end{\isacharparenright}\isanewline
{\isacartoucheclose}%
\endisatagML
{\isafoldML}%
%
\isadelimML
\isanewline
%
\endisadelimML
\isanewline
\isacommand{end}\isamarkupfalse%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Automatically proving countability of datatypes%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimML
%
\endisadelimML
%
\isatagML
\isacommand{ML{\isacharunderscore}file}\isamarkupfalse%
\ {\isacartoucheopen}{\isachardot}{\isachardot}{\isacharslash}Tools{\isacharslash}BNF{\isacharslash}bnf{\isacharunderscore}lfp{\isacharunderscore}countable{\isachardot}ML{\isacartoucheclose}\isanewline
\isanewline
\isacommand{ML}\isamarkupfalse%
\ {\isacartoucheopen}\isanewline
fun\ countable{\isacharunderscore}datatype{\isacharunderscore}tac\ ctxt\ st\ {\isacharequal}\isanewline
\ \ {\isacharparenleft}case\ try\ {\isacharparenleft}fn\ {\isacharparenleft}{\isacharparenright}\ {\isacharequal}{\isachargreater}\ HEADGOAL\ {\isacharparenleft}old{\isacharunderscore}countable{\isacharunderscore}datatype{\isacharunderscore}tac\ ctxt{\isacharparenright}\ st{\isacharparenright}\ {\isacharparenleft}{\isacharparenright}\ of\isanewline
\ \ \ \ SOME\ res\ {\isacharequal}{\isachargreater}\ res\isanewline
\ \ {\isacharbar}\ NONE\ {\isacharequal}{\isachargreater}\ BNF{\isacharunderscore}LFP{\isacharunderscore}Countable{\isachardot}countable{\isacharunderscore}datatype{\isacharunderscore}tac\ ctxt\ st{\isacharparenright}{\isacharsemicolon}\isanewline
\isanewline
{\isacharparenleft}{\isacharasterisk}\ compatibility\ {\isacharasterisk}{\isacharparenright}\isanewline
fun\ countable{\isacharunderscore}tac\ ctxt\ {\isacharequal}\isanewline
\ \ SELECT{\isacharunderscore}GOAL\ {\isacharparenleft}countable{\isacharunderscore}datatype{\isacharunderscore}tac\ ctxt{\isacharparenright}{\isacharsemicolon}\isanewline
{\isacartoucheclose}\isanewline
\isanewline
\isacommand{method{\isacharunderscore}setup}\isamarkupfalse%
\ countable{\isacharunderscore}datatype\ {\isacharequal}\ {\isacartoucheopen}\isanewline
\ \ Scan{\isachardot}succeed\ {\isacharparenleft}SIMPLE{\isacharunderscore}METHOD\ o\ countable{\isacharunderscore}datatype{\isacharunderscore}tac{\isacharparenright}\isanewline
{\isacartoucheclose}\ {\isachardoublequoteopen}prove\ countable\ class\ instances\ for\ datatypes{\isachardoublequoteclose}%
\endisatagML
{\isafoldML}%
%
\isadelimML
%
\endisadelimML
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{More Countable types%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Naturals%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{instance}\isamarkupfalse%
\ nat\ {\isacharcolon}{\isacharcolon}\ countable\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ countable{\isacharunderscore}classI\ {\isacharbrackleft}of\ {\isachardoublequoteopen}id{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Pairs%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{instance}\isamarkupfalse%
\ prod\ {\isacharcolon}{\isacharcolon}\ {\isacharparenleft}countable{\isacharcomma}\ countable{\isacharparenright}\ countable\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ countable{\isacharunderscore}classI\ {\isacharbrackleft}of\ {\isachardoublequoteopen}{\isasymlambda}{\isacharparenleft}x{\isacharcomma}\ y{\isacharparenright}{\isachardot}\ prod{\isacharunderscore}encode\ {\isacharparenleft}to{\isacharunderscore}nat\ x{\isacharcomma}\ to{\isacharunderscore}nat\ y{\isacharparenright}{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ prod{\isacharunderscore}encode{\isacharunderscore}eq{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Sums%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{instance}\isamarkupfalse%
\ sum\ {\isacharcolon}{\isacharcolon}\ {\isacharparenleft}countable{\isacharcomma}\ countable{\isacharparenright}\ countable\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ countable{\isacharunderscore}classI\ {\isacharbrackleft}of\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}x{\isachardot}\ case\ x\ of\ Inl\ a\ {\isasymRightarrow}\ to{\isacharunderscore}nat\ {\isacharparenleft}False{\isacharcomma}\ to{\isacharunderscore}nat\ a{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbar}\ Inr\ b\ {\isasymRightarrow}\ to{\isacharunderscore}nat\ {\isacharparenleft}True{\isacharcomma}\ to{\isacharunderscore}nat\ b{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ {\isacharparenleft}simp\ split{\isacharcolon}\ sum{\isachardot}split{\isacharunderscore}asm{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Integers%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{instance}\isamarkupfalse%
\ int\ {\isacharcolon}{\isacharcolon}\ countable\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ countable{\isacharunderscore}classI\ {\isacharbrackleft}of\ int{\isacharunderscore}encode{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}simp\ add{\isacharcolon}\ int{\isacharunderscore}encode{\isacharunderscore}eq{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Options%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{instance}\isamarkupfalse%
\ option\ {\isacharcolon}{\isacharcolon}\ {\isacharparenleft}countable{\isacharparenright}\ countable\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ countable{\isacharunderscore}datatype%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Lists%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{instance}\isamarkupfalse%
\ list\ {\isacharcolon}{\isacharcolon}\ {\isacharparenleft}countable{\isacharparenright}\ countable\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ countable{\isacharunderscore}datatype%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
String literals%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{instance}\isamarkupfalse%
\ String{\isachardot}literal\ {\isacharcolon}{\isacharcolon}\ countable\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ countable{\isacharunderscore}classI\ {\isacharbrackleft}of\ {\isachardoublequoteopen}to{\isacharunderscore}nat\ {\isasymcirc}\ String{\isachardot}explode{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}simp\ add{\isacharcolon}\ String{\isachardot}explode{\isacharunderscore}inject{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Functions%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{instance}\isamarkupfalse%
\ {\isachardoublequoteopen}fun{\isachardoublequoteclose}\ {\isacharcolon}{\isacharcolon}\ {\isacharparenleft}finite{\isacharcomma}\ countable{\isacharparenright}\ countable\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ xs\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\ xs{\isacharcolon}\ {\isachardoublequoteopen}set\ xs\ {\isacharequal}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}list\ {\isacharbrackleft}OF\ finite{\isacharunderscore}UNIV{\isacharbrackright}\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}to{\isacharunderscore}nat{\isacharcolon}{\isacharcolon}{\isacharparenleft}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}b{\isacharparenright}\ {\isasymRightarrow}\ nat{\isachardot}\ inj\ to{\isacharunderscore}nat{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}inj\ {\isacharparenleft}{\isasymlambda}f{\isachardot}\ to{\isacharunderscore}nat\ {\isacharparenleft}map\ f\ xs{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ injI{\isacharcomma}\ simp\ add{\isacharcolon}\ xs\ fun{\isacharunderscore}eq{\isacharunderscore}iff{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Typereps%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{instance}\isamarkupfalse%
\ typerep\ {\isacharcolon}{\isacharcolon}\ countable\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ countable{\isacharunderscore}datatype%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{The rationals are countably infinite%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ rat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj\ n\ {\isacharequal}\ {\isacharparenleft}let\ {\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}\ {\isacharequal}\ prod{\isacharunderscore}decode\ n\ in\ Fract\ {\isacharparenleft}int{\isacharunderscore}decode\ a{\isacharparenright}\ {\isacharparenleft}int{\isacharunderscore}decode\ b{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ surj{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isacharcolon}\ {\isachardoublequoteopen}surj\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ surj{\isacharunderscore}def\isanewline
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ r{\isacharcolon}{\isacharcolon}rat\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}n{\isachardot}\ r\ {\isacharequal}\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ r{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\ j\ \isacommand{assume}\isamarkupfalse%
\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}r\ {\isacharequal}\ Fract\ i\ j{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}j\ {\isachargreater}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isacharequal}\ {\isacharparenleft}let\ m\ {\isacharequal}\ int{\isacharunderscore}encode\ i{\isacharsemicolon}\ n\ {\isacharequal}\ int{\isacharunderscore}encode\ j\ in\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj\ {\isacharparenleft}prod{\isacharunderscore}encode\ {\isacharparenleft}m{\isacharcomma}\ n{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ Let{\isacharunderscore}def\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}n{\isachardot}\ r\ {\isacharequal}\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj\ n{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}auto\ simp{\isacharcolon}\ Let{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Rats{\isacharunderscore}eq{\isacharunderscore}range{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isacharcolon}\ {\isachardoublequoteopen}{\isasymrat}\ {\isacharequal}\ range\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ Rats{\isacharunderscore}def\ surj{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{context}\isamarkupfalse%
\ field{\isacharunderscore}char{\isacharunderscore}{\isadigit{0}}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Rats{\isacharunderscore}eq{\isacharunderscore}range{\isacharunderscore}of{\isacharunderscore}rat{\isacharunderscore}o{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymrat}\ {\isacharequal}\ range\ {\isacharparenleft}of{\isacharunderscore}rat\ {\isasymcirc}\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ surj{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ Rats{\isacharunderscore}def\ image{\isacharunderscore}def\ surj{\isacharunderscore}def{\isacharparenright}\ {\isacharparenleft}blast\ intro{\isacharcolon}\ arg{\isacharunderscore}cong{\isacharbrackleft}\isakeyword{where}\ f\ {\isacharequal}\ of{\isacharunderscore}rat{\isacharbrackright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ surj{\isacharunderscore}of{\isacharunderscore}rat{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}r\ {\isasymin}\ {\isasymrat}\ {\isasymLongrightarrow}\ {\isasymexists}n{\isachardot}\ r\ {\isacharequal}\ of{\isacharunderscore}rat\ {\isacharparenleft}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj\ n{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ Rats{\isacharunderscore}eq{\isacharunderscore}range{\isacharunderscore}of{\isacharunderscore}rat{\isacharunderscore}o{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj\ image{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{instance}\isamarkupfalse%
\ rat\ {\isacharcolon}{\isacharcolon}\ countable\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}to{\isacharunderscore}nat{\isacharcolon}{\isacharcolon}rat\ {\isasymRightarrow}\ nat{\isachardot}\ inj\ to{\isacharunderscore}nat{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}surj\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ surj{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isacharparenright}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}inj\ {\isacharparenleft}inv\ nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ surj{\isacharunderscore}imp{\isacharunderscore}inj{\isacharunderscore}inv{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ rat{\isacharunderscore}denum{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}f\ {\isacharcolon}{\isacharcolon}\ nat\ {\isasymRightarrow}\ rat{\isachardot}\ surj\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ surj{\isacharunderscore}nat{\isacharunderscore}to{\isacharunderscore}rat{\isacharunderscore}surj\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~~/src/HOL/Library/Countable.thy%:%
%:%11=7%:%
%:%27=9%:%
%:%28=9%:%
%:%29=10%:%
%:%30=11%:%
%:%44=13%:%
%:%54=15%:%
%:%55=15%:%
%:%56=16%:%
%:%57=17%:%
%:%58=18%:%
%:%59=18%:%
%:%60=19%:%
%:%61=20%:%
%:%62=21%:%
%:%69=22%:%
%:%70=22%:%
%:%71=23%:%
%:%72=23%:%
%:%73=24%:%
%:%74=24%:%
%:%75=25%:%
%:%90=28%:%
%:%100=30%:%
%:%101=30%:%
%:%102=31%:%
%:%103=32%:%
%:%104=33%:%
%:%105=33%:%
%:%106=34%:%
%:%107=35%:%
%:%108=36%:%
%:%109=36%:%
%:%112=37%:%
%:%116=37%:%
%:%117=37%:%
%:%122=37%:%
%:%125=38%:%
%:%126=39%:%
%:%127=39%:%
%:%130=40%:%
%:%134=40%:%
%:%135=40%:%
%:%136=40%:%
%:%141=40%:%
%:%144=41%:%
%:%145=42%:%
%:%146=42%:%
%:%149=43%:%
%:%153=43%:%
%:%154=43%:%
%:%155=43%:%
%:%160=43%:%
%:%163=44%:%
%:%164=45%:%
%:%165=45%:%
%:%168=46%:%
%:%172=46%:%
%:%173=46%:%
%:%174=46%:%
%:%179=46%:%
%:%182=47%:%
%:%183=48%:%
%:%184=48%:%
%:%185=49%:%
%:%188=50%:%
%:%192=50%:%
%:%193=50%:%
%:%207=53%:%
%:%217=55%:%
%:%218=55%:%
%:%225=56%:%
%:%226=56%:%
%:%227=57%:%
%:%228=57%:%
%:%229=57%:%
%:%230=58%:%
%:%231=58%:%
%:%232=59%:%
%:%233=59%:%
%:%234=60%:%
%:%235=60%:%
%:%236=61%:%
%:%237=61%:%
%:%238=61%:%
%:%239=61%:%
%:%240=61%:%
%:%241=62%:%
%:%242=62%:%
%:%243=62%:%
%:%244=62%:%
%:%245=63%:%
%:%246=63%:%
%:%247=63%:%
%:%248=63%:%
%:%249=64%:%
%:%264=67%:%
%:%274=69%:%
%:%275=69%:%
%:%276=70%:%
%:%277=71%:%
%:%278=72%:%
%:%279=72%:%
%:%280=73%:%
%:%281=74%:%
%:%282=75%:%
%:%283=76%:%
%:%284=77%:%
%:%285=78%:%
%:%286=79%:%
%:%287=79%:%
%:%288=80%:%
%:%289=81%:%
%:%290=82%:%
%:%301=93%:%
%:%308=94%:%
%:%309=94%:%
%:%314=94%:%
%:%317=95%:%
%:%318=96%:%
%:%319=96%:%
%:%326=97%:%
%:%327=97%:%
%:%328=97%:%
%:%333=97%:%
%:%336=98%:%
%:%337=99%:%
%:%338=99%:%
%:%345=100%:%
%:%346=100%:%
%:%347=100%:%
%:%348=101%:%
%:%349=102%:%
%:%356=102%:%
%:%357=102%:%
%:%364=103%:%
%:%365=103%:%
%:%366=104%:%
%:%367=105%:%
%:%368=106%:%
%:%373=106%:%
%:%376=107%:%
%:%377=108%:%
%:%378=108%:%
%:%385=109%:%
%:%386=109%:%
%:%387=110%:%
%:%388=110%:%
%:%389=111%:%
%:%390=111%:%
%:%391=111%:%
%:%392=112%:%
%:%393=112%:%
%:%394=112%:%
%:%395=113%:%
%:%396=113%:%
%:%397=114%:%
%:%398=114%:%
%:%399=115%:%
%:%400=115%:%
%:%401=115%:%
%:%402=115%:%
%:%403=116%:%
%:%404=116%:%
%:%405=116%:%
%:%406=117%:%
%:%407=117%:%
%:%408=117%:%
%:%409=118%:%
%:%410=118%:%
%:%411=119%:%
%:%412=119%:%
%:%413=120%:%
%:%414=120%:%
%:%415=120%:%
%:%416=120%:%
%:%417=121%:%
%:%418=121%:%
%:%419=121%:%
%:%420=122%:%
%:%421=122%:%
%:%422=122%:%
%:%423=123%:%
%:%424=123%:%
%:%425=124%:%
%:%426=124%:%
%:%427=125%:%
%:%428=125%:%
%:%429=126%:%
%:%430=126%:%
%:%431=127%:%
%:%432=127%:%
%:%433=127%:%
%:%434=128%:%
%:%435=128%:%
%:%436=129%:%
%:%437=129%:%
%:%438=130%:%
%:%439=130%:%
%:%440=130%:%
%:%441=130%:%
%:%442=131%:%
%:%443=131%:%
%:%444=132%:%
%:%445=133%:%
%:%446=133%:%
%:%447=134%:%
%:%448=134%:%
%:%449=134%:%
%:%450=135%:%
%:%456=135%:%
%:%459=136%:%
%:%460=137%:%
%:%461=137%:%
%:%462=138%:%
%:%463=139%:%
%:%464=140%:%
%:%465=141%:%
%:%466=142%:%
%:%467=143%:%
%:%474=144%:%
%:%475=144%:%
%:%476=145%:%
%:%477=145%:%
%:%478=146%:%
%:%479=146%:%
%:%480=147%:%
%:%481=147%:%
%:%482=148%:%
%:%483=148%:%
%:%484=149%:%
%:%485=149%:%
%:%486=149%:%
%:%487=150%:%
%:%488=150%:%
%:%489=151%:%
%:%490=151%:%
%:%491=152%:%
%:%492=152%:%
%:%493=153%:%
%:%494=153%:%
%:%495=154%:%
%:%496=154%:%
%:%497=155%:%
%:%498=155%:%
%:%499=155%:%
%:%500=156%:%
%:%501=156%:%
%:%502=157%:%
%:%503=157%:%
%:%504=157%:%
%:%505=158%:%
%:%506=158%:%
%:%507=159%:%
%:%508=159%:%
%:%509=160%:%
%:%510=160%:%
%:%511=161%:%
%:%512=161%:%
%:%513=162%:%
%:%514=162%:%
%:%515=163%:%
%:%521=163%:%
%:%526=164%:%
%:%531=165%:%
%:%532=165%:%
%:%568=196%:%
%:%571=197%:%
%:%572=198%:%
%:%580=201%:%
%:%596=203%:%
%:%597=203%:%
%:%598=204%:%
%:%599=205%:%
%:%600=205%:%
%:%609=214%:%
%:%610=215%:%
%:%611=216%:%
%:%612=216%:%
%:%614=218%:%
%:%628=221%:%
%:%640=223%:%
%:%642=225%:%
%:%643=225%:%
%:%646=226%:%
%:%650=226%:%
%:%651=226%:%
%:%660=228%:%
%:%662=230%:%
%:%663=230%:%
%:%666=231%:%
%:%670=231%:%
%:%671=231%:%
%:%672=232%:%
%:%681=234%:%
%:%683=236%:%
%:%684=236%:%
%:%687=237%:%
%:%691=237%:%
%:%692=237%:%
%:%693=238%:%
%:%694=239%:%
%:%703=241%:%
%:%705=243%:%
%:%706=243%:%
%:%709=244%:%
%:%713=244%:%
%:%714=244%:%
%:%723=246%:%
%:%725=248%:%
%:%726=248%:%
%:%729=249%:%
%:%733=249%:%
%:%734=249%:%
%:%743=251%:%
%:%745=253%:%
%:%746=253%:%
%:%749=254%:%
%:%753=254%:%
%:%754=254%:%
%:%763=256%:%
%:%765=258%:%
%:%766=258%:%
%:%769=259%:%
%:%773=259%:%
%:%774=259%:%
%:%783=261%:%
%:%785=263%:%
%:%786=263%:%
%:%793=264%:%
%:%794=264%:%
%:%795=265%:%
%:%796=265%:%
%:%797=266%:%
%:%798=266%:%
%:%799=266%:%
%:%800=267%:%
%:%801=267%:%
%:%802=268%:%
%:%803=268%:%
%:%804=269%:%
%:%805=269%:%
%:%806=270%:%
%:%807=270%:%
%:%808=271%:%
%:%809=271%:%
%:%810=272%:%
%:%820=274%:%
%:%822=276%:%
%:%823=276%:%
%:%826=277%:%
%:%830=277%:%
%:%831=277%:%
%:%845=280%:%
%:%855=282%:%
%:%856=282%:%
%:%857=283%:%
%:%858=284%:%
%:%859=285%:%
%:%860=285%:%
%:%867=286%:%
%:%868=286%:%
%:%869=287%:%
%:%870=287%:%
%:%871=288%:%
%:%872=288%:%
%:%873=289%:%
%:%874=289%:%
%:%875=290%:%
%:%876=290%:%
%:%877=291%:%
%:%878=291%:%
%:%879=291%:%
%:%880=292%:%
%:%881=292%:%
%:%882=293%:%
%:%883=293%:%
%:%884=294%:%
%:%885=294%:%
%:%886=294%:%
%:%887=295%:%
%:%888=295%:%
%:%889=296%:%
%:%895=296%:%
%:%898=297%:%
%:%899=298%:%
%:%900=298%:%
%:%903=299%:%
%:%907=299%:%
%:%908=299%:%
%:%913=299%:%
%:%916=300%:%
%:%917=301%:%
%:%918=301%:%
%:%919=302%:%
%:%920=303%:%
%:%921=304%:%
%:%922=304%:%
%:%923=305%:%
%:%926=306%:%
%:%930=306%:%
%:%931=306%:%
%:%932=307%:%
%:%933=307%:%
%:%938=307%:%
%:%941=308%:%
%:%942=309%:%
%:%943=309%:%
%:%944=310%:%
%:%947=311%:%
%:%951=311%:%
%:%952=311%:%
%:%957=311%:%
%:%960=312%:%
%:%961=313%:%
%:%962=313%:%
%:%963=314%:%
%:%964=315%:%
%:%965=315%:%
%:%972=316%:%
%:%973=316%:%
%:%974=317%:%
%:%975=317%:%
%:%976=318%:%
%:%977=318%:%
%:%978=319%:%
%:%979=319%:%
%:%980=320%:%
%:%981=320%:%
%:%982=321%:%
%:%983=321%:%
%:%984=321%:%
%:%985=322%:%
%:%986=322%:%
%:%987=323%:%
%:%988=323%:%
%:%989=324%:%
%:%995=324%:%
%:%998=325%:%
%:%999=326%:%
%:%1000=326%:%
%:%1003=327%:%
%:%1007=327%:%
%:%1008=327%:%
%:%1009=327%:%
%:%1014=327%:%
%:%1019=328%:%
%:%1024=329%:%