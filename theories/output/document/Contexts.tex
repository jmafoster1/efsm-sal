%
\begin{isabellebody}%
\setisabellecontext{Contexts}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Contexts%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This theory defines contexts as a way of relating possible constraints on register values to
observable output. We then use contexts to extend the idea of transition subsumption to EFSM
transitions with register update functions.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Contexts\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ \ \ EFSM\ GExp\ CExp\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
\isanewline
\isanewline
\isacommand{type{\isacharunderscore}synonym}\isamarkupfalse%
\ {\isachardoublequoteopen}context{\isachardoublequoteclose}\ {\isacharequal}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ cexp\ fset{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ empty\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context{\isachardoublequoteclose}\ {\isacharparenleft}{\isachardoublequoteopen}{\isasymlbrakk}{\isasymrbrakk}{\isachardoublequoteclose}{\isacharparenright}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}empty\ {\isasymequiv}\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ case\ x\ of\isanewline
\ \ \ \ {\isacharparenleft}V\ v{\isacharparenright}\ {\isasymRightarrow}\ {\isacharparenleft}case\ v\ of\ R\ n\ {\isasymRightarrow}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}\ {\isacharbar}\ I\ n\ {\isasymRightarrow}\ {\isacharbraceleft}{\isacharbar}Bc\ True{\isacharbar}{\isacharbraceright}{\isacharparenright}\ {\isacharbar}\isanewline
\ \ \ \ {\isacharunderscore}\ {\isasymRightarrow}\ {\isacharbraceleft}{\isacharbar}Bc\ True{\isacharbar}{\isacharbraceright}\isanewline
\ \ {\isacharparenright}{\isachardoublequoteclose}\isanewline
\isacommand{syntax}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}updbind{\isachardoublequoteclose}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ updbind{\isachardoublequoteclose}\ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{2}}{\isacharunderscore}\ {\isasymmapsto}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Context{\isachardoublequoteclose}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}updbinds\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isasymlbrakk}{\isacharunderscore}{\isasymrbrakk}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\isacommand{translations}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Update\ f\ {\isacharparenleft}{\isacharunderscore}updbinds\ b\ bs{\isacharparenright}{\isachardoublequoteclose}\ {\isasymrightleftharpoons}\ {\isachardoublequoteopen}{\isacharunderscore}Update\ {\isacharparenleft}{\isacharunderscore}Update\ f\ b{\isacharparenright}\ bs{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Context\ ms{\isachardoublequoteclose}\ {\isacharequal}{\isacharequal}\ {\isachardoublequoteopen}{\isacharunderscore}Update\ {\isasymlbrakk}{\isasymrbrakk}\ ms{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Context\ {\isacharparenleft}{\isacharunderscore}updbinds\ b\ bs{\isacharparenright}{\isachardoublequoteclose}\ {\isasymrightleftharpoons}\ {\isachardoublequoteopen}{\isacharunderscore}Update\ {\isacharparenleft}{\isacharunderscore}Context\ b{\isacharparenright}\ bs{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ empty{\isacharunderscore}register{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}{\isasymrbrakk}\ {\isacharparenleft}V\ {\isacharparenleft}R\ r{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ empty{\isacharunderscore}input{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}{\isasymrbrakk}\ {\isacharparenleft}V\ {\isacharparenleft}I\ i{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Bc\ True{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ consistent{\isacharunderscore}empty{\isacharunderscore}fball{\isacharcolon}\ {\isachardoublequoteopen}fBall\ {\isacharparenleft}{\isasymlbrakk}{\isasymrbrakk}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ Map{\isachardot}empty\ {\isacharequal}\ true{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ r{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}true{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}true{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}def\ gval{\isachardot}simps\ value_eq{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ cval{\isacharunderscore}true\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ empty{\isacharunderscore}not{\isacharunderscore}false{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbar}Bc\ False{\isacharbar}{\isacharbraceright}\ {\isasymnoteq}\ {\isasymlbrakk}{\isasymrbrakk}\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ i{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharunderscore}all\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ i{\isadigit{1}}\ i{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ i{\isadigit{1}}\ i{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ empty{\isacharunderscore}variable{\isacharunderscore}constraints{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}{\isasymrbrakk}\ {\isacharparenleft}V\ {\isacharparenleft}R\ ri{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}\ {\isasymand}\ {\isasymlbrakk}{\isasymrbrakk}\ {\isacharparenleft}V\ {\isacharparenleft}I\ i{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Bc\ True{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ get\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ cexp\ fset{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}get\ c\ {\isacharparenleft}L\ n{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Eq\ n{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}get\ c\ {\isacharparenleft}V\ v{\isacharparenright}\ {\isacharequal}\ c\ {\isacharparenleft}V\ v{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}get\ c\ {\isacharparenleft}Plus\ v\ va{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c\ {\isacharparenleft}Plus\ v\ va{\isacharparenright}{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}c\ {\isacharparenleft}Plus\ va\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}get\ c\ {\isacharparenleft}Minus\ v\ va{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c\ {\isacharparenleft}Minus\ v\ va{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ update\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ cexp\ fset\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}update\ c\ {\isacharparenleft}L\ n{\isacharparenright}\ {\isacharunderscore}\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}update\ c\ k\ v\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}r{\isachardot}\ if\ r{\isacharequal}k\ then\ v\ else\ c\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ conjoin\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}cexp\ fset\ {\isasymRightarrow}\ cexp{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}conjoin\ f\ {\isacharequal}\ foldr\ And\ {\isacharparenleft}sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset\ f{\isacharparenright}\ {\isacharparenleft}Bc\ True{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ consistent\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}consistent\ c\ {\isasymequiv}\ {\isasymexists}s{\isachardot}\ {\isasymforall}r{\isachardot}\ fBall\ {\isacharparenleft}c\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isacharparenleft}cval\ c\ r\ s\ {\isacharequal}\ true{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ subset{\isacharunderscore}consistency{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}r{\isachardot}\ c{\isacharprime}\ r\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ c\ r\ {\isasymLongrightarrow}\ consistent\ c\ {\isasymLongrightarrow}\ consistent\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}s\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ possible{\isacharunderscore}false{\isacharunderscore}not{\isacharunderscore}consistent{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}r{\isachardot}\ c\ r\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Bc\ False{\isacharbar}{\isacharbraceright}\ {\isasymLongrightarrow}\ {\isasymnot}\ consistent\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consistent{\isacharunderscore}def\ conjoin{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}r\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ cval{\isacharunderscore}And\ cval{\isacharunderscore}false\ cval{\isacharunderscore}true{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inconsistent{\isacharunderscore}false{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}consistent\ {\isacharparenleft}{\isasymlambda}i{\isachardot}\ {\isacharbraceleft}{\isacharbar}Bc\ False{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ possible{\isacharunderscore}false{\isacharunderscore}not{\isacharunderscore}consistent\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ consistent{\isacharunderscore}empty{\isacharunderscore}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}empty\ r\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}\ {\isasymor}\ empty\ r\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Bc\ True{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ r{\isacharparenright}\isanewline
\ \ \isacommand{prefer}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharunderscore}all%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ consistent{\isacharunderscore}empty{\isacharunderscore}{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}r{\isachardot}\ c\ r\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Bc\ True{\isacharbar}{\isacharbraceright}{\isacharparenright}\ {\isasymlongrightarrow}\ consistent\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consistent{\isacharunderscore}def\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}And\ cval{\isacharunderscore}true{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ consistent{\isacharunderscore}empty{\isacharunderscore}{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}{\isasymrbrakk}\ r\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}\ {\isasymor}\ gval\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ {\isacharparenleft}conjoin\ {\isacharparenleft}{\isasymlbrakk}{\isasymrbrakk}\ r{\isacharparenright}{\isacharparenright}{\isacharparenright}\ c\ {\isacharequal}\ true{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ r{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consistent{\isacharunderscore}def\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ maybe{\isacharunderscore}double{\isacharunderscore}negation{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ gval{\isacharunderscore}gAnd\ gval{\isachardot}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ gval{\isacharunderscore}gAnd\ gval{\isachardot}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ gval{\isacharunderscore}gAnd\ gval{\isachardot}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ gval{\isacharunderscore}gAnd\ gval{\isachardot}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ consistent{\isacharunderscore}empty\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}consistent\ empty{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consistent{\isacharunderscore}def\ cval{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharless}{\isachargreater}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ r{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ gval{\isacharunderscore}gAnd\ gval{\isachardot}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ gval{\isacharunderscore}gAnd\ gval{\isachardot}simps\ value_eq{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cexp{\isadigit{2}}gexp{\isacharunderscore}double{\isacharunderscore}neg{\isacharcolon}\ {\isachardoublequoteopen}gexp{\isacharunderscore}equiv\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ {\isacharparenleft}Not\ {\isacharparenleft}Not\ x{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ gexp{\isacharunderscore}equiv{\isacharunderscore}def\ gval{\isacharunderscore}gAnd{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ maybe{\isacharunderscore}and{\isacharunderscore}idempotent{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gval{\isacharunderscore}cexp{\isadigit{2}}gexp{\isacharunderscore}double{\isacharunderscore}neg{\isacharcolon}\ {\isachardoublequoteopen}gval\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ {\isacharparenleft}Not\ {\isacharparenleft}Not\ x{\isacharparenright}{\isacharparenright}{\isacharparenright}\ s\ {\isacharequal}\ gval\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ x{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ cexp{\isadigit{2}}gexp{\isacharunderscore}double{\isacharunderscore}neg\ gexp{\isacharunderscore}equiv{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ make{\isacharunderscore}gt\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}cexp\ {\isasymRightarrow}\ cexp{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}gt\ {\isacharparenleft}Bc\ b{\isacharparenright}\ {\isacharequal}\ Bc\ b{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}gt\ Undef\ {\isacharequal}\ Undef{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}gt\ {\isacharparenleft}Eq\ v{\isacharparenright}\ {\isacharequal}\ Gt\ v{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}gt\ {\isacharparenleft}Lt\ v{\isacharparenright}\ {\isacharequal}\ Bc\ True{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}gt\ {\isacharparenleft}Gt\ s{\isacharparenright}\ {\isacharequal}\ Gt\ s{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}gt\ {\isacharparenleft}Not\ v{\isacharparenright}\ {\isacharequal}\ Not\ {\isacharparenleft}make{\isacharunderscore}gt\ v{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}gt\ {\isacharparenleft}And\ v\ va{\isacharparenright}\ {\isacharequal}\ And\ {\isacharparenleft}make{\isacharunderscore}gt\ v{\isacharparenright}\ {\isacharparenleft}make{\isacharunderscore}gt\ va{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ make{\isacharunderscore}gt{\isacharunderscore}twice{\isacharcolon}\ {\isachardoublequoteopen}make{\isacharunderscore}gt\ {\isacharparenleft}make{\isacharunderscore}gt\ x{\isacharparenright}\ {\isacharequal}\ make{\isacharunderscore}gt\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}induct\ x{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cval{\isacharunderscore}make{\isacharunderscore}gt{\isacharunderscore}not{\isacharcolon}\ {\isachardoublequoteopen}cval\ {\isacharparenleft}make{\isacharunderscore}gt\ {\isacharparenleft}not\ x{\isacharparenright}{\isacharparenright}\ r\ s\ {\isacharequal}\ maybe{\isacharunderscore}not\ {\isacharparenleft}cval\ {\isacharparenleft}make{\isacharunderscore}gt\ x{\isacharparenright}\ r\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ x{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ Undef\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}Not{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Bc\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ cval{\isacharunderscore}not\ not{\isachardot}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Eq\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}Not{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Lt\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}Not\ cval{\isacharunderscore}false\ cval{\isacharunderscore}true{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Gt\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}Not{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Not\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}Not\ maybe{\isacharunderscore}double{\isacharunderscore}negation{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}And\ x{\isadigit{1}}\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ cval{\isacharunderscore}And\ cval{\isacharunderscore}Not\ cval{\isacharunderscore}and{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ make{\isacharunderscore}lt\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}cexp\ {\isasymRightarrow}\ cexp{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}lt\ {\isacharparenleft}Bc\ b{\isacharparenright}\ {\isacharequal}\ Bc\ b{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}lt\ Undef\ {\isacharequal}\ Undef{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}lt\ {\isacharparenleft}Eq\ v{\isacharparenright}\ {\isacharequal}\ Lt\ v{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}lt\ {\isacharparenleft}Lt\ v{\isacharparenright}\ {\isacharequal}\ Lt\ v{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}lt\ {\isacharparenleft}Gt\ v{\isacharparenright}\ {\isacharequal}\ Bc\ True{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}lt\ {\isacharparenleft}Not\ v{\isacharparenright}\ {\isacharequal}\ Not\ {\isacharparenleft}make{\isacharunderscore}lt\ v{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}make{\isacharunderscore}lt\ {\isacharparenleft}And\ v\ va{\isacharparenright}\ {\isacharequal}\ And\ {\isacharparenleft}make{\isacharunderscore}lt\ v{\isacharparenright}\ {\isacharparenleft}make{\isacharunderscore}lt\ va{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ make{\isacharunderscore}lt{\isacharunderscore}twice{\isacharcolon}\ {\isachardoublequoteopen}make{\isacharunderscore}lt\ {\isacharparenleft}make{\isacharunderscore}lt\ x{\isacharparenright}\ {\isacharequal}\ make{\isacharunderscore}lt\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}induct\ x{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ guard{\isadigit{2}}pairs\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ guard\ {\isasymRightarrow}\ {\isacharparenleft}aexp\ {\isasymtimes}\ cexp\ fset{\isacharparenright}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Bc\ True{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Bc\ False{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharparenleft}L\ {\isacharparenleft}Num\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ {\isacharbraceleft}{\isacharbar}Bc\ False{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Null\ v{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharparenleft}v{\isacharcomma}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Eq\ v\ {\isacharparenleft}L\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharparenleft}v{\isacharcomma}\ {\isacharbraceleft}{\isacharbar}Eq\ n{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Eq\ {\isacharparenleft}L\ n{\isacharparenright}\ v{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharparenleft}v{\isacharcomma}\ {\isacharbraceleft}{\isacharbar}Eq\ n{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Eq\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Plus\ a{\isadigit{4}}\ a{\isadigit{3}}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{2}}\ a{\isadigit{1}}{\isacharparenright}{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{3}}\ a{\isadigit{4}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{2}}\ a{\isadigit{1}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{3}}\ a{\isadigit{4}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{3}}\ a{\isadigit{4}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{4}}\ a{\isadigit{3}}{\isacharparenright}{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{4}}\ a{\isadigit{3}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{3}}\ a{\isadigit{4}}{\isacharparenright}{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Eq\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ v{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}get\ a\ v{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{2}}\ a{\isadigit{1}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}get\ a\ v{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{2}}\ a{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}v{\isacharcomma}\ get\ a\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Eq\ v\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}get\ a\ v{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{2}}\ a{\isadigit{1}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}get\ a\ v{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}get\ a\ {\isacharparenleft}Plus\ a{\isadigit{2}}\ a{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}v{\isacharcomma}\ get\ a\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Eq\ v\ va{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharparenleft}v{\isacharcomma}\ get\ a\ va{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}va{\isacharcomma}\ get\ a\ v{\isacharparenright}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Gt\ {\isacharparenleft}L\ v{\isacharparenright}\ va{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}if\ L\ v\ {\isacharequal}\ va\ then\ {\isacharbrackleft}{\isacharparenleft}L\ {\isacharparenleft}Num\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ {\isacharbraceleft}{\isacharbar}Bc\ False{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharbrackright}\ else\ {\isacharbrackleft}{\isacharparenleft}va{\isacharcomma}\ {\isacharbraceleft}{\isacharbar}Lt\ v{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharbrackright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Gt\ va\ {\isacharparenleft}L\ v{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}if\ L\ v\ {\isacharequal}\ va\ then\ {\isacharbrackleft}{\isacharparenleft}L\ {\isacharparenleft}Num\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ {\isacharbraceleft}{\isacharbar}Bc\ False{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharbrackright}\ else\ {\isacharbrackleft}{\isacharparenleft}va{\isacharcomma}\ {\isacharbraceleft}{\isacharbar}Gt\ v{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharbrackright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}gexp{\isachardot}Gt\ v\ vb{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}if\ v\ {\isacharequal}\ vb\ then\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbrackleft}{\isacharparenleft}L\ {\isacharparenleft}Num\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ {\isacharbraceleft}{\isacharbar}Bc\ False{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbrackleft}{\isacharparenleft}v{\isacharcomma}\ fimage\ make{\isacharunderscore}gt\ {\isacharparenleft}get\ a\ vb{\isacharparenright}{\isacharparenright}{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\isanewline
\ \ {\isachardoublequoteopen}guard{\isadigit{2}}pairs\ a\ {\isacharparenleft}Nor\ v\ va{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}map\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}x{\isacharcomma}\ y{\isacharparenright}{\isachardot}\ {\isacharparenleft}x{\isacharcomma}\ fimage\ not\ y{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}{\isacharparenleft}guard{\isadigit{2}}pairs\ a\ v{\isacharparenright}\ {\isacharat}\ {\isacharparenleft}guard{\isadigit{2}}pairs\ a\ va{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ pairs{\isadigit{2}}context\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}aexp\ {\isasymtimes}\ cexp\ fset{\isacharparenright}\ list\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pairs{\isadigit{2}}context\ l\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}r{\isachardot}\ fold\ funion\ {\isacharparenleft}map\ snd\ {\isacharparenleft}filter\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}a{\isacharcomma}\ {\isacharunderscore}{\isacharparenright}{\isachardot}\ a\ {\isacharequal}\ r{\isacharparenright}\ l{\isacharparenright}{\isacharparenright}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pairs{\isadigit{2}}context{\isacharunderscore}empty{\isacharcolon}\ {\isachardoublequoteopen}pairs{\isadigit{2}}context\ {\isacharbrackleft}{\isacharbrackright}\ x\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ pairs{\isadigit{2}}context{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pairs{\isadigit{2}}context{\isacharunderscore}append{\isacharcolon}\ {\isachardoublequoteopen}pairs{\isadigit{2}}context\ {\isacharparenleft}x\ {\isacharat}\ y{\isacharparenright}\ ra\ {\isacharequal}\ pairs{\isadigit{2}}context\ x\ ra\ {\isacharbar}{\isasymunion}{\isacharbar}\ pairs{\isadigit{2}}context\ y\ ra{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ pairs{\isadigit{2}}context{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ ffUnion{\isacharunderscore}funion{\isacharunderscore}distrib\ filter{\isacharunderscore}append\ fold{\isacharunderscore}union{\isacharunderscore}ffUnion\ fset{\isacharunderscore}of{\isacharunderscore}list{\isacharunderscore}append\ map{\isacharunderscore}append\ map{\isacharunderscore}eq{\isacharunderscore}map{\isacharunderscore}tailrec{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pairs{\isadigit{2}}context{\isacharunderscore}cons{\isacharcolon}\ {\isachardoublequoteopen}pairs{\isadigit{2}}context\ {\isacharparenleft}x\ {\isacharhash}\ y{\isacharparenright}\ ra\ {\isacharequal}\ pairs{\isadigit{2}}context\ {\isacharbrackleft}x{\isacharbrackright}\ ra\ {\isacharbar}{\isasymunion}{\isacharbar}\ pairs{\isadigit{2}}context\ y\ ra{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ append{\isacharunderscore}Cons\ append{\isacharunderscore}self{\isacharunderscore}conv{\isadigit{2}}\ pairs{\isadigit{2}}context{\isacharunderscore}append{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ medial\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ guard\ list\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}medial\ c\ G\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}r{\isachardot}\ {\isacharparenleft}c\ r{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ pairs{\isadigit{2}}context\ {\isacharparenleft}List{\isachardot}maps\ {\isacharparenleft}guard{\isadigit{2}}pairs\ c{\isacharparenright}\ G{\isacharparenright}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ medial{\isacharunderscore}cons{\isacharcolon}\ {\isachardoublequoteopen}medial\ c\ {\isacharparenleft}a\ {\isacharhash}\ G{\isacharparenright}\ ra\ {\isacharequal}\ medial\ c\ {\isacharbrackleft}a{\isacharbrackright}\ ra\ {\isacharbar}{\isasymunion}{\isacharbar}\ medial\ c\ G\ ra{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ medial{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inf{\isacharunderscore}sup{\isacharunderscore}aci{\isacharparenleft}{\isadigit{5}}{\isacharparenright}\ inf{\isacharunderscore}sup{\isacharunderscore}aci{\isacharparenleft}{\isadigit{7}}{\isacharparenright}\ maps{\isacharunderscore}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ maps{\isacharunderscore}simps{\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ pairs{\isadigit{2}}context{\isacharunderscore}append{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ List{\isacharunderscore}maps{\isacharunderscore}append{\isacharcolon}\ \ {\isachardoublequoteopen}List{\isachardot}maps\ f\ {\isacharparenleft}a{\isacharat}g{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}List{\isachardot}maps\ f\ a{\isacharparenright}{\isacharat}{\isacharparenleft}List{\isachardot}maps\ f\ g{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ List{\isachardot}maps{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ medial{\isacharunderscore}append{\isacharcolon}\ {\isachardoublequoteopen}medial\ c\ {\isacharparenleft}a\ {\isacharat}\ G{\isacharparenright}\ ra\ {\isacharequal}\ medial\ c\ a\ ra\ {\isacharbar}{\isasymunion}{\isacharbar}\ medial\ c\ G\ ra{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ medial{\isacharunderscore}def\ List{\isacharunderscore}maps{\isacharunderscore}append\ pairs{\isadigit{2}}context{\isacharunderscore}append{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ medial{\isacharunderscore}self{\isacharunderscore}append{\isacharcolon}\ {\isachardoublequoteopen}medial\ c\ {\isacharparenleft}g\ {\isacharat}\ g{\isacharparenright}\ {\isacharequal}\ medial\ c\ g{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ext{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ medial{\isacharunderscore}append{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ medial{\isacharunderscore}cons{\isacharunderscore}subset{\isacharcolon}\ {\isachardoublequoteopen}medial\ c\ G\ ra\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ medial\ c\ {\isacharparenleft}a\ {\isacharhash}\ G{\isacharparenright}\ ra{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ medial{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ maps{\isacharunderscore}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ pairs{\isadigit{2}}context{\isacharunderscore}append{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ medial{\isacharunderscore}filter{\isacharcolon}\ {\isachardoublequoteopen}medial\ c\ {\isacharparenleft}filter\ f\ G{\isacharparenright}\ ra\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ medial\ c\ G\ ra{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ G{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}a\ f\ G\ ra\ c{\isachardot}\ medial\ c\ {\isacharparenleft}a\ {\isacharhash}\ filter\ f\ G{\isacharparenright}\ ra\ {\isacharequal}\ medial\ c\ {\isacharbrackleft}a{\isacharbrackright}\ ra\ {\isacharbar}{\isasymunion}{\isacharbar}\ medial\ c\ {\isacharparenleft}filter\ f\ G{\isacharparenright}\ ra{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ medial{\isacharunderscore}cons\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cons\ a\ G{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}f\ a{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{defer}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ medial{\isacharunderscore}cons{\isacharunderscore}subset\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ aux{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}medial\ c\ {\isacharparenleft}filter\ f\ G{\isacharparenright}\ ra\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ medial\ c\ G\ ra{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}medial\ c\ {\isacharparenleft}a\ {\isacharhash}\ G{\isacharparenright}\ ra\ {\isacharequal}\ medial\ c\ {\isacharbrackleft}a{\isacharbrackright}\ ra\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}medial\ c\ G\ ra\ {\isacharbar}{\isasymunion}{\isacharbar}\ medial\ c\ {\isacharparenleft}filter\ f\ G{\isacharparenright}\ ra\ {\isacharbar}{\isasymunion}{\isacharbar}\ medial\ c\ {\isacharparenleft}filter\ f\ G{\isacharparenright}\ ra{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ medial{\isacharunderscore}cons\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}medial\ c\ {\isacharbrackleft}a{\isacharbrackright}\ ra\ {\isacharbar}{\isasymunion}{\isacharbar}\ medial\ c\ {\isacharparenleft}filter\ f\ G{\isacharparenright}\ ra\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ medial\ c\ {\isacharparenleft}a\ {\isacharhash}\ G{\isacharparenright}\ ra{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ medial{\isacharunderscore}empty{\isacharcolon}\ {\isachardoublequoteopen}medial\ c\ {\isacharbrackleft}{\isacharbrackright}\ {\isacharequal}\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ medial{\isacharunderscore}def\ pairs{\isadigit{2}}context{\isacharunderscore}def\ List{\isachardot}maps{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ anterior{\isacharunderscore}subset{\isacharunderscore}medial{\isacharcolon}\ {\isachardoublequoteopen}c\ r\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ {\isacharparenleft}medial\ c\ G\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ \ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ medial{\isacharunderscore}def\ pairs{\isadigit{2}}context{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ apply{\isacharunderscore}update\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ context\ {\isasymRightarrow}\ update{\isacharunderscore}function\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}apply{\isacharunderscore}update\ l\ c\ {\isacharparenleft}v{\isacharcomma}\ {\isacharparenleft}L\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ update\ c\ {\isacharparenleft}V\ v{\isacharparenright}\ {\isacharbraceleft}{\isacharbar}{\isacharparenleft}Eq\ n{\isacharparenright}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}apply{\isacharunderscore}update\ l\ c\ {\isacharparenleft}v{\isacharcomma}\ V\ vb{\isacharparenright}\ {\isacharequal}\ update\ c\ {\isacharparenleft}V\ v{\isacharparenright}\ {\isacharparenleft}l\ {\isacharparenleft}V\ vb{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}apply{\isacharunderscore}update\ l\ c\ {\isacharparenleft}v{\isacharcomma}\ Plus\ vb\ vc{\isacharparenright}\ {\isacharequal}\ update\ c\ {\isacharparenleft}V\ v{\isacharparenright}\ {\isacharparenleft}fimage\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}{\isachardot}\ compose{\isacharunderscore}plus\ a\ b{\isacharparenright}\ {\isacharparenleft}{\isacharparenleft}get\ l\ vb{\isacharparenright}\ {\isacharbar}{\isasymtimes}{\isacharbar}\ {\isacharparenleft}get\ l\ vc{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}apply{\isacharunderscore}update\ l\ c\ {\isacharparenleft}v{\isacharcomma}\ Minus\ vb\ vc{\isacharparenright}\ {\isacharequal}\ update\ c\ {\isacharparenleft}V\ v{\isacharparenright}\ {\isacharparenleft}fimage\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}{\isachardot}\ compose{\isacharunderscore}minus\ a\ b{\isacharparenright}\ {\isacharparenleft}{\isacharparenleft}get\ l\ vb{\isacharparenright}\ {\isacharbar}{\isasymtimes}{\isacharbar}\ {\isacharparenleft}get\ l\ vc{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{primrec}\isamarkupfalse%
\ apply{\isacharunderscore}updates\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ context\ {\isasymRightarrow}\ update{\isacharunderscore}function\ list\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}apply{\isacharunderscore}updates\ {\isacharunderscore}\ c\ {\isacharbrackleft}{\isacharbrackright}\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}apply{\isacharunderscore}updates\ l\ c\ {\isacharparenleft}h{\isacharhash}t{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}apply{\isacharunderscore}update\ l\ {\isacharparenleft}apply{\isacharunderscore}updates\ l\ c\ t{\isacharparenright}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ can{\isacharunderscore}take\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}transition\ {\isasymRightarrow}\ context\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}can{\isacharunderscore}take\ t\ c\ {\isasymequiv}\ consistent\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ t{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ can{\isacharunderscore}take{\isacharunderscore}no{\isacharunderscore}guards{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}\ c{\isachardot}\ {\isacharparenleft}Contexts{\isachardot}consistent\ c\ {\isasymand}\ {\isacharparenleft}Guard\ t{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharbrackright}{\isacharparenright}\ {\isasymlongrightarrow}\ Contexts{\isachardot}can{\isacharunderscore}take\ t\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consistent{\isacharunderscore}def\ Contexts{\isachardot}can{\isacharunderscore}take{\isacharunderscore}def\ medial{\isacharunderscore}def\ pairs{\isadigit{2}}context{\isacharunderscore}def\ List{\isachardot}maps{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ constrains{\isacharunderscore}an{\isacharunderscore}input\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}constrains{\isacharunderscore}an{\isacharunderscore}input\ {\isacharparenleft}L\ v{\isacharparenright}\ {\isacharequal}\ False{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}constrains{\isacharunderscore}an{\isacharunderscore}input\ {\isacharparenleft}V\ {\isacharparenleft}R\ x{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ False{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}constrains{\isacharunderscore}an{\isacharunderscore}input\ {\isacharparenleft}V\ {\isacharparenleft}I\ x{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ True{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}constrains{\isacharunderscore}an{\isacharunderscore}input\ {\isacharparenleft}Plus\ v\ va{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}constrains{\isacharunderscore}an{\isacharunderscore}input\ v\ {\isasymor}\ constrains{\isacharunderscore}an{\isacharunderscore}input\ va{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}constrains{\isacharunderscore}an{\isacharunderscore}input\ {\isacharparenleft}Minus\ v\ va{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}constrains{\isacharunderscore}an{\isacharunderscore}input\ v\ {\isasymor}\ constrains{\isacharunderscore}an{\isacharunderscore}input\ va{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ remove{\isacharunderscore}obsolete{\isacharunderscore}constraints\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ vname\ fset\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}remove{\isacharunderscore}obsolete{\isacharunderscore}constraints\ c\ vs\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}a{\isachardot}\ if\ {\isasymexists}n{\isachardot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}I\ n{\isacharparenright}{\isacharparenright}\ {\isasymor}\ fBex\ vs\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ aexp{\isacharunderscore}constrains\ {\isacharparenleft}V\ x{\isacharparenright}\ a\ {\isasymand}\ a\ {\isasymnoteq}\ {\isacharparenleft}V\ x{\isacharparenright}{\isacharparenright}\ then\ {\isasymlbrakk}{\isasymrbrakk}\ a\ else\ c\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ consistent{\isacharunderscore}c{\isacharunderscore}consistent{\isacharunderscore}remove{\isacharunderscore}obsolete{\isacharunderscore}constraints{\isacharcolon}\ {\isachardoublequoteopen}consistent\ c\ {\isasymLongrightarrow}\ consistent\ {\isacharparenleft}remove{\isacharunderscore}obsolete{\isacharunderscore}constraints\ c\ Any{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ remove{\isacharunderscore}obsolete{\isacharunderscore}constraints{\isacharunderscore}def\ consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}s\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ r{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ cval{\isacharunderscore}true\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ empty{\isacharunderscore}inputs{\isacharunderscore}are{\isacharunderscore}true{\isacharcolon}\ {\isachardoublequoteopen}constrains{\isacharunderscore}an{\isacharunderscore}input\ x\ {\isasymLongrightarrow}\ {\isasymlbrakk}{\isasymrbrakk}\ x\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Bc\ True{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cval{\isacharunderscore}empty{\isacharunderscore}inputs{\isacharcolon}\ {\isachardoublequoteopen}constrains{\isacharunderscore}an{\isacharunderscore}input\ r\ {\isasymlongrightarrow}\ cval\ {\isacharparenleft}conjoin\ {\isacharparenleft}{\isasymlbrakk}{\isasymrbrakk}\ r{\isacharparenright}{\isacharparenright}\ r\ ia\ {\isacharequal}\ true{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ r{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ cval{\isacharunderscore}And\ maybe{\isacharunderscore}and{\isacharunderscore}true\ cval{\isacharunderscore}true{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ r{\isadigit{1}}\ r{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ cval{\isacharunderscore}And\ maybe{\isacharunderscore}and{\isacharunderscore}true\ cval{\isacharunderscore}true{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ r{\isadigit{1}}\ r{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ cval{\isacharunderscore}And\ maybe{\isacharunderscore}and{\isacharunderscore}true\ cval{\isacharunderscore}true{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ remove{\isacharunderscore}input{\isacharunderscore}constraints{\isacharunderscore}empty{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}remove{\isacharunderscore}obsolete{\isacharunderscore}constraints\ {\isasymlbrakk}{\isasymrbrakk}\ s\ {\isacharequal}\ {\isasymlbrakk}{\isasymrbrakk}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ remove{\isacharunderscore}obsolete{\isacharunderscore}constraints{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ posterior{\isacharunderscore}separate\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ guard\ list\ {\isasymRightarrow}\ update{\isacharunderscore}function\ list\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}posterior{\isacharunderscore}separate\ c\ g\ u\ {\isacharequal}\ {\isacharparenleft}let\ c{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}medial\ c\ g{\isacharparenright}\ in\ {\isacharparenleft}if\ consistent\ c{\isacharprime}\ then\ remove{\isacharunderscore}obsolete{\isacharunderscore}constraints\ {\isacharparenleft}apply{\isacharunderscore}updates\ c{\isacharprime}\ c\ u{\isacharparenright}\ {\isacharparenleft}fset{\isacharunderscore}of{\isacharunderscore}list\ {\isacharparenleft}map\ fst\ u{\isacharparenright}{\isacharparenright}\ else\ {\isacharparenleft}{\isasymlambda}i{\isachardot}\ {\isacharbraceleft}{\isacharbar}Bc\ False{\isacharbar}{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ posterior{\isacharunderscore}separate{\isacharunderscore}append{\isacharunderscore}self{\isacharcolon}\ {\isachardoublequoteopen}posterior{\isacharunderscore}separate\ c\ {\isacharparenleft}g\ {\isacharat}\ g{\isacharparenright}\ {\isacharequal}\ posterior{\isacharunderscore}separate\ c\ g{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ext{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ posterior{\isacharunderscore}separate{\isacharunderscore}def\ Let{\isacharunderscore}def\ medial{\isacharunderscore}self{\isacharunderscore}append{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ posterior\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ transition\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}posterior\ c\ t\ {\isacharequal}\ posterior{\isacharunderscore}separate\ c\ {\isacharparenleft}Guard\ t{\isacharparenright}\ {\isacharparenleft}Updates\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ posterior{\isacharunderscore}consistent{\isacharunderscore}medial{\isacharcolon}\ {\isachardoublequoteopen}medial\ c\ {\isacharparenleft}Guard\ t{\isacharparenright}\ {\isacharequal}\ c{\isacharprime}\ {\isasymLongrightarrow}\ consistent\ c{\isacharprime}\ {\isasymLongrightarrow}\ remove{\isacharunderscore}obsolete{\isacharunderscore}constraints\ {\isacharparenleft}apply{\isacharunderscore}updates\ c{\isacharprime}\ c\ {\isacharparenleft}Updates\ t{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}fst\ {\isacharbar}{\isacharbackquote}{\isacharbar}\ fset{\isacharunderscore}of{\isacharunderscore}list\ {\isacharparenleft}Updates\ t{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ p\ {\isasymLongrightarrow}\ posterior\ c\ t\ {\isacharequal}\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ posterior{\isacharunderscore}def\ posterior{\isacharunderscore}separate{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{primrec}\isamarkupfalse%
\ posterior{\isacharunderscore}n\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ transition\ {\isasymRightarrow}\ context\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}posterior{\isacharunderscore}n\ {\isadigit{0}}\ {\isacharunderscore}\ c\ {\isacharequal}\ c\ {\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}posterior{\isacharunderscore}n\ {\isacharparenleft}Suc\ m{\isacharparenright}\ t\ c\ {\isacharequal}\ posterior{\isacharunderscore}n\ m\ t\ {\isacharparenleft}posterior\ c\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{primrec}\isamarkupfalse%
\ posterior{\isacharunderscore}sequence\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}context\ {\isasymRightarrow}\ transition{\isacharunderscore}matrix\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ datastate\ {\isasymRightarrow}\ trace\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}posterior{\isacharunderscore}sequence\ c\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharbrackleft}{\isacharbrackright}\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}posterior{\isacharunderscore}sequence\ c\ e\ s\ r\ {\isacharparenleft}h{\isacharhash}t{\isacharparenright}\ {\isacharequal}\isanewline
\ \ \ \ {\isacharparenleft}case\ {\isacharparenleft}step\ e\ s\ r\ {\isacharparenleft}fst\ h{\isacharparenright}\ {\isacharparenleft}snd\ h{\isacharparenright}{\isacharparenright}\ of\isanewline
\ \ \ \ \ \ {\isacharparenleft}Some\ {\isacharparenleft}transition{\isacharcomma}\ s{\isacharprime}{\isacharcomma}\ outputs{\isacharcomma}\ r{\isacharprime}{\isacharparenright}{\isacharparenright}\ {\isasymRightarrow}\ {\isacharparenleft}posterior{\isacharunderscore}sequence\ {\isacharparenleft}posterior\ c\ transition{\isacharparenright}\ e\ s{\isacharprime}\ r{\isacharprime}\ t{\isacharparenright}\ {\isacharbar}\isanewline
\ \ \ \ \ \ {\isacharunderscore}\ {\isasymRightarrow}\ c\isanewline
\ \ \ \ {\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ datastate{\isadigit{2}}context\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}datastate\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}datastate{\isadigit{2}}context\ d\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ case\ x\ of\ V\ r\ {\isasymRightarrow}\ {\isacharparenleft}case\ d\ r\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}\ {\isacharbar}\ Some\ v\ {\isasymRightarrow}\ {\isacharbraceleft}{\isacharbar}Eq\ v{\isacharbar}{\isacharbraceright}{\isacharparenright}\ {\isacharbar}\ {\isacharunderscore}\ {\isasymRightarrow}\ {\isasymlbrakk}{\isasymrbrakk}\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ satisfies{\isacharunderscore}context\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}datastate\ {\isasymRightarrow}\ context\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}satisfies{\isacharunderscore}context\ d\ c\ {\isacharequal}\ consistent\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ {\isacharparenleft}datastate{\isadigit{2}}context\ d\ x{\isacharparenright}\ {\isacharbar}{\isasymunion}{\isacharbar}\ c\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ satisfactory{\isacharunderscore}registers{\isacharcolon}\ {\isachardoublequoteopen}c\ {\isacharparenleft}V\ {\isacharparenleft}R\ r{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}cexp{\isachardot}Eq\ v{\isacharbar}{\isacharbraceright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ satisfies{\isacharunderscore}context\ ra\ c\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ ra\ {\isacharparenleft}R\ r{\isacharparenright}\ {\isacharequal}\ Some\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ premise{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}c\ {\isacharparenleft}V\ {\isacharparenleft}R\ r{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}cexp{\isachardot}Eq\ v{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ premise{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}satisfies{\isacharunderscore}context\ ra\ c{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ contra{\isacharcolon}\ {\isachardoublequoteopen}c\ {\isacharparenleft}V\ {\isacharparenleft}R\ r{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}cexp{\isachardot}Eq\ v{\isacharbar}{\isacharbraceright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ra\ {\isacharparenleft}R\ r{\isacharparenright}\ {\isasymnoteq}\ Some\ v\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymnot}satisfies{\isacharunderscore}context\ ra\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ satisfies{\isacharunderscore}context{\isacharunderscore}def\ datastate{\isadigit{2}}context{\isacharunderscore}def\ consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}V\ {\isacharparenleft}R\ r{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}ra\ {\isacharparenleft}R\ r{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gval{\isachardot}simps\ value_eq{\isacharunderscore}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ premise{\isadigit{1}}\ premise{\isadigit{2}}\ contra\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cval{\isacharunderscore}undef{\isacharunderscore}empty{\isacharcolon}\ {\isachardoublequoteopen}cval\ Undef\ {\isacharparenleft}V\ x{\isacharparenright}\ {\isacharless}{\isachargreater}\ {\isacharequal}\ true{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}def\ gval{\isachardot}simps\ value_eq{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ satisfies{\isacharunderscore}context{\isacharunderscore}empty{\isacharcolon}\ {\isachardoublequoteopen}satisfies{\isacharunderscore}context\ {\isacharless}{\isachargreater}\ {\isasymlbrakk}{\isasymrbrakk}\ {\isasymand}\ satisfies{\isacharunderscore}context\ Map{\isachardot}empty\ {\isasymlbrakk}{\isasymrbrakk}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ satisfies{\isacharunderscore}context{\isacharunderscore}def\ datastate{\isadigit{2}}context{\isacharunderscore}def\ consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharless}{\isachargreater}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ r{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cval{\isacharunderscore}true{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}x{\isacharequal}Bc\ True{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ cval{\isacharunderscore}true\ cval{\isacharunderscore}def\ gval{\isachardot}simps\ value_eq{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ subsumes\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}transition\ {\isasymRightarrow}\ context\ {\isasymRightarrow}\ transition\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}\isactrlsub {\isacharunderscore}{\isasymsqsupseteq}{\isacharunderscore}{\isachardoublequoteclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}subsumes\ t{\isadigit{2}}\ c\ t{\isadigit{1}}\ {\isasymequiv}\ Label\ t{\isadigit{1}}\ {\isacharequal}\ Label\ t{\isadigit{2}}\ {\isasymand}\ Arity\ t{\isadigit{1}}\ {\isacharequal}\ Arity\ t{\isadigit{2}}\ {\isasymand}\ length\ {\isacharparenleft}Outputs\ t{\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ length\ {\isacharparenleft}Outputs\ t{\isadigit{2}}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}r\ i{\isachardot}\ fBall\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ t{\isadigit{1}}{\isacharparenright}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}\ {\isasymlongrightarrow}\ fBall\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ t{\isadigit{2}}{\isacharparenright}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}\ i\ r{\isachardot}\ satisfies{\isacharunderscore}context\ r\ c\ {\isasymlongrightarrow}\ apply{\isacharunderscore}guards\ {\isacharparenleft}Guard\ t{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isasymlongrightarrow}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}\ i\ r{\isachardot}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}r\ i{\isachardot}\ fBall\ {\isacharparenleft}posterior{\isacharunderscore}separate\ c\ {\isacharparenleft}Guard\ t{\isadigit{1}}{\isacharat}Guard\ t{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Updates\ t{\isadigit{2}}{\isacharparenright}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}\ {\isasymlongrightarrow}\ fBall\ {\isacharparenleft}posterior\ c\ t{\isadigit{1}}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}\ {\isasymor}\ {\isacharparenleft}posterior\ c\ t{\isadigit{1}}\ r{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}consistent\ {\isacharparenleft}posterior\ c\ t{\isadigit{1}}{\isacharparenright}\ {\isasymlongrightarrow}\ consistent\ {\isacharparenleft}posterior\ c\ t{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ output{\isacharunderscore}subsumption{\isacharunderscore}violation{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\isasymforall}\ i\ r{\isachardot}\ satisfies{\isacharunderscore}context\ r\ c\ {\isasymlongrightarrow}\ apply{\isacharunderscore}guards\ {\isacharparenleft}Guard\ t{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isasymlongrightarrow}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ {\isasymnot}\ subsumes\ t{\isadigit{2}}\ c\ t{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subsumes{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ medial{\isacharunderscore}subsumption{\isacharunderscore}violation{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\isasymforall}r\ i{\isachardot}\ fBall\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ t{\isadigit{1}}{\isacharparenright}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}\ {\isasymlongrightarrow}\ fBall\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ t{\isadigit{2}}{\isacharparenright}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
{\isasymnot}\ subsumes\ t{\isadigit{2}}\ c\ t{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subsumes{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ update{\isacharunderscore}subsumption{\isacharunderscore}violation{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\isasymforall}r\ i{\isachardot}\ fBall\ {\isacharparenleft}posterior{\isacharunderscore}separate\ c\ {\isacharparenleft}Guard\ t{\isadigit{1}}{\isacharat}Guard\ t{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Updates\ t{\isadigit{2}}{\isacharparenright}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}\ {\isasymlongrightarrow}\ fBall\ {\isacharparenleft}posterior\ c\ t{\isadigit{1}}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}\ {\isasymor}\ {\isacharparenleft}posterior\ c\ t{\isadigit{1}}\ r{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ {\isasymnot}\ subsumes\ t{\isadigit{2}}\ c\ t{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subsumes{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ outputs{\isacharunderscore}never{\isacharunderscore}equal{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\isasymexists}\ i\ r{\isachardot}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
{\isasymnot}\ subsumes\ t{\isadigit{2}}\ c\ t{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subsumes{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ subsumption{\isacharcolon}\ {\isachardoublequoteopen}Label\ t{\isadigit{1}}\ {\isacharequal}\ Label\ t{\isadigit{2}}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Arity\ t{\isadigit{1}}\ {\isacharequal}\ Arity\ t{\isadigit{2}}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ length\ {\isacharparenleft}Outputs\ t{\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ length\ {\isacharparenleft}Outputs\ t{\isadigit{2}}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}r\ i{\isachardot}\ fBall\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ t{\isadigit{1}}{\isacharparenright}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}\ {\isasymlongrightarrow}\ fBall\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ t{\isadigit{2}}{\isacharparenright}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}\ i\ r{\isachardot}\ satisfies{\isacharunderscore}context\ r\ c\ {\isasymlongrightarrow}\ apply{\isacharunderscore}guards\ {\isacharparenleft}Guard\ t{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isasymlongrightarrow}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}\ i\ r{\isachardot}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ apply{\isacharunderscore}outputs\ {\isacharparenleft}Outputs\ t{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}r\ i{\isachardot}\ fBall\ {\isacharparenleft}posterior{\isacharunderscore}separate\ c\ {\isacharparenleft}Guard\ t{\isadigit{1}}{\isacharat}Guard\ t{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Updates\ t{\isadigit{2}}{\isacharparenright}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}\ {\isasymlongrightarrow}\ fBall\ {\isacharparenleft}posterior\ c\ t{\isadigit{1}}\ r{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ cval\ c\ r\ i\ {\isacharequal}\ true{\isacharparenright}\ {\isasymor}\ {\isacharparenleft}posterior\ c\ t{\isadigit{1}}\ r{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Undef{\isacharbar}{\isacharbraceright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}consistent\ {\isacharparenleft}posterior\ c\ t{\isadigit{1}}{\isacharparenright}\ {\isasymlongrightarrow}\ consistent\ {\isacharparenleft}posterior\ c\ t{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subsumes\ t{\isadigit{2}}\ c\ t{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subsumes{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ anterior{\isacharunderscore}context\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}transition{\isacharunderscore}matrix\ {\isasymRightarrow}\ trace\ {\isasymRightarrow}\ context{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}anterior{\isacharunderscore}context\ e\ t\ {\isacharequal}\ posterior{\isacharunderscore}sequence\ {\isasymlbrakk}{\isasymrbrakk}\ e\ {\isadigit{0}}\ {\isacharless}{\isachargreater}\ t{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gexp{\isacharunderscore}equiv{\isacharunderscore}cexp{\isacharunderscore}not{\isacharunderscore}true{\isacharcolon}\ \ {\isachardoublequoteopen}gexp{\isacharunderscore}equiv\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ a\ {\isacharparenleft}Not\ {\isacharparenleft}Bc\ True{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}gexp{\isachardot}Bc\ False{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ gexp{\isacharunderscore}equiv{\isacharunderscore}def\ gval{\isachardot}simps{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gexp{\isacharunderscore}equiv{\isacharunderscore}cexp{\isacharunderscore}not{\isacharunderscore}false{\isacharcolon}\ \ {\isachardoublequoteopen}gexp{\isacharunderscore}equiv\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ a\ {\isacharparenleft}Not\ {\isacharparenleft}Bc\ False{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}gexp{\isachardot}Bc\ True{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ gexp{\isacharunderscore}equiv{\isacharunderscore}def\ gval{\isachardot}simps{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ geq{\isacharunderscore}to{\isacharunderscore}ge{\isacharcolon}\ {\isachardoublequoteopen}Geq\ x\ {\isacharequal}\ c\ r\ {\isasymLongrightarrow}\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ {\isacharparenleft}c\ r{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Ge\ r\ {\isacharparenleft}L\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ cexp{\isadigit{2}}gexp{\isachardot}simps{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ cexp{\isadigit{2}}gexp{\isachardot}simps{\isacharparenleft}{\isadigit{6}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ leq{\isacharunderscore}to{\isacharunderscore}le{\isacharcolon}\ {\isachardoublequoteopen}Leq\ x\ {\isacharequal}\ c\ r\ {\isasymLongrightarrow}\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ {\isacharparenleft}c\ r{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Le\ r\ {\isacharparenleft}L\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ cexp{\isadigit{2}}gexp{\isachardot}simps{\isacharparenleft}{\isadigit{4}}{\isacharparenright}\ cexp{\isadigit{2}}gexp{\isachardot}simps{\isacharparenleft}{\isadigit{6}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lt{\isacharunderscore}to{\isacharunderscore}lt{\isacharcolon}\ {\isachardoublequoteopen}Lt\ x\ {\isacharequal}\ c\ r\ {\isasymLongrightarrow}\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ {\isacharparenleft}c\ r{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ gexp{\isachardot}Gt\ {\isacharparenleft}L\ x{\isacharparenright}\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ cexp{\isadigit{2}}gexp{\isachardot}simps{\isacharparenleft}{\isadigit{3}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gt{\isacharunderscore}to{\isacharunderscore}gt{\isacharcolon}\ {\isachardoublequoteopen}Gt\ x\ {\isacharequal}\ c\ r\ {\isasymLongrightarrow}\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ {\isacharparenleft}c\ r{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ gexp{\isachardot}Gt\ r\ {\isacharparenleft}L\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ cexp{\isadigit{2}}gexp{\isachardot}simps{\isacharparenleft}{\isadigit{4}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ satisfiable{\isacharunderscore}double{\isacharunderscore}neg{\isacharcolon}\ {\isachardoublequoteopen}satisfiable\ {\isacharparenleft}cexp{\isachardot}Not\ {\isacharparenleft}cexp{\isachardot}Not\ x{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ satisfiable\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ satisfiable{\isacharunderscore}def\ cval{\isacharunderscore}double{\isacharunderscore}negation{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gval{\isacharunderscore}empty{\isacharunderscore}r{\isacharunderscore}neq{\isacharunderscore}none{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}gval\ {\isacharparenleft}cexp{\isadigit{2}}gexp\ r\ {\isacharparenleft}conjoin\ {\isacharparenleft}{\isasymlbrakk}{\isasymrbrakk}\ r{\isacharparenright}{\isacharparenright}{\isacharparenright}\ s\ {\isasymnoteq}\ invalid{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ r{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ maybe{\isacharunderscore}double{\isacharunderscore}negation\ gval{\isachardot}simps{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ gval{\isacharunderscore}gAnd\ gval{\isachardot}simps\ value_eq{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ constrains{\isacharunderscore}an{\isacharunderscore}input{\isacharunderscore}true{\isacharcolon}\ {\isachardoublequoteopen}constrains{\isacharunderscore}an{\isacharunderscore}input\ r\ {\isasymLongrightarrow}\ cval\ {\isacharparenleft}conjoin\ {\isacharparenleft}{\isasymlbrakk}{\isasymrbrakk}\ r{\isacharparenright}{\isacharparenright}\ r\ ia\ {\isacharequal}\ true{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ r{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ cval{\isacharunderscore}And\ cval{\isacharunderscore}true\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ gval{\isachardot}simps{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ r{\isadigit{1}}\ r{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ cval{\isacharunderscore}And\ cval{\isacharunderscore}true{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ r{\isadigit{1}}\ r{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ conjoin{\isacharunderscore}def\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def\ cval{\isacharunderscore}And\ cval{\isacharunderscore}true{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ consistent{\isacharunderscore}posterior{\isacharunderscore}gives{\isacharunderscore}consistent{\isacharunderscore}medial{\isacharcolon}\ {\isachardoublequoteopen}consistent\ {\isacharparenleft}posterior\ c\ x{\isacharparenright}\ {\isasymLongrightarrow}\ consistent\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ x{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ posterior{\isacharunderscore}def\ Let{\isacharunderscore}def\ posterior{\isacharunderscore}separate{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}consistent\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ x{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inconsistent{\isacharunderscore}false{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ consistent{\isacharunderscore}medial{\isacharunderscore}gives{\isacharunderscore}consistent{\isacharunderscore}anterior{\isacharcolon}\ {\isachardoublequoteopen}consistent\ {\isacharparenleft}medial\ c\ G{\isacharparenright}\ {\isasymLongrightarrow}\ consistent\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}full{\isacharunderscore}types{\isacharparenright}\ fBall{\isacharunderscore}funion\ medial{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ medial{\isacharunderscore}equivalent{\isacharcolon}\ {\isachardoublequoteopen}medial\ c\ {\isacharparenleft}Guard\ t\ {\isacharat}\ Guard\ t{\isacharparenright}\ {\isacharequal}\ medial\ c\ {\isacharparenleft}Guard\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ext{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ medial{\isacharunderscore}append{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ transition{\isacharunderscore}subsumes{\isacharunderscore}self{\isacharcolon}\ {\isachardoublequoteopen}t\ \isactrlsub c{\isasymsqsupseteq}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subsumes{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ posterior{\isacharunderscore}separate{\isacharunderscore}def\ Let{\isacharunderscore}def\ posterior{\isacharunderscore}def\ medial{\isacharunderscore}equivalent{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}consistent\ {\isacharparenleft}medial\ c\ {\isacharparenleft}Guard\ t{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ medial{\isacharunderscore}preserves{\isacharunderscore}existing{\isacharunderscore}elements{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isacharbar}{\isasymin}{\isacharbar}\ c\ r\ {\isasymLongrightarrow}\ x\ {\isacharbar}{\isasymin}{\isacharbar}\ medial\ c\ G\ r\ {\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ anterior{\isacharunderscore}subset{\isacharunderscore}medial\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ remove{\isacharunderscore}obsolete{\isacharunderscore}constraints{\isacharunderscore}input{\isacharcolon}\ {\isachardoublequoteopen}remove{\isacharunderscore}obsolete{\isacharunderscore}constraints\ c\ s\ {\isacharparenleft}V\ {\isacharparenleft}I\ i{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}Bc\ True{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ remove{\isacharunderscore}obsolete{\isacharunderscore}constraints{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}simp{\isacharcolon}\ {\isachardoublequoteopen}I\ i\ {\isacharbar}{\isasymnotin}{\isacharbar}\ fst\ {\isacharbar}{\isacharbackquote}{\isacharbar}\ fset{\isacharunderscore}of{\isacharunderscore}list\ as\ {\isasymLongrightarrow}\isanewline
{\isacharparenleft}{\isasymexists}n{\isachardot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}I\ n{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isasymor}\ V\ aa\ {\isacharequal}\ a\ {\isasymor}\ fBex\ {\isacharparenleft}fset{\isacharunderscore}of{\isacharunderscore}list\ as{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ V\ {\isacharparenleft}fst\ x{\isacharparenright}\ {\isacharequal}\ a{\isacharparenright}\ {\isacharequal}\isanewline
{\isacharparenleft}{\isasymexists}n{\isachardot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}I\ n{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isasymor}\ fBex\ {\isacharparenleft}fset{\isacharunderscore}of{\isacharunderscore}list\ as{\isacharparenright}\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ V\ {\isacharparenleft}fst\ x{\isacharparenright}\ {\isacharequal}\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/efsm-sal/theories/Contexts.thy%:%
%:%11=1%:%
%:%23=3%:%
%:%24=4%:%
%:%25=5%:%
%:%33=8%:%
%:%34=8%:%
%:%35=9%:%
%:%36=10%:%
%:%37=11%:%
%:%44=11%:%
%:%45=12%:%
%:%46=13%:%
%:%47=13%:%
%:%48=14%:%
%:%49=17%:%
%:%50=18%:%
%:%51=18%:%
%:%52=19%:%
%:%55=22%:%
%:%56=23%:%
%:%57=23%:%
%:%58=24%:%
%:%59=25%:%
%:%60=26%:%
%:%61=26%:%
%:%62=27%:%
%:%63=28%:%
%:%64=29%:%
%:%65=30%:%
%:%66=31%:%
%:%67=31%:%
%:%70=32%:%
%:%74=32%:%
%:%75=32%:%
%:%80=32%:%
%:%83=33%:%
%:%84=34%:%
%:%85=34%:%
%:%88=35%:%
%:%92=35%:%
%:%93=35%:%
%:%98=35%:%
%:%101=36%:%
%:%102=37%:%
%:%103=37%:%
%:%106=38%:%
%:%110=38%:%
%:%111=38%:%
%:%112=39%:%
%:%113=39%:%
%:%114=40%:%
%:%115=40%:%
%:%116=41%:%
%:%117=41%:%
%:%118=42%:%
%:%119=42%:%
%:%120=43%:%
%:%121=43%:%
%:%122=43%:%
%:%127=43%:%
%:%130=44%:%
%:%131=45%:%
%:%132=45%:%
%:%139=46%:%
%:%140=46%:%
%:%141=47%:%
%:%142=47%:%
%:%143=48%:%
%:%144=48%:%
%:%145=48%:%
%:%146=48%:%
%:%147=49%:%
%:%148=49%:%
%:%149=50%:%
%:%150=50%:%
%:%151=51%:%
%:%152=51%:%
%:%153=51%:%
%:%154=52%:%
%:%155=52%:%
%:%156=53%:%
%:%157=53%:%
%:%158=54%:%
%:%159=54%:%
%:%160=55%:%
%:%161=55%:%
%:%162=56%:%
%:%163=56%:%
%:%164=56%:%
%:%165=57%:%
%:%166=57%:%
%:%167=58%:%
%:%168=58%:%
%:%169=59%:%
%:%170=59%:%
%:%171=60%:%
%:%172=60%:%
%:%173=60%:%
%:%174=61%:%
%:%175=61%:%
%:%176=62%:%
%:%182=62%:%
%:%185=63%:%
%:%186=64%:%
%:%187=64%:%
%:%190=65%:%
%:%194=65%:%
%:%195=65%:%
%:%200=65%:%
%:%203=66%:%
%:%204=67%:%
%:%205=67%:%
%:%206=68%:%
%:%207=69%:%
%:%208=70%:%
%:%209=71%:%
%:%210=72%:%
%:%211=73%:%
%:%212=73%:%
%:%213=74%:%
%:%214=75%:%
%:%215=76%:%
%:%216=77%:%
%:%217=77%:%
%:%218=78%:%
%:%219=79%:%
%:%220=80%:%
%:%221=80%:%
%:%222=81%:%
%:%223=82%:%
%:%224=83%:%
%:%225=83%:%
%:%228=84%:%
%:%232=84%:%
%:%233=84%:%
%:%234=85%:%
%:%235=85%:%
%:%236=86%:%
%:%237=86%:%
%:%238=87%:%
%:%239=87%:%
%:%244=87%:%
%:%247=88%:%
%:%248=89%:%
%:%249=89%:%
%:%252=90%:%
%:%256=90%:%
%:%257=90%:%
%:%258=91%:%
%:%259=91%:%
%:%260=92%:%
%:%261=92%:%
%:%262=93%:%
%:%263=93%:%
%:%268=93%:%
%:%271=94%:%
%:%272=95%:%
%:%273=95%:%
%:%276=96%:%
%:%280=96%:%
%:%281=96%:%
%:%282=97%:%
%:%283=97%:%
%:%288=97%:%
%:%291=98%:%
%:%292=99%:%
%:%293=99%:%
%:%296=100%:%
%:%300=100%:%
%:%301=100%:%
%:%302=101%:%
%:%303=101%:%
%:%304=102%:%
%:%305=102%:%
%:%306=103%:%
%:%307=103%:%
%:%312=103%:%
%:%315=104%:%
%:%316=105%:%
%:%317=105%:%
%:%320=106%:%
%:%324=106%:%
%:%325=106%:%
%:%326=107%:%
%:%327=107%:%
%:%332=107%:%
%:%335=108%:%
%:%336=109%:%
%:%337=109%:%
%:%340=110%:%
%:%344=110%:%
%:%345=110%:%
%:%346=111%:%
%:%347=111%:%
%:%348=112%:%
%:%349=112%:%
%:%350=113%:%
%:%351=113%:%
%:%352=114%:%
%:%353=114%:%
%:%354=115%:%
%:%355=115%:%
%:%356=116%:%
%:%357=116%:%
%:%358=117%:%
%:%359=117%:%
%:%364=117%:%
%:%367=118%:%
%:%368=119%:%
%:%369=119%:%
%:%372=120%:%
%:%376=120%:%
%:%377=120%:%
%:%378=121%:%
%:%379=121%:%
%:%380=122%:%
%:%381=122%:%
%:%382=123%:%
%:%383=123%:%
%:%384=124%:%
%:%385=124%:%
%:%386=125%:%
%:%387=125%:%
%:%388=126%:%
%:%389=126%:%
%:%394=126%:%
%:%397=127%:%
%:%398=128%:%
%:%399=128%:%
%:%402=129%:%
%:%406=129%:%
%:%407=129%:%
%:%408=130%:%
%:%409=130%:%
%:%414=130%:%
%:%417=131%:%
%:%418=132%:%
%:%419=132%:%
%:%422=133%:%
%:%426=133%:%
%:%427=133%:%
%:%428=133%:%
%:%433=133%:%
%:%436=134%:%
%:%437=135%:%
%:%438=135%:%
%:%439=136%:%
%:%440=137%:%
%:%441=138%:%
%:%442=139%:%
%:%443=140%:%
%:%444=141%:%
%:%445=142%:%
%:%446=143%:%
%:%447=144%:%
%:%448=144%:%
%:%451=145%:%
%:%455=145%:%
%:%456=145%:%
%:%457=146%:%
%:%458=146%:%
%:%463=146%:%
%:%466=147%:%
%:%467=148%:%
%:%468=148%:%
%:%475=149%:%
%:%476=149%:%
%:%477=150%:%
%:%478=150%:%
%:%479=151%:%
%:%480=151%:%
%:%481=151%:%
%:%482=152%:%
%:%483=152%:%
%:%484=153%:%
%:%485=153%:%
%:%486=154%:%
%:%487=154%:%
%:%488=155%:%
%:%489=155%:%
%:%490=155%:%
%:%491=156%:%
%:%492=156%:%
%:%493=157%:%
%:%494=157%:%
%:%495=158%:%
%:%496=158%:%
%:%497=159%:%
%:%498=159%:%
%:%499=160%:%
%:%500=160%:%
%:%501=160%:%
%:%502=161%:%
%:%503=161%:%
%:%504=162%:%
%:%505=162%:%
%:%506=163%:%
%:%507=163%:%
%:%508=164%:%
%:%509=164%:%
%:%510=164%:%
%:%511=165%:%
%:%512=165%:%
%:%513=166%:%
%:%514=166%:%
%:%515=167%:%
%:%516=167%:%
%:%517=168%:%
%:%518=168%:%
%:%519=168%:%
%:%520=169%:%
%:%521=169%:%
%:%522=170%:%
%:%523=170%:%
%:%524=171%:%
%:%525=171%:%
%:%526=172%:%
%:%527=172%:%
%:%528=172%:%
%:%529=173%:%
%:%530=173%:%
%:%531=174%:%
%:%532=174%:%
%:%533=175%:%
%:%534=175%:%
%:%535=176%:%
%:%536=176%:%
%:%537=176%:%
%:%538=177%:%
%:%539=177%:%
%:%540=178%:%
%:%541=178%:%
%:%542=179%:%
%:%548=179%:%
%:%551=180%:%
%:%552=181%:%
%:%553=181%:%
%:%554=182%:%
%:%555=183%:%
%:%556=184%:%
%:%557=185%:%
%:%558=186%:%
%:%559=187%:%
%:%560=188%:%
%:%561=189%:%
%:%562=190%:%
%:%563=190%:%
%:%566=191%:%
%:%570=191%:%
%:%571=191%:%
%:%572=192%:%
%:%573=192%:%
%:%578=192%:%
%:%581=193%:%
%:%582=194%:%
%:%583=194%:%
%:%584=195%:%
%:%585=196%:%
%:%586=197%:%
%:%587=198%:%
%:%588=199%:%
%:%589=200%:%
%:%590=201%:%
%:%591=202%:%
%:%594=205%:%
%:%595=206%:%
%:%597=208%:%
%:%598=209%:%
%:%600=211%:%
%:%601=212%:%
%:%602=213%:%
%:%603=214%:%
%:%604=215%:%
%:%605=216%:%
%:%609=220%:%
%:%610=221%:%
%:%611=222%:%
%:%612=223%:%
%:%613=224%:%
%:%614=224%:%
%:%615=225%:%
%:%616=226%:%
%:%617=227%:%
%:%618=227%:%
%:%621=228%:%
%:%625=228%:%
%:%626=228%:%
%:%631=228%:%
%:%634=229%:%
%:%635=230%:%
%:%636=230%:%
%:%639=231%:%
%:%643=231%:%
%:%644=231%:%
%:%645=232%:%
%:%646=232%:%
%:%651=232%:%
%:%654=233%:%
%:%655=234%:%
%:%656=234%:%
%:%659=235%:%
%:%663=235%:%
%:%664=235%:%
%:%669=235%:%
%:%672=236%:%
%:%673=237%:%
%:%674=237%:%
%:%675=238%:%
%:%676=239%:%
%:%677=240%:%
%:%678=240%:%
%:%681=241%:%
%:%685=241%:%
%:%686=241%:%
%:%687=242%:%
%:%688=242%:%
%:%693=242%:%
%:%696=243%:%
%:%697=244%:%
%:%698=244%:%
%:%701=245%:%
%:%705=245%:%
%:%706=245%:%
%:%711=245%:%
%:%714=246%:%
%:%715=247%:%
%:%716=247%:%
%:%719=248%:%
%:%723=248%:%
%:%724=248%:%
%:%725=249%:%
%:%726=249%:%
%:%731=249%:%
%:%734=250%:%
%:%735=251%:%
%:%736=251%:%
%:%739=252%:%
%:%743=252%:%
%:%744=252%:%
%:%745=253%:%
%:%746=253%:%
%:%751=253%:%
%:%754=254%:%
%:%755=255%:%
%:%756=255%:%
%:%759=256%:%
%:%763=256%:%
%:%764=256%:%
%:%765=257%:%
%:%766=257%:%
%:%767=258%:%
%:%768=258%:%
%:%769=259%:%
%:%770=259%:%
%:%775=259%:%
%:%778=260%:%
%:%779=261%:%
%:%780=261%:%
%:%787=262%:%
%:%788=262%:%
%:%789=263%:%
%:%790=263%:%
%:%791=264%:%
%:%792=264%:%
%:%793=264%:%
%:%794=264%:%
%:%795=265%:%
%:%796=265%:%
%:%797=266%:%
%:%798=266%:%
%:%799=267%:%
%:%800=267%:%
%:%801=267%:%
%:%802=268%:%
%:%803=268%:%
%:%804=269%:%
%:%805=269%:%
%:%806=269%:%
%:%807=270%:%
%:%808=270%:%
%:%809=271%:%
%:%810=271%:%
%:%811=272%:%
%:%812=272%:%
%:%813=273%:%
%:%814=273%:%
%:%815=274%:%
%:%816=274%:%
%:%817=275%:%
%:%818=275%:%
%:%819=275%:%
%:%820=276%:%
%:%821=276%:%
%:%822=277%:%
%:%823=277%:%
%:%824=278%:%
%:%825=278%:%
%:%826=279%:%
%:%827=279%:%
%:%828=279%:%
%:%829=280%:%
%:%830=280%:%
%:%831=280%:%
%:%832=281%:%
%:%833=281%:%
%:%834=281%:%
%:%835=282%:%
%:%836=282%:%
%:%837=283%:%
%:%838=283%:%
%:%839=284%:%
%:%845=284%:%
%:%848=285%:%
%:%849=286%:%
%:%850=286%:%
%:%853=287%:%
%:%857=287%:%
%:%858=287%:%
%:%863=287%:%
%:%866=288%:%
%:%867=289%:%
%:%868=289%:%
%:%871=290%:%
%:%875=290%:%
%:%876=290%:%
%:%881=290%:%
%:%884=291%:%
%:%885=292%:%
%:%886=292%:%
%:%887=293%:%
%:%888=294%:%
%:%889=295%:%
%:%890=296%:%
%:%891=297%:%
%:%892=298%:%
%:%893=298%:%
%:%894=299%:%
%:%895=300%:%
%:%896=301%:%
%:%897=302%:%
%:%898=302%:%
%:%899=303%:%
%:%900=304%:%
%:%901=305%:%
%:%902=305%:%
%:%905=306%:%
%:%909=306%:%
%:%910=306%:%
%:%915=306%:%
%:%918=307%:%
%:%919=308%:%
%:%920=308%:%
%:%921=309%:%
%:%922=310%:%
%:%923=311%:%
%:%924=312%:%
%:%925=313%:%
%:%926=314%:%
%:%927=315%:%
%:%928=315%:%
%:%929=316%:%
%:%930=317%:%
%:%931=318%:%
%:%932=318%:%
%:%935=319%:%
%:%939=319%:%
%:%940=319%:%
%:%941=320%:%
%:%942=320%:%
%:%943=321%:%
%:%944=321%:%
%:%945=322%:%
%:%946=322%:%
%:%947=323%:%
%:%948=323%:%
%:%949=324%:%
%:%950=324%:%
%:%951=325%:%
%:%952=325%:%
%:%953=326%:%
%:%954=326%:%
%:%955=326%:%
%:%960=326%:%
%:%963=327%:%
%:%964=328%:%
%:%965=328%:%
%:%968=329%:%
%:%972=329%:%
%:%973=329%:%
%:%974=330%:%
%:%975=330%:%
%:%976=331%:%
%:%977=331%:%
%:%978=332%:%
%:%979=332%:%
%:%984=332%:%
%:%987=333%:%
%:%988=334%:%
%:%989=334%:%
%:%996=335%:%
%:%997=335%:%
%:%998=336%:%
%:%999=336%:%
%:%1000=337%:%
%:%1001=337%:%
%:%1002=337%:%
%:%1003=337%:%
%:%1004=338%:%
%:%1005=338%:%
%:%1006=339%:%
%:%1007=339%:%
%:%1008=340%:%
%:%1009=340%:%
%:%1010=340%:%
%:%1011=341%:%
%:%1012=341%:%
%:%1013=342%:%
%:%1014=342%:%
%:%1015=343%:%
%:%1016=343%:%
%:%1017=344%:%
%:%1018=344%:%
%:%1019=345%:%
%:%1020=345%:%
%:%1021=346%:%
%:%1022=346%:%
%:%1023=347%:%
%:%1024=347%:%
%:%1025=347%:%
%:%1026=348%:%
%:%1027=348%:%
%:%1028=349%:%
%:%1029=349%:%
%:%1030=350%:%
%:%1031=350%:%
%:%1032=351%:%
%:%1033=351%:%
%:%1034=352%:%
%:%1035=352%:%
%:%1036=353%:%
%:%1037=353%:%
%:%1038=353%:%
%:%1039=354%:%
%:%1040=354%:%
%:%1041=355%:%
%:%1042=355%:%
%:%1043=356%:%
%:%1044=356%:%
%:%1045=357%:%
%:%1051=357%:%
%:%1054=358%:%
%:%1055=359%:%
%:%1056=359%:%
%:%1059=360%:%
%:%1063=360%:%
%:%1064=360%:%
%:%1069=360%:%
%:%1072=361%:%
%:%1073=362%:%
%:%1074=362%:%
%:%1075=363%:%
%:%1076=364%:%
%:%1077=365%:%
%:%1078=365%:%
%:%1081=366%:%
%:%1085=366%:%
%:%1086=366%:%
%:%1087=367%:%
%:%1088=367%:%
%:%1093=367%:%
%:%1096=368%:%
%:%1097=369%:%
%:%1098=369%:%
%:%1099=370%:%
%:%1100=371%:%
%:%1101=372%:%
%:%1102=372%:%
%:%1105=373%:%
%:%1109=373%:%
%:%1110=373%:%
%:%1115=373%:%
%:%1118=374%:%
%:%1119=375%:%
%:%1120=375%:%
%:%1121=376%:%
%:%1122=377%:%
%:%1123=378%:%
%:%1124=379%:%
%:%1125=379%:%
%:%1126=380%:%
%:%1127=381%:%
%:%1131=385%:%
%:%1132=386%:%
%:%1133=387%:%
%:%1134=387%:%
%:%1135=388%:%
%:%1136=389%:%
%:%1137=390%:%
%:%1138=390%:%
%:%1139=391%:%
%:%1140=392%:%
%:%1141=393%:%
%:%1142=393%:%
%:%1144=395%:%
%:%1151=396%:%
%:%1152=396%:%
%:%1153=397%:%
%:%1154=397%:%
%:%1155=398%:%
%:%1156=398%:%
%:%1157=399%:%
%:%1158=399%:%
%:%1160=401%:%
%:%1161=402%:%
%:%1162=402%:%
%:%1163=403%:%
%:%1164=403%:%
%:%1165=404%:%
%:%1166=404%:%
%:%1167=405%:%
%:%1168=405%:%
%:%1169=406%:%
%:%1170=406%:%
%:%1171=407%:%
%:%1172=407%:%
%:%1173=408%:%
%:%1174=408%:%
%:%1175=409%:%
%:%1176=409%:%
%:%1177=410%:%
%:%1178=410%:%
%:%1179=410%:%
%:%1180=411%:%
%:%1186=411%:%
%:%1189=412%:%
%:%1190=413%:%
%:%1191=413%:%
%:%1194=414%:%
%:%1198=414%:%
%:%1199=414%:%
%:%1204=414%:%
%:%1207=415%:%
%:%1208=416%:%
%:%1209=416%:%
%:%1212=417%:%
%:%1216=417%:%
%:%1217=417%:%
%:%1218=418%:%
%:%1219=418%:%
%:%1220=419%:%
%:%1221=419%:%
%:%1222=420%:%
%:%1223=420%:%
%:%1224=421%:%
%:%1225=421%:%
%:%1226=422%:%
%:%1227=422%:%
%:%1228=423%:%
%:%1229=423%:%
%:%1230=424%:%
%:%1231=424%:%
%:%1236=424%:%
%:%1239=425%:%
%:%1240=426%:%
%:%1241=427%:%
%:%1242=427%:%
%:%1243=428%:%
%:%1248=433%:%
%:%1249=434%:%
%:%1250=435%:%
%:%1251=435%:%
%:%1252=436%:%
%:%1255=437%:%
%:%1259=437%:%
%:%1260=437%:%
%:%1265=437%:%
%:%1268=438%:%
%:%1269=439%:%
%:%1270=439%:%
%:%1271=440%:%
%:%1274=441%:%
%:%1278=441%:%
%:%1279=441%:%
%:%1284=441%:%
%:%1287=442%:%
%:%1288=443%:%
%:%1289=443%:%
%:%1290=444%:%
%:%1293=445%:%
%:%1297=445%:%
%:%1298=445%:%
%:%1303=445%:%
%:%1306=446%:%
%:%1307=447%:%
%:%1308=447%:%
%:%1309=448%:%
%:%1312=449%:%
%:%1316=449%:%
%:%1317=449%:%
%:%1322=449%:%
%:%1325=450%:%
%:%1326=451%:%
%:%1327=451%:%
%:%1335=459%:%
%:%1338=460%:%
%:%1342=460%:%
%:%1343=460%:%
%:%1348=460%:%
%:%1351=461%:%
%:%1352=462%:%
%:%1353=462%:%
%:%1354=463%:%
%:%1355=464%:%
%:%1356=465%:%
%:%1357=465%:%
%:%1360=466%:%
%:%1364=466%:%
%:%1365=466%:%
%:%1370=466%:%
%:%1373=467%:%
%:%1374=468%:%
%:%1375=468%:%
%:%1378=469%:%
%:%1382=469%:%
%:%1383=469%:%
%:%1388=469%:%
%:%1391=470%:%
%:%1392=471%:%
%:%1393=471%:%
%:%1396=472%:%
%:%1400=472%:%
%:%1401=472%:%
%:%1406=472%:%
%:%1409=473%:%
%:%1410=474%:%
%:%1411=474%:%
%:%1414=475%:%
%:%1418=475%:%
%:%1419=475%:%
%:%1424=475%:%
%:%1427=476%:%
%:%1428=477%:%
%:%1429=477%:%
%:%1432=478%:%
%:%1436=478%:%
%:%1437=478%:%
%:%1442=478%:%
%:%1445=479%:%
%:%1446=480%:%
%:%1447=480%:%
%:%1450=481%:%
%:%1454=481%:%
%:%1455=481%:%
%:%1460=481%:%
%:%1463=482%:%
%:%1464=483%:%
%:%1465=483%:%
%:%1468=484%:%
%:%1472=484%:%
%:%1473=484%:%
%:%1478=484%:%
%:%1481=485%:%
%:%1482=486%:%
%:%1483=486%:%
%:%1486=487%:%
%:%1490=487%:%
%:%1491=487%:%
%:%1492=488%:%
%:%1493=488%:%
%:%1494=489%:%
%:%1495=489%:%
%:%1496=490%:%
%:%1497=490%:%
%:%1502=490%:%
%:%1505=491%:%
%:%1506=492%:%
%:%1507=492%:%
%:%1514=493%:%
%:%1515=493%:%
%:%1516=494%:%
%:%1517=494%:%
%:%1518=495%:%
%:%1519=495%:%
%:%1520=495%:%
%:%1521=495%:%
%:%1522=496%:%
%:%1523=496%:%
%:%1524=497%:%
%:%1525=497%:%
%:%1526=498%:%
%:%1527=498%:%
%:%1528=498%:%
%:%1529=499%:%
%:%1530=499%:%
%:%1531=500%:%
%:%1532=500%:%
%:%1533=501%:%
%:%1534=501%:%
%:%1535=502%:%
%:%1536=502%:%
%:%1537=503%:%
%:%1538=503%:%
%:%1539=503%:%
%:%1540=504%:%
%:%1541=504%:%
%:%1542=505%:%
%:%1543=505%:%
%:%1544=506%:%
%:%1545=506%:%
%:%1546=507%:%
%:%1547=507%:%
%:%1548=507%:%
%:%1549=508%:%
%:%1550=508%:%
%:%1551=509%:%
%:%1557=509%:%
%:%1560=510%:%
%:%1561=511%:%
%:%1562=511%:%
%:%1565=512%:%
%:%1569=512%:%
%:%1570=512%:%
%:%1571=513%:%
%:%1572=513%:%
%:%1573=514%:%
%:%1574=514%:%
%:%1575=515%:%
%:%1576=515%:%
%:%1581=515%:%
%:%1584=516%:%
%:%1585=517%:%
%:%1586=517%:%
%:%1589=518%:%
%:%1593=518%:%
%:%1594=518%:%
%:%1595=519%:%
%:%1596=519%:%
%:%1601=519%:%
%:%1604=520%:%
%:%1605=521%:%
%:%1606=521%:%
%:%1609=522%:%
%:%1613=522%:%
%:%1614=522%:%
%:%1615=523%:%
%:%1616=523%:%
%:%1621=523%:%
%:%1624=524%:%
%:%1625=525%:%
%:%1626=525%:%
%:%1629=526%:%
%:%1633=526%:%
%:%1634=526%:%
%:%1635=527%:%
%:%1636=527%:%
%:%1637=528%:%
%:%1638=528%:%
%:%1639=529%:%
%:%1640=529%:%
%:%1641=530%:%
%:%1642=530%:%
%:%1647=530%:%
%:%1650=531%:%
%:%1651=532%:%
%:%1652=532%:%
%:%1655=533%:%
%:%1659=533%:%
%:%1660=533%:%
%:%1661=533%:%
%:%1666=533%:%
%:%1669=534%:%
%:%1670=535%:%
%:%1671=535%:%
%:%1674=536%:%
%:%1678=536%:%
%:%1679=536%:%
%:%1684=536%:%
%:%1687=537%:%
%:%1688=538%:%
%:%1689=538%:%
%:%1691=540%:%
%:%1694=541%:%
%:%1698=541%:%
%:%1699=541%:%
%:%1704=541%:%
%:%1709=542%:%
%:%1714=543%:%