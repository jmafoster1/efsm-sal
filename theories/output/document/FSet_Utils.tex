%
\begin{isabellebody}%
\setisabellecontext{FSet{\isacharunderscore}Utils}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ FSet{\isacharunderscore}Utils\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}{\isachartilde}{\isachartilde}{\isacharslash}src{\isacharslash}HOL{\isacharslash}Library{\isacharslash}FSet{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{syntax}\isamarkupfalse%
\ {\isacharparenleft}ASCII{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}fBall{\isachardoublequoteclose}\ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}pttrn\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{3}}ALL\ {\isacharparenleft}{\isacharunderscore}{\isacharslash}{\isacharcolon}{\isacharunderscore}{\isacharparenright}{\isachardot}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}fBex{\isachardoublequoteclose}\ \ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}pttrn\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{3}}EX\ {\isacharparenleft}{\isacharunderscore}{\isacharslash}{\isacharcolon}{\isacharunderscore}{\isacharparenright}{\isachardot}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}fBex{\isadigit{1}}{\isachardoublequoteclose}\ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}pttrn\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{3}}EX{\isacharbang}\ {\isacharparenleft}{\isacharunderscore}{\isacharslash}{\isacharcolon}{\isacharunderscore}{\isacharparenright}{\isachardot}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isacharparenright}\isanewline
\isanewline
\isacommand{syntax}\isamarkupfalse%
\ {\isacharparenleft}input{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}fBall{\isachardoublequoteclose}\ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}pttrn\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{3}}{\isacharbang}\ {\isacharparenleft}{\isacharunderscore}{\isacharslash}{\isacharcolon}{\isacharunderscore}{\isacharparenright}{\isachardot}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}fBex{\isachardoublequoteclose}\ \ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}pttrn\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{3}}{\isacharquery}\ {\isacharparenleft}{\isacharunderscore}{\isacharslash}{\isacharcolon}{\isacharunderscore}{\isacharparenright}{\isachardot}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}fBex{\isadigit{1}}{\isachardoublequoteclose}\ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}pttrn\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{3}}{\isacharquery}{\isacharbang}\ {\isacharparenleft}{\isacharunderscore}{\isacharslash}{\isacharcolon}{\isacharunderscore}{\isacharparenright}{\isachardot}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isacharparenright}\isanewline
\isanewline
\isacommand{syntax}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}fBall{\isachardoublequoteclose}\ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}pttrn\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{3}}{\isasymforall}{\isacharparenleft}{\isacharunderscore}{\isacharslash}{\isacharbar}{\isasymin}{\isacharbar}{\isacharunderscore}{\isacharparenright}{\isachardot}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}fBex{\isachardoublequoteclose}\ \ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}pttrn\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{3}}{\isasymexists}{\isacharparenleft}{\isacharunderscore}{\isacharslash}{\isacharbar}{\isasymin}{\isacharbar}{\isacharunderscore}{\isacharparenright}{\isachardot}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}fBex{\isadigit{1}}{\isachardoublequoteclose}\ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}pttrn\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{3}}{\isasymexists}{\isacharbang}{\isacharparenleft}{\isacharunderscore}{\isacharslash}{\isacharbar}{\isasymin}{\isacharbar}{\isacharunderscore}{\isacharparenright}{\isachardot}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isacharparenright}\isanewline
\isanewline
\isacommand{translations}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}x{\isacharbar}{\isasymin}{\isacharbar}A{\isachardot}\ P{\isachardoublequoteclose}\ {\isasymrightleftharpoons}\ {\isachardoublequoteopen}CONST\ fBall\ A\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ P{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isasymexists}x{\isacharbar}{\isasymin}{\isacharbar}A{\isachardot}\ P{\isachardoublequoteclose}\ {\isasymrightleftharpoons}\ {\isachardoublequoteopen}CONST\ fBex\ A\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ P{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}x{\isacharbar}{\isasymin}{\isacharbar}A{\isachardot}\ P{\isachardoublequoteclose}\ {\isasymrightharpoonup}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}x{\isachardot}\ x\ {\isacharbar}{\isasymin}{\isacharbar}\ A\ {\isasymand}\ P{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ \isakeyword{includes}\ fset{\isachardot}lifting\ \isakeyword{begin}\isanewline
\ \ \isacommand{lift{\isacharunderscore}definition}\isamarkupfalse%
\ fprod\ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ fset\ {\isasymRightarrow}\ {\isacharprime}b\ fset\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}a\ {\isasymtimes}\ {\isacharprime}b{\isacharparenright}\ fset\ {\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{infixr}\ {\isachardoublequoteopen}{\isacharbar}{\isasymtimes}{\isacharbar}{\isachardoublequoteclose}\ {\isadigit{8}}{\isadigit{0}}{\isacharparenright}\ \isakeyword{is}\ {\isachardoublequoteopen}{\isasymlambda}a\ b{\isachardot}\ fset\ a\ {\isasymtimes}\ fset\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ \ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\ \ \isacommand{lift{\isacharunderscore}definition}\isamarkupfalse%
\ fis{\isacharunderscore}singleton\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ fset\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{is}\ {\isachardoublequoteopen}{\isasymlambda}A{\isachardot}\ is{\isacharunderscore}singleton\ {\isacharparenleft}fset\ A{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{{\isachardot}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}fSum\ {\isasymequiv}\ fsum\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}member{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isacharbar}{\isasymin}{\isacharbar}\ xs\ {\isasymLongrightarrow}\ y\ {\isacharbar}{\isasymin}{\isacharbar}\ ys\ {\isasymLongrightarrow}\ {\isacharparenleft}x{\isacharcomma}\ y{\isacharparenright}\ {\isacharbar}{\isasymin}{\isacharbar}\ xs\ {\isacharbar}{\isasymtimes}{\isacharbar}\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fmember{\isacharunderscore}def\ fprod{\isacharunderscore}def\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}empty{\isacharunderscore}l{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ {\isacharbar}{\isasymtimes}{\isacharbar}\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ bot{\isacharunderscore}fset{\isacharunderscore}def\ fprod{\isachardot}abs{\isacharunderscore}eq\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}empty{\isacharunderscore}r{\isacharcolon}\ {\isachardoublequoteopen}a\ {\isacharbar}{\isasymtimes}{\isacharbar}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fprod{\isacharunderscore}def\ bot{\isacharunderscore}fset{\isacharunderscore}def\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ fprod{\isacharunderscore}empty\ {\isacharequal}\ fprod{\isacharunderscore}empty{\isacharunderscore}l\ fprod{\isacharunderscore}empty{\isacharunderscore}r\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}finsert{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}finsert\ a\ as{\isacharparenright}\ {\isacharbar}{\isasymtimes}{\isacharbar}\ {\isacharparenleft}finsert\ b\ bs{\isacharparenright}\ {\isacharequal}\ finsert\ {\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}\ {\isacharparenleft}fimage\ {\isacharparenleft}{\isasymlambda}b{\isachardot}\ {\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}{\isacharparenright}\ bs\ {\isacharbar}{\isasymunion}{\isacharbar}\ fimage\ {\isacharparenleft}{\isasymlambda}a{\isachardot}\ {\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}{\isacharparenright}\ as\ {\isacharbar}{\isasymunion}{\isacharbar}\ {\isacharparenleft}as\ {\isacharbar}{\isasymtimes}{\isacharbar}\ bs{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ finsert{\isacharunderscore}def\ fprod{\isacharunderscore}def\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ arg{\isacharunderscore}cong{\isacharbrackleft}of\ {\isachardoublequoteopen}{\isacharparenleft}insert\ {\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}\ {\isacharparenleft}fset\ as\ {\isasymtimes}\ insert\ b\ {\isacharparenleft}fset\ bs{\isacharparenright}\ {\isasymunion}\ insert\ a\ {\isacharparenleft}fset\ as{\isacharparenright}\ {\isasymtimes}\ fset\ bs{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}insert\ {\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}\ {\isacharparenleft}Pair\ a\ {\isacharbackquote}\ fset\ bs\ {\isasymunion}\ {\isacharparenleft}{\isasymlambda}a{\isachardot}\ {\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}{\isacharparenright}\ {\isacharbackquote}\ fset\ as\ {\isasymunion}\ fset\ as\ {\isasymtimes}\ fset\ bs{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Abs{\isacharunderscore}fset{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fis{\isacharunderscore}singleton{\isacharunderscore}code\ {\isacharbrackleft}code{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}fis{\isacharunderscore}singleton\ s\ {\isacharequal}\ {\isacharparenleft}size\ s\ {\isacharequal}\ {\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fis{\isacharunderscore}singleton{\isacharunderscore}def\ is{\isacharunderscore}singleton{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ card{\isacharunderscore}Suc{\isacharunderscore}eq{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}subseteq{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ x{\isacharprime}\ {\isasymand}\ y\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ y{\isacharprime}\ {\isasymLongrightarrow}\ x\ {\isacharbar}{\isasymtimes}{\isacharbar}\ y\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ x{\isacharprime}\ {\isacharbar}{\isasymtimes}{\isacharbar}\ y{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fprod{\isacharunderscore}def\ less{\isacharunderscore}eq{\isacharunderscore}fset{\isacharunderscore}def\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fimage{\isacharunderscore}fprod{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}\ {\isacharbar}{\isasymin}{\isacharbar}\ A\ {\isacharbar}{\isasymtimes}{\isacharbar}\ B\ {\isasymLongrightarrow}\ f\ a\ b\ {\isacharbar}{\isasymin}{\isacharbar}\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}x{\isacharcomma}\ y{\isacharparenright}{\isachardot}\ f\ x\ y{\isacharparenright}\ {\isacharbar}{\isacharbackquote}{\isacharbar}\ {\isacharparenleft}A\ {\isacharbar}{\isasymtimes}{\isacharbar}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}singletons{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbar}a{\isacharbar}{\isacharbraceright}\ {\isacharbar}{\isasymtimes}{\isacharbar}\ {\isacharbraceleft}{\isacharbar}b{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fprod{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ fset{\isacharunderscore}inverse\ fset{\isacharunderscore}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ fset{\isacharunderscore}simps{\isacharparenleft}{\isadigit{2}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}equiv{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}fset\ {\isacharparenleft}f\ {\isacharbar}{\isasymtimes}{\isacharbar}\ f{\isacharprime}{\isacharparenright}\ {\isacharequal}\ s{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}{\isacharparenleft}fset\ f{\isacharparenright}\ {\isasymtimes}\ {\isacharparenleft}fset\ f{\isacharprime}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fprod{\isacharunderscore}def\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fset{\isacharunderscore}both{\isacharunderscore}sides{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}Abs{\isacharunderscore}fset\ s\ {\isacharequal}\ f{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}fset\ {\isacharparenleft}Abs{\isacharunderscore}fset\ s{\isacharparenright}\ {\isacharequal}\ fset\ f{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fset{\isacharunderscore}inject{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Abs{\isacharunderscore}ffilter{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}ffilter\ f\ s\ {\isacharequal}\ s{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Set{\isachardot}filter\ f\ {\isacharparenleft}fset\ s{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}fset\ s{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Abs{\isacharunderscore}fimage{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}fimage\ f\ s\ {\isacharequal}\ s{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Set{\isachardot}image\ f\ {\isacharparenleft}fset\ s{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}fset\ s{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fimage{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ffilter{\isacharunderscore}empty\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}ffilter\ f\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ffilter{\isacharunderscore}finsert{\isacharcolon}\ {\isachardoublequoteopen}ffilter\ f\ {\isacharparenleft}finsert\ a\ s{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}if\ f\ a\ then\ finsert\ a\ {\isacharparenleft}ffilter\ f\ s{\isacharparenright}\ else\ {\isacharparenleft}ffilter\ f\ s{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ standard\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ singleton{\isacharunderscore}singleton\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}fis{\isacharunderscore}singleton\ {\isacharbraceleft}{\isacharbar}a{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fis{\isacharunderscore}singleton{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}singleton{\isacharunderscore}empty\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ fis{\isacharunderscore}singleton\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fis{\isacharunderscore}singleton{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ is{\isacharunderscore}singleton{\isacharunderscore}altdef{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fset{\isacharunderscore}equiv{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}f{\isadigit{1}}\ {\isacharequal}\ f{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}fset\ f{\isadigit{1}}\ {\isacharequal}\ fset\ f{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fset{\isacharunderscore}inject{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finsert{\isacharunderscore}equiv{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}finsert\ e\ f\ {\isacharequal}\ f{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}insert\ e\ {\isacharparenleft}fset\ f{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}fset\ f{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ finsert{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}elements{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isacharbar}{\isasymin}{\isacharbar}\ Abs{\isacharunderscore}fset\ {\isacharparenleft}Set{\isachardot}filter\ f\ {\isacharparenleft}fset\ s{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}x\ {\isasymin}\ {\isacharparenleft}Set{\isachardot}filter\ f\ {\isacharparenleft}fset\ s{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ ffilter{\isachardot}rep{\isacharunderscore}eq\ fset{\isacharunderscore}inverse\ notin{\isacharunderscore}fset{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ singleton{\isacharunderscore}equiv{\isacharcolon}\ {\isachardoublequoteopen}is{\isacharunderscore}singleton\ s\ {\isasymLongrightarrow}\ {\isacharparenleft}the{\isacharunderscore}elem\ s\ {\isacharequal}\ i{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}s\ {\isacharequal}\ {\isacharbraceleft}i{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}meson\ is{\isacharunderscore}singleton{\isacharunderscore}the{\isacharunderscore}elem\ the{\isacharunderscore}elem{\isacharunderscore}eq{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}empty\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fmember{\isacharunderscore}implies{\isacharunderscore}member{\isacharcolon}\ {\isachardoublequoteopen}e\ {\isacharbar}{\isasymin}{\isacharbar}\ f\ {\isasymLongrightarrow}\ e\ {\isasymin}\ fset\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fmember{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fold{\isacharunderscore}union{\isacharunderscore}ffUnion{\isacharcolon}\ {\isachardoublequoteopen}fold\ {\isacharparenleft}{\isacharbar}{\isasymunion}{\isacharbar}{\isacharparenright}\ l\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ ffUnion\ {\isacharparenleft}fset{\isacharunderscore}of{\isacharunderscore}list\ l{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ l\ rule{\isacharcolon}\ rev{\isacharunderscore}induct{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}snoc\ a\ l{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}filter{\isacharcolon}\ {\isachardoublequoteopen}ffilter\ P\ {\isacharparenleft}ffilter\ Q\ xs{\isacharparenright}\ {\isacharequal}\ ffilter\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ Q\ x\ {\isasymand}\ P\ x{\isacharparenright}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fsubset{\isacharunderscore}strict{\isacharcolon}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharbar}{\isasymsubset}{\isacharbar}\ x{\isadigit{1}}\ {\isasymLongrightarrow}\ {\isasymexists}e{\isachardot}\ e\ {\isacharbar}{\isasymin}{\isacharbar}\ x{\isadigit{1}}\ {\isasymand}\ e\ {\isacharbar}{\isasymnotin}{\isacharbar}\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fsubset{\isacharcolon}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharbar}{\isasymsubset}{\isacharbar}\ x{\isadigit{1}}\ {\isasymLongrightarrow}\ {\isasymnexists}e{\isachardot}\ e\ {\isacharbar}{\isasymin}{\isacharbar}\ x{\isadigit{2}}\ {\isasymand}\ e\ {\isacharbar}{\isasymnotin}{\isacharbar}\ x{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ size{\isacharunderscore}fsubset{\isacharunderscore}elem{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymexists}e{\isachardot}\ e\ {\isacharbar}{\isasymin}{\isacharbar}\ x{\isadigit{1}}\ {\isasymand}\ e\ {\isacharbar}{\isasymnotin}{\isacharbar}\ x{\isadigit{2}}\ {\isasymLongrightarrow}\isanewline
\ \ \ {\isasymnexists}e{\isachardot}\ e\ {\isacharbar}{\isasymin}{\isacharbar}\ x{\isadigit{2}}\ {\isasymand}\ e\ {\isacharbar}{\isasymnotin}{\isacharbar}\ x{\isadigit{1}}\ {\isasymLongrightarrow}\isanewline
\ \ \ size\ x{\isadigit{2}}\ {\isacharless}\ size\ x{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fmember{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ card{\isacharunderscore}seteq\ finite{\isacharunderscore}fset\ linorder{\isacharunderscore}not{\isacharunderscore}le\ subsetI{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ size{\isacharunderscore}fsubset{\isacharcolon}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharbar}{\isasymsubset}{\isacharbar}\ x{\isadigit{1}}\ {\isasymLongrightarrow}\ size\ x{\isadigit{2}}\ {\isacharless}\ size\ x{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fsubset\ fsubset{\isacharunderscore}strict\ size{\isacharunderscore}fsubset{\isacharunderscore}elem\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ fremove\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ fset\ {\isasymRightarrow}\ {\isacharprime}a\ fset{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isacharbrackleft}code{\isacharunderscore}abbrev{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}fremove\ x\ A\ {\isacharequal}\ A\ {\isacharminus}\ {\isacharbraceleft}{\isacharbar}x{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arg{\isacharunderscore}cong{\isacharunderscore}ffilter{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}e\ {\isacharbar}{\isasymin}{\isacharbar}\ f{\isachardot}\ p\ e\ {\isacharequal}\ p{\isacharprime}\ e\ {\isasymLongrightarrow}\ ffilter\ p\ f\ {\isacharequal}\ ffilter\ p{\isacharprime}\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ffilter{\isacharunderscore}singleton{\isacharcolon}\ {\isachardoublequoteopen}f\ e\ {\isasymLongrightarrow}\ ffilter\ f\ {\isacharbraceleft}{\isacharbar}e{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}e{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ffilter{\isacharunderscore}true{\isacharcolon}\ {\isachardoublequoteopen}ffilter\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ True{\isacharparenright}\ f\ {\isacharequal}\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ffilter{\isacharunderscore}true{\isacharunderscore}pair{\isacharcolon}\ {\isachardoublequoteopen}ffilter\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}x{\isacharcomma}\ y{\isacharparenright}{\isachardot}\ True{\isacharparenright}\ f\ {\isacharequal}\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ffilter{\isacharunderscore}out{\isacharunderscore}all{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}e\ {\isacharbar}{\isasymin}{\isacharbar}\ f{\isachardot}\ {\isasymnot}P\ e\ {\isasymLongrightarrow}\ ffilter\ P\ f\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fBall{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fset{\isacharunderscore}eq{\isacharunderscore}alt{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}x\ {\isacharequal}\ y{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}x\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ y\ {\isasymand}\ size\ x\ {\isacharequal}\ size\ y{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ exists{\isacharunderscore}least{\isacharunderscore}iff\ le{\isacharunderscore}less\ size{\isacharunderscore}fsubset{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/efsm-sal/theories/FSet_Utils.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%18=3%:%
%:%21=4%:%
%:%22=5%:%
%:%23=5%:%
%:%24=6%:%
%:%25=7%:%
%:%26=8%:%
%:%27=9%:%
%:%28=10%:%
%:%29=10%:%
%:%30=11%:%
%:%31=12%:%
%:%32=13%:%
%:%33=14%:%
%:%34=15%:%
%:%35=15%:%
%:%36=16%:%
%:%37=17%:%
%:%38=18%:%
%:%39=19%:%
%:%40=20%:%
%:%41=20%:%
%:%42=21%:%
%:%43=22%:%
%:%44=23%:%
%:%45=24%:%
%:%46=25%:%
%:%47=25%:%
%:%48=26%:%
%:%49=26%:%
%:%52=27%:%
%:%56=27%:%
%:%57=27%:%
%:%62=27%:%
%:%65=28%:%
%:%66=29%:%
%:%67=29%:%
%:%73=29%:%
%:%81=29%:%
%:%82=30%:%
%:%83=30%:%
%:%84=31%:%
%:%85=32%:%
%:%86=32%:%
%:%87=33%:%
%:%88=34%:%
%:%89=34%:%
%:%92=35%:%
%:%96=35%:%
%:%97=35%:%
%:%102=35%:%
%:%105=36%:%
%:%106=37%:%
%:%107=37%:%
%:%110=38%:%
%:%114=38%:%
%:%115=38%:%
%:%116=38%:%
%:%121=38%:%
%:%124=39%:%
%:%125=40%:%
%:%126=40%:%
%:%129=41%:%
%:%133=41%:%
%:%134=41%:%
%:%139=41%:%
%:%142=42%:%
%:%143=43%:%
%:%144=43%:%
%:%145=44%:%
%:%146=45%:%
%:%147=45%:%
%:%150=46%:%
%:%154=46%:%
%:%155=46%:%
%:%156=47%:%
%:%157=47%:%
%:%158=48%:%
%:%159=49%:%
%:%160=50%:%
%:%161=50%:%
%:%166=50%:%
%:%169=51%:%
%:%170=52%:%
%:%171=52%:%
%:%174=53%:%
%:%178=53%:%
%:%179=53%:%
%:%180=54%:%
%:%181=54%:%
%:%186=54%:%
%:%189=55%:%
%:%190=56%:%
%:%191=56%:%
%:%194=57%:%
%:%198=57%:%
%:%199=57%:%
%:%200=58%:%
%:%201=58%:%
%:%206=58%:%
%:%209=59%:%
%:%210=60%:%
%:%211=60%:%
%:%214=61%:%
%:%218=61%:%
%:%219=61%:%
%:%224=61%:%
%:%227=62%:%
%:%228=63%:%
%:%229=63%:%
%:%232=64%:%
%:%236=64%:%
%:%237=64%:%
%:%238=65%:%
%:%239=65%:%
%:%244=65%:%
%:%247=66%:%
%:%248=67%:%
%:%249=67%:%
%:%252=68%:%
%:%256=68%:%
%:%257=68%:%
%:%262=68%:%
%:%265=69%:%
%:%266=70%:%
%:%267=70%:%
%:%270=71%:%
%:%274=71%:%
%:%275=71%:%
%:%280=71%:%
%:%283=72%:%
%:%284=73%:%
%:%285=73%:%
%:%288=74%:%
%:%292=74%:%
%:%293=74%:%
%:%298=74%:%
%:%301=75%:%
%:%302=76%:%
%:%303=76%:%
%:%306=77%:%
%:%310=77%:%
%:%311=77%:%
%:%316=77%:%
%:%319=78%:%
%:%320=79%:%
%:%321=79%:%
%:%324=80%:%
%:%328=80%:%
%:%329=80%:%
%:%330=81%:%
%:%331=81%:%
%:%336=81%:%
%:%339=82%:%
%:%340=83%:%
%:%341=83%:%
%:%344=84%:%
%:%348=84%:%
%:%349=84%:%
%:%350=85%:%
%:%351=85%:%
%:%352=86%:%
%:%353=86%:%
%:%354=87%:%
%:%355=87%:%
%:%356=88%:%
%:%357=88%:%
%:%358=89%:%
%:%359=89%:%
%:%364=89%:%
%:%367=90%:%
%:%368=91%:%
%:%369=91%:%
%:%372=92%:%
%:%376=92%:%
%:%377=92%:%
%:%382=92%:%
%:%385=93%:%
%:%386=94%:%
%:%387=94%:%
%:%390=95%:%
%:%394=95%:%
%:%395=95%:%
%:%396=96%:%
%:%397=96%:%
%:%402=96%:%
%:%405=97%:%
%:%406=98%:%
%:%407=98%:%
%:%410=99%:%
%:%414=99%:%
%:%415=99%:%
%:%420=99%:%
%:%423=100%:%
%:%424=101%:%
%:%425=101%:%
%:%428=102%:%
%:%432=102%:%
%:%433=102%:%
%:%438=102%:%
%:%441=103%:%
%:%442=104%:%
%:%443=104%:%
%:%446=105%:%
%:%450=105%:%
%:%451=105%:%
%:%456=105%:%
%:%459=106%:%
%:%460=107%:%
%:%461=107%:%
%:%464=108%:%
%:%468=108%:%
%:%469=108%:%
%:%474=108%:%
%:%477=109%:%
%:%478=110%:%
%:%479=110%:%
%:%482=111%:%
%:%486=111%:%
%:%487=111%:%
%:%492=111%:%
%:%495=112%:%
%:%496=113%:%
%:%497=113%:%
%:%500=114%:%
%:%504=114%:%
%:%505=114%:%
%:%510=114%:%
%:%513=115%:%
%:%514=116%:%
%:%515=116%:%
%:%522=117%:%
%:%523=117%:%
%:%524=118%:%
%:%525=118%:%
%:%526=119%:%
%:%527=119%:%
%:%528=119%:%
%:%529=119%:%
%:%530=120%:%
%:%531=120%:%
%:%532=121%:%
%:%533=121%:%
%:%534=122%:%
%:%535=122%:%
%:%536=122%:%
%:%537=123%:%
%:%538=123%:%
%:%539=124%:%
%:%545=124%:%
%:%548=125%:%
%:%549=126%:%
%:%550=126%:%
%:%553=127%:%
%:%557=127%:%
%:%558=127%:%
%:%563=127%:%
%:%566=128%:%
%:%567=129%:%
%:%568=129%:%
%:%571=130%:%
%:%575=130%:%
%:%576=130%:%
%:%581=130%:%
%:%584=131%:%
%:%585=132%:%
%:%586=132%:%
%:%589=133%:%
%:%593=133%:%
%:%594=133%:%
%:%599=133%:%
%:%602=134%:%
%:%603=135%:%
%:%604=135%:%
%:%605=136%:%
%:%607=138%:%
%:%610=139%:%
%:%614=139%:%
%:%615=139%:%
%:%616=140%:%
%:%617=140%:%
%:%622=140%:%
%:%625=141%:%
%:%626=142%:%
%:%627=142%:%
%:%630=143%:%
%:%634=143%:%
%:%635=143%:%
%:%636=144%:%
%:%637=144%:%
%:%642=144%:%
%:%645=145%:%
%:%646=146%:%
%:%647=146%:%
%:%648=147%:%
%:%649=148%:%
%:%650=149%:%
%:%651=149%:%
%:%654=150%:%
%:%658=150%:%
%:%659=150%:%
%:%664=150%:%
%:%667=151%:%
%:%668=152%:%
%:%669=152%:%
%:%672=153%:%
%:%676=153%:%
%:%677=153%:%
%:%678=154%:%
%:%679=154%:%
%:%684=154%:%
%:%687=155%:%
%:%688=156%:%
%:%689=156%:%
%:%692=157%:%
%:%696=157%:%
%:%697=157%:%
%:%698=158%:%
%:%699=158%:%
%:%704=158%:%
%:%707=159%:%
%:%708=160%:%
%:%709=160%:%
%:%712=161%:%
%:%716=161%:%
%:%717=161%:%
%:%718=162%:%
%:%719=162%:%
%:%724=162%:%
%:%727=163%:%
%:%728=164%:%
%:%729=164%:%
%:%732=165%:%
%:%736=165%:%
%:%737=165%:%
%:%738=166%:%
%:%739=166%:%
%:%744=166%:%
%:%747=167%:%
%:%748=168%:%
%:%749=168%:%
%:%752=169%:%
%:%756=169%:%
%:%757=169%:%
%:%762=169%:%
%:%767=170%:%
%:%772=171%:%