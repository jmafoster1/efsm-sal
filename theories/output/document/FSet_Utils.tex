%
\begin{isabellebody}%
\setisabellecontext{FSet{\isacharunderscore}Utils}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ FSet{\isacharunderscore}Utils\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}{\isachartilde}{\isachartilde}{\isacharslash}src{\isacharslash}HOL{\isacharslash}Library{\isacharslash}FSet{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{context}\isamarkupfalse%
\ \isakeyword{includes}\ fset{\isachardot}lifting\ \isakeyword{begin}\isanewline
\isacommand{lift{\isacharunderscore}definition}\isamarkupfalse%
\ fprod\ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ fset\ {\isasymRightarrow}\ {\isacharprime}b\ fset\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}a\ {\isasymtimes}\ {\isacharprime}b{\isacharparenright}\ fset\ {\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{infixr}\ {\isachardoublequoteopen}{\isacharbar}{\isasymtimes}{\isacharbar}{\isachardoublequoteclose}\ {\isadigit{8}}{\isadigit{0}}{\isacharparenright}\ \isakeyword{is}\ {\isachardoublequoteopen}{\isasymlambda}a\ b{\isachardot}\ fset\ a\ {\isasymtimes}\ fset\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lift{\isacharunderscore}definition}\isamarkupfalse%
\ fis{\isacharunderscore}singleton\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ fset\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{is}\ {\isachardoublequoteopen}{\isasymlambda}A{\isachardot}\ is{\isacharunderscore}singleton\ {\isacharparenleft}fset\ A{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{{\isachardot}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fis{\isacharunderscore}singleton{\isacharunderscore}code{\isacharbrackleft}code{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}fis{\isacharunderscore}singleton\ s\ {\isacharequal}\ {\isacharparenleft}size\ s\ {\isacharequal}\ {\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fis{\isacharunderscore}singleton{\isacharunderscore}def\ is{\isacharunderscore}singleton{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ card{\isacharunderscore}Suc{\isacharunderscore}eq{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}subset{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ x{\isacharprime}\ {\isasymand}\ y\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ y{\isacharprime}\ {\isasymLongrightarrow}\ x\ {\isacharbar}{\isasymtimes}{\isacharbar}\ y\ {\isacharbar}{\isasymsubseteq}{\isacharbar}\ x{\isacharprime}\ {\isacharbar}{\isasymtimes}{\isacharbar}\ y{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fprod{\isacharunderscore}def\ less{\isacharunderscore}eq{\isacharunderscore}fset{\isacharunderscore}def\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fimage{\isacharunderscore}fprod{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}\ {\isacharbar}{\isasymin}{\isacharbar}\ A\ {\isacharbar}{\isasymtimes}{\isacharbar}\ B\ {\isasymLongrightarrow}\ f\ a\ b\ {\isacharbar}{\isasymin}{\isacharbar}\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}x{\isacharcomma}\ y{\isacharparenright}{\isachardot}\ f\ x\ y{\isacharparenright}\ {\isacharbar}{\isacharbackquote}{\isacharbar}\ {\isacharparenleft}A\ {\isacharbar}{\isasymtimes}{\isacharbar}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}singletons{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbar}a{\isacharbar}{\isacharbraceright}\ {\isacharbar}{\isasymtimes}{\isacharbar}\ {\isacharbraceleft}{\isacharbar}b{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharparenleft}a{\isacharcomma}\ b{\isacharparenright}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fprod{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ fset{\isacharunderscore}inverse\ fset{\isacharunderscore}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ fset{\isacharunderscore}simps{\isacharparenleft}{\isadigit{2}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fset{\isacharunderscore}both{\isacharunderscore}sides{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}Abs{\isacharunderscore}fset\ s\ {\isacharequal}\ f{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}fset\ {\isacharparenleft}Abs{\isacharunderscore}fset\ s{\isacharparenright}\ {\isacharequal}\ fset\ f{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fset{\isacharunderscore}inject{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Abs{\isacharunderscore}ffilter{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}ffilter\ f\ s\ {\isacharequal}\ s{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Set{\isachardot}filter\ f\ {\isacharparenleft}fset\ s{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}fset\ s{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ffilter{\isacharunderscore}empty{\isacharcolon}\ {\isachardoublequoteopen}ffilter\ f\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ffilter{\isacharunderscore}finsert{\isacharcolon}\ {\isachardoublequoteopen}ffilter\ f\ {\isacharparenleft}finsert\ a\ s{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}if\ f\ a\ then\ finsert\ a\ {\isacharparenleft}ffilter\ f\ s{\isacharparenright}\ else\ {\isacharparenleft}ffilter\ f\ s{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ standard\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ ffilter{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ singleton{\isacharunderscore}singleton\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}fis{\isacharunderscore}singleton\ {\isacharbraceleft}{\isacharbar}a{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fis{\isacharunderscore}singleton{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}singleton{\isacharunderscore}emty\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}fis{\isacharunderscore}singleton\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fis{\isacharunderscore}singleton{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ is{\isacharunderscore}singleton{\isacharunderscore}altdef{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ abs{\isacharunderscore}fset{\isacharunderscore}fiveton{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}Abs{\isacharunderscore}fset\ {\isacharbraceleft}a{\isacharcomma}\ b{\isacharcomma}\ c{\isacharcomma}\ d{\isacharcomma}\ e{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}a{\isacharcomma}\ b{\isacharcomma}\ c{\isacharcomma}\ d{\isacharcomma}\ e{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ bot{\isacharunderscore}fset{\isachardot}rep{\isacharunderscore}eq\ finsert{\isachardot}rep{\isacharunderscore}eq\ fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ abs{\isacharunderscore}fset{\isacharunderscore}fourton{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}Abs{\isacharunderscore}fset\ {\isacharbraceleft}a{\isacharcomma}\ b{\isacharcomma}\ c{\isacharcomma}\ d{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}a{\isacharcomma}\ b{\isacharcomma}\ c{\isacharcomma}\ d{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ bot{\isacharunderscore}fset{\isachardot}rep{\isacharunderscore}eq\ finsert{\isachardot}rep{\isacharunderscore}eq\ fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ abs{\isacharunderscore}fset{\isacharunderscore}tripleton{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}Abs{\isacharunderscore}fset\ {\isacharbraceleft}a{\isacharcomma}\ b{\isacharcomma}\ c{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}a{\isacharcomma}\ b{\isacharcomma}\ c{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ bot{\isacharunderscore}fset{\isachardot}rep{\isacharunderscore}eq\ finsert{\isachardot}rep{\isacharunderscore}eq\ fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ abs{\isacharunderscore}fset{\isacharunderscore}doubleton{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}Abs{\isacharunderscore}fset\ {\isacharbraceleft}a{\isacharcomma}\ b{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}a{\isacharcomma}\ b{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ bot{\isacharunderscore}fset{\isachardot}rep{\isacharunderscore}eq\ finsert{\isachardot}rep{\isacharunderscore}eq\ fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ abs{\isacharunderscore}fset{\isacharunderscore}singleton{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}Abs{\isacharunderscore}fset\ {\isacharbraceleft}a{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}a{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ bot{\isacharunderscore}fset{\isachardot}rep{\isacharunderscore}eq\ finsert{\isachardot}rep{\isacharunderscore}eq\ fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ abs{\isacharunderscore}fset{\isacharunderscore}empty{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}Abs{\isacharunderscore}fset\ {\isacharbraceleft}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ bot{\isacharunderscore}fset{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}empty{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}a{\isachardot}\ fprod\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fprod{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}empty{\isacharunderscore}{\isadigit{2}}{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}a{\isachardot}\ fprod\ a\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fprod{\isacharunderscore}def\ ffUnion{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}equiv{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}f{\isadigit{1}}\ {\isacharequal}\ f{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}fset\ f{\isadigit{1}}\ {\isacharequal}\ fset\ f{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fset{\isacharunderscore}inject{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fprod{\isacharunderscore}equiv{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}fset\ {\isacharparenleft}f\ {\isacharbar}{\isasymtimes}{\isacharbar}\ f{\isacharprime}{\isacharparenright}\ {\isacharequal}\ s{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}{\isacharparenleft}fset\ f{\isacharparenright}\ {\isasymtimes}\ {\isacharparenleft}fset\ f{\isacharprime}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fprod{\isacharunderscore}def\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finsert{\isacharunderscore}equiv{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}finsert\ e\ f\ {\isacharequal}\ f{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}insert\ e\ {\isacharparenleft}fset\ f{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}fset\ f{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ finsert{\isacharunderscore}def\ fset{\isacharunderscore}both{\isacharunderscore}sides\ Abs{\isacharunderscore}fset{\isacharunderscore}inverse{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}elements{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isacharbar}{\isasymin}{\isacharbar}\ Abs{\isacharunderscore}fset\ {\isacharparenleft}Set{\isachardot}filter\ f\ {\isacharparenleft}fset\ s{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}x\ {\isasymin}\ {\isacharparenleft}Set{\isachardot}filter\ f\ {\isacharparenleft}fset\ s{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ ffilter{\isachardot}rep{\isacharunderscore}eq\ fset{\isacharunderscore}inverse\ notin{\isacharunderscore}fset{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ singleton{\isacharunderscore}equiv{\isacharcolon}\ {\isachardoublequoteopen}is{\isacharunderscore}singleton\ s\ {\isasymLongrightarrow}\ {\isacharparenleft}the{\isacharunderscore}elem\ s\ {\isacharequal}\ i{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}s\ {\isacharequal}\ {\isacharbraceleft}i{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}meson\ is{\isacharunderscore}singleton{\isacharunderscore}the{\isacharunderscore}elem\ the{\isacharunderscore}elem{\isacharunderscore}eq{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}empty\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ sorted{\isacharunderscore}list{\isacharunderscore}of{\isacharunderscore}fset{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fmember{\isacharunderscore}implies{\isacharunderscore}member{\isacharcolon}\ {\isachardoublequoteopen}e\ {\isacharbar}{\isasymin}{\isacharbar}\ f\ {\isasymLongrightarrow}\ e\ {\isasymin}\ fset\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fmember{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ffilter{\isacharunderscore}to{\isacharunderscore}filter{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}ffilter\ f\ s\ {\isacharequal}\ s{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Set{\isachardot}filter\ f\ {\isacharparenleft}fset\ s{\isacharparenright}\ {\isacharequal}\ fset\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ ffilter{\isachardot}rep{\isacharunderscore}eq\ fset{\isacharunderscore}inject{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fold{\isacharunderscore}union{\isacharunderscore}ffUnion{\isacharcolon}\ {\isachardoublequoteopen}fold\ {\isacharparenleft}{\isacharbar}{\isasymunion}{\isacharbar}{\isacharparenright}\ l\ {\isacharbraceleft}{\isacharbar}{\isacharbar}{\isacharbraceright}\ {\isacharequal}\ ffUnion\ {\isacharparenleft}fset{\isacharunderscore}of{\isacharunderscore}list\ l{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ l\ rule{\isacharcolon}\ rev{\isacharunderscore}induct{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}snoc\ a\ l{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}filter{\isacharcolon}\ {\isachardoublequoteopen}ffilter\ P\ {\isacharparenleft}ffilter\ Q\ xs{\isacharparenright}\ {\isacharequal}\ ffilter\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ Q\ x\ {\isasymand}\ P\ x{\isacharparenright}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/efsm-sal/theories/FSet_Utils.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%18=3%:%
%:%21=4%:%
%:%22=5%:%
%:%23=5%:%
%:%24=6%:%
%:%25=6%:%
%:%28=7%:%
%:%32=7%:%
%:%33=7%:%
%:%38=7%:%
%:%41=8%:%
%:%42=9%:%
%:%43=9%:%
%:%49=9%:%
%:%57=9%:%
%:%58=10%:%
%:%59=10%:%
%:%60=11%:%
%:%61=12%:%
%:%62=12%:%
%:%65=13%:%
%:%69=13%:%
%:%70=13%:%
%:%71=14%:%
%:%72=14%:%
%:%77=14%:%
%:%80=15%:%
%:%81=16%:%
%:%82=16%:%
%:%85=17%:%
%:%89=17%:%
%:%90=17%:%
%:%91=18%:%
%:%92=18%:%
%:%97=18%:%
%:%100=19%:%
%:%101=20%:%
%:%102=20%:%
%:%105=21%:%
%:%109=21%:%
%:%110=21%:%
%:%115=21%:%
%:%118=22%:%
%:%119=23%:%
%:%120=23%:%
%:%123=24%:%
%:%127=24%:%
%:%128=24%:%
%:%129=25%:%
%:%130=25%:%
%:%135=25%:%
%:%138=26%:%
%:%139=27%:%
%:%140=27%:%
%:%143=28%:%
%:%147=28%:%
%:%148=28%:%
%:%153=28%:%
%:%156=29%:%
%:%157=30%:%
%:%158=30%:%
%:%161=31%:%
%:%165=31%:%
%:%166=31%:%
%:%171=31%:%
%:%174=32%:%
%:%175=33%:%
%:%176=33%:%
%:%179=34%:%
%:%183=34%:%
%:%184=34%:%
%:%185=35%:%
%:%186=35%:%
%:%191=35%:%
%:%194=36%:%
%:%195=37%:%
%:%196=37%:%
%:%199=38%:%
%:%203=38%:%
%:%204=38%:%
%:%205=39%:%
%:%206=39%:%
%:%207=40%:%
%:%208=40%:%
%:%209=41%:%
%:%210=41%:%
%:%211=42%:%
%:%212=42%:%
%:%213=43%:%
%:%214=43%:%
%:%219=43%:%
%:%222=44%:%
%:%223=45%:%
%:%224=45%:%
%:%227=46%:%
%:%231=46%:%
%:%232=46%:%
%:%237=46%:%
%:%240=47%:%
%:%241=48%:%
%:%242=48%:%
%:%245=49%:%
%:%249=49%:%
%:%250=49%:%
%:%251=50%:%
%:%252=50%:%
%:%257=50%:%
%:%260=51%:%
%:%261=52%:%
%:%262=52%:%
%:%265=53%:%
%:%269=53%:%
%:%270=53%:%
%:%275=53%:%
%:%278=54%:%
%:%279=55%:%
%:%280=55%:%
%:%283=56%:%
%:%287=56%:%
%:%288=56%:%
%:%293=56%:%
%:%296=57%:%
%:%297=58%:%
%:%298=58%:%
%:%301=59%:%
%:%305=59%:%
%:%306=59%:%
%:%311=59%:%
%:%314=60%:%
%:%315=61%:%
%:%316=61%:%
%:%319=62%:%
%:%323=62%:%
%:%324=62%:%
%:%329=62%:%
%:%332=63%:%
%:%333=64%:%
%:%334=64%:%
%:%337=65%:%
%:%341=65%:%
%:%342=65%:%
%:%347=65%:%
%:%350=66%:%
%:%351=67%:%
%:%352=67%:%
%:%355=68%:%
%:%359=68%:%
%:%360=68%:%
%:%365=68%:%
%:%368=69%:%
%:%369=70%:%
%:%370=70%:%
%:%373=71%:%
%:%377=71%:%
%:%378=71%:%
%:%383=71%:%
%:%386=72%:%
%:%387=73%:%
%:%388=73%:%
%:%391=74%:%
%:%395=74%:%
%:%396=74%:%
%:%401=74%:%
%:%404=75%:%
%:%405=76%:%
%:%406=76%:%
%:%409=77%:%
%:%413=77%:%
%:%414=77%:%
%:%419=77%:%
%:%422=78%:%
%:%423=79%:%
%:%424=79%:%
%:%427=80%:%
%:%431=80%:%
%:%432=80%:%
%:%437=80%:%
%:%440=81%:%
%:%441=82%:%
%:%442=82%:%
%:%445=83%:%
%:%449=83%:%
%:%450=83%:%
%:%455=83%:%
%:%458=84%:%
%:%459=85%:%
%:%460=85%:%
%:%463=86%:%
%:%467=86%:%
%:%468=86%:%
%:%473=86%:%
%:%476=87%:%
%:%477=88%:%
%:%478=88%:%
%:%481=89%:%
%:%485=89%:%
%:%486=89%:%
%:%491=89%:%
%:%494=90%:%
%:%495=91%:%
%:%496=91%:%
%:%499=92%:%
%:%503=92%:%
%:%504=92%:%
%:%509=92%:%
%:%512=93%:%
%:%513=94%:%
%:%514=94%:%
%:%517=95%:%
%:%521=95%:%
%:%522=95%:%
%:%527=95%:%
%:%530=96%:%
%:%531=97%:%
%:%532=97%:%
%:%535=98%:%
%:%539=98%:%
%:%540=98%:%
%:%545=98%:%
%:%548=99%:%
%:%549=100%:%
%:%550=100%:%
%:%557=101%:%
%:%558=101%:%
%:%559=102%:%
%:%560=102%:%
%:%561=103%:%
%:%562=103%:%
%:%563=103%:%
%:%564=103%:%
%:%565=104%:%
%:%566=104%:%
%:%567=105%:%
%:%568=105%:%
%:%569=106%:%
%:%570=106%:%
%:%571=106%:%
%:%572=107%:%
%:%573=107%:%
%:%574=108%:%
%:%580=108%:%
%:%583=109%:%
%:%584=110%:%
%:%585=110%:%
%:%588=111%:%
%:%592=111%:%
%:%593=111%:%
%:%598=111%:%
%:%607=112%:%