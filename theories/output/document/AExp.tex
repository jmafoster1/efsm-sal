%
\begin{isabellebody}%
\setisabellecontext{AExp}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Extended Finite State Machines%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This section presents the theories associated with EFSMs. First we define a language of arithmetic
expressions for guards, outputs, and updates similar to that in IMP \cite{fixme}. We then go on to
define the guard logic such that nonsensical guards (such as testing to see if an integer is greater
than a string) can never evaluate to true. Next, the guard language is defined in terms of
arithmetic expressions and binary relations. In the interest of simplifying the conversion of guards
to constraints, we use a Nor logic, although we define syntax hacks for the expression of guards
using other logical operators. With the underlying types defined, we then define EFSMs and prove
that they are prefix-closed, that is to say that if a string of inputs is accepted by the machine
then all of its prefixes are also accepted.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Arithmetic Expressions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This theory defines a language of arithmetic expressions over literal values and variables. Here,
values are limited to integers and strings. Variables may be either inputs or registers. We also
limit ourselves to a simple arithmetic of plus and minus as a proof of concept.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ AExp\isanewline
\ \ \isakeyword{imports}\ Value\ VName\ FinFun{\isachardot}FinFun\ Option{\isacharunderscore}Lexorder\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
\isanewline
\isanewline
\isacommand{declare}\isamarkupfalse%
\ One{\isacharunderscore}nat{\isacharunderscore}def\ {\isacharbrackleft}simp\ del{\isacharbrackright}\isanewline
\isacommand{unbundle}\isamarkupfalse%
\ finfun{\isacharunderscore}syntax\isanewline
\isanewline
\isacommand{type{\isacharunderscore}synonym}\isamarkupfalse%
\ registers\ {\isacharequal}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}f\ value\ option{\isachardoublequoteclose}\isanewline
\isacommand{type{\isacharunderscore}synonym}\isamarkupfalse%
\ datastate\ {\isacharequal}\ {\isachardoublequoteopen}vname\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}%
\snip{aexptype}{1}{2}{%
\isacommand{datatype}\isamarkupfalse%
\ aexp\ {\isacharequal}\ L\ {\isachardoublequoteopen}value{\isachardoublequoteclose}\ {\isacharbar}\ V\ vname\ {\isacharbar}\ Plus\ aexp\ aexp\ {\isacharbar}\ Minus\ aexp\ aexp%
}%endsnip
\isacommand{fun}\isamarkupfalse%
\ MaybeArithInt\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}int\ {\isasymRightarrow}\ int\ {\isasymRightarrow}\ int{\isacharparenright}\ {\isasymRightarrow}\ value\ option\ {\isasymRightarrow}\ value\ option\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}MaybeArithInt\ f\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ x{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ y{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ {\isacharparenleft}f\ x\ y{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}MaybeArithInt\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MaybeArithInt{\isacharunderscore}not{\isacharunderscore}None{\isacharcolon}\ {\isachardoublequoteopen}MaybeArithInt\ f\ a\ b\ {\isasymnoteq}\ None\ {\isacharequal}\ {\isacharparenleft}{\isasymexists}n\ n{\isacharprime}{\isachardot}\ a\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ n{\isacharparenright}\ {\isasymand}\ b\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ n{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ MaybeArithInt{\isachardot}elims\ MaybeArithInt{\isachardot}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MaybeArithInt{\isacharunderscore}Some{\isacharcolon}\ {\isachardoublequoteopen}MaybeArithInt\ f\ a\ b\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ x{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymexists}n\ n{\isacharprime}{\isachardot}\ a\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ n{\isacharparenright}\ {\isasymand}\ b\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ n{\isacharprime}{\isacharparenright}\ {\isasymand}\ f\ n\ n{\isacharprime}\ {\isacharequal}\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ MaybeArithInt{\isachardot}elims\ MaybeArithInt{\isachardot}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MaybeArithInt{\isacharunderscore}None{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}MaybeArithInt\ f\ a{\isadigit{1}}\ a{\isadigit{2}}\ {\isacharequal}\ None{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymnexists}n\ n{\isacharprime}{\isachardot}\ a{\isadigit{1}}\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ n{\isacharparenright}\ {\isasymand}\ a{\isadigit{2}}\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ n{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ MaybeArithInt{\isacharunderscore}not{\isacharunderscore}None\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MaybeArithInt{\isacharunderscore}Not{\isacharunderscore}Num{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}n{\isachardot}\ MaybeArithInt\ f\ a{\isadigit{1}}\ a{\isadigit{2}}\ {\isasymnoteq}\ Some\ {\isacharparenleft}Num\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}MaybeArithInt\ f\ a{\isadigit{1}}\ a{\isadigit{2}}\ {\isacharequal}\ None{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ MaybeArithInt{\isachardot}elims\ option{\isachardot}distinct{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}value{\isacharunderscore}plus\ {\isacharequal}\ MaybeArithInt\ {\isacharparenleft}{\isacharplus}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ plus{\isacharunderscore}never{\isacharunderscore}string{\isacharcolon}\ {\isachardoublequoteopen}MaybeArithInt\ f\ a\ b\ {\isasymnoteq}\ Some\ {\isacharparenleft}Str\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ MaybeArithInt{\isachardot}elims\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ value{\isacharunderscore}plus{\isacharunderscore}symmetry{\isacharcolon}\ {\isachardoublequoteopen}value{\isacharunderscore}plus\ x\ y\ {\isacharequal}\ value{\isacharunderscore}plus\ y\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}induct\ x\ y\ rule{\isacharcolon}\ MaybeArithInt{\isachardot}induct{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ value{\isacharunderscore}plus{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}value{\isacharunderscore}minus\ {\isacharequal}\ MaybeArithInt\ {\isacharparenleft}{\isacharminus}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ minus{\isacharunderscore}never{\isacharunderscore}string{\isacharcolon}\ {\isachardoublequoteopen}value{\isacharunderscore}minus\ a\ b\ {\isasymnoteq}\ Some\ {\isacharparenleft}Str\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ plus{\isacharunderscore}never{\isacharunderscore}string\ value{\isacharunderscore}minus{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ aval\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ datastate\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}L\ x{\isacharparenright}\ s\ {\isacharequal}\ Some\ x{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}V\ x{\isacharparenright}\ s\ {\isacharequal}\ s\ x{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}Plus\ a\isactrlsub {\isadigit{1}}\ a\isactrlsub {\isadigit{2}}{\isacharparenright}\ s\ {\isacharequal}\ value{\isacharunderscore}plus\ {\isacharparenleft}aval\ a\isactrlsub {\isadigit{1}}\ s{\isacharparenright}{\isacharparenleft}aval\ a\isactrlsub {\isadigit{2}}\ s{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}Minus\ a\isactrlsub {\isadigit{1}}\ a\isactrlsub {\isadigit{2}}{\isacharparenright}\ s\ {\isacharequal}\ value{\isacharunderscore}minus\ {\isacharparenleft}aval\ a\isactrlsub {\isadigit{1}}\ s{\isacharparenright}\ {\isacharparenleft}aval\ a\isactrlsub {\isadigit{2}}\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}plus{\isacharunderscore}symmetry{\isacharcolon}\ {\isachardoublequoteopen}aval\ {\isacharparenleft}Plus\ x\ y{\isacharparenright}\ s\ {\isacharequal}\ aval\ {\isacharparenleft}Plus\ y\ x{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ value{\isacharunderscore}plus{\isacharunderscore}symmetry{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ null{\isacharunderscore}state\ {\isacharparenleft}{\isachardoublequoteopen}{\isacharless}{\isachargreater}{\isachardoublequoteclose}{\isacharparenright}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}null{\isacharunderscore}state\ {\isasymequiv}\ {\isacharparenleft}K{\isachardollar}\ None{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{nonterminal}\isamarkupfalse%
\ maplets\ \isakeyword{and}\ maplet\isanewline
\isanewline
\isanewline
\isacommand{syntax}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}maplet{\isachardoublequoteclose}\ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharprime}a{\isacharcomma}\ {\isacharprime}a{\isacharbrackright}\ {\isasymRightarrow}\ maplet{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}\ {\isacharslash}{\isacharcolon}{\isacharequal}{\isacharslash}\ {\isacharunderscore}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}maplets{\isachardoublequoteclose}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharprime}a{\isacharcomma}\ {\isacharprime}a{\isacharbrackright}\ {\isasymRightarrow}\ maplet{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}\ {\isacharslash}{\isacharbrackleft}{\isacharcolon}{\isacharequal}{\isacharbrackright}{\isacharslash}\ {\isacharunderscore}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}maplet\ {\isasymRightarrow}\ maplets{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Maplets{\isachardoublequoteclose}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}maplet{\isacharcomma}\ maplets{\isacharbrackright}\ {\isasymRightarrow}\ maplets{\isachardoublequoteclose}\ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}{\isacharcomma}{\isacharslash}\ {\isacharunderscore}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}MapUpd{\isachardoublequoteclose}\ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharprime}a\ {\isasymrightharpoonup}\ {\isacharprime}b{\isacharcomma}\ maplets{\isacharbrackright}\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymrightharpoonup}\ {\isacharprime}b{\isachardoublequoteclose}\ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}{\isacharslash}{\isacharprime}{\isacharparenleft}{\isacharunderscore}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{9}}{\isadigit{0}}{\isadigit{0}}{\isacharcomma}\ {\isadigit{0}}{\isacharbrackright}\ {\isadigit{9}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Map{\isachardoublequoteclose}\ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}maplets\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymrightharpoonup}\ {\isacharprime}b{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{1}}{\isacharbrackleft}{\isacharunderscore}{\isacharbrackright}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Map{\isachardoublequoteclose}\ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}maplets\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymrightharpoonup}\ {\isacharprime}b{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{1}}{\isacharless}{\isacharunderscore}{\isachargreater}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\isanewline
\isacommand{translations}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}MapUpd\ m\ {\isacharparenleft}{\isacharunderscore}Maplets\ xy\ ms{\isacharparenright}{\isachardoublequoteclose}\ \ {\isasymrightleftharpoons}\ {\isachardoublequoteopen}{\isacharunderscore}MapUpd\ {\isacharparenleft}{\isacharunderscore}MapUpd\ m\ xy{\isacharparenright}\ ms{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}MapUpd\ m\ {\isacharparenleft}{\isacharunderscore}maplet\ \ x\ y{\isacharparenright}{\isachardoublequoteclose}\ \ \ \ {\isasymrightleftharpoons}\ {\isachardoublequoteopen}m{\isacharparenleft}x\ {\isachardollar}{\isacharcolon}{\isacharequal}\ CONST\ Some\ y{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Map\ ms{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymrightleftharpoons}\ {\isachardoublequoteopen}{\isacharunderscore}MapUpd\ {\isacharparenleft}CONST\ empty{\isacharparenright}\ ms{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Map\ {\isacharparenleft}{\isacharunderscore}Maplets\ ms{\isadigit{1}}\ ms{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \ \ \ \ {\isasymleftharpoondown}\ {\isachardoublequoteopen}{\isacharunderscore}MapUpd\ {\isacharparenleft}{\isacharunderscore}Map\ ms{\isadigit{1}}{\isacharparenright}\ ms{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Maplets\ ms{\isadigit{1}}\ {\isacharparenleft}{\isacharunderscore}Maplets\ ms{\isadigit{2}}\ ms{\isadigit{3}}{\isacharparenright}{\isachardoublequoteclose}\ {\isasymleftharpoondown}\ {\isachardoublequoteopen}{\isacharunderscore}Maplets\ {\isacharparenleft}{\isacharunderscore}Maplets\ ms{\isadigit{1}}\ ms{\isadigit{2}}{\isacharparenright}\ ms{\isadigit{3}}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{instantiation}\isamarkupfalse%
\ aexp\ {\isacharcolon}{\isacharcolon}\ plus\ \isakeyword{begin}\isanewline
\isacommand{fun}\isamarkupfalse%
\ plus{\isacharunderscore}aexp\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}plus{\isacharunderscore}aexp\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{1}}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ L\ {\isacharparenleft}Num\ {\isacharparenleft}n{\isadigit{1}}{\isacharplus}n{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}plus{\isacharunderscore}aexp\ x\ y\ {\isacharequal}\ Plus\ x\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{instance}\isamarkupfalse%
%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ standard%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{instantiation}\isamarkupfalse%
\ aexp\ {\isacharcolon}{\isacharcolon}\ minus\ \isakeyword{begin}\isanewline
\isacommand{fun}\isamarkupfalse%
\ minus{\isacharunderscore}aexp\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}minus{\isacharunderscore}aexp\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{1}}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ L\ {\isacharparenleft}Num\ {\isacharparenleft}n{\isadigit{1}}{\isacharminus}n{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}minus{\isacharunderscore}aexp\ x\ y\ {\isacharequal}\ Minus\ x\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{instance}\isamarkupfalse%
%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ standard%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ input{\isadigit{2}}state\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}value\ list\ {\isasymRightarrow}\ registers{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}input{\isadigit{2}}state\ n\ {\isacharequal}\ fold\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}k{\isacharcomma}\ v{\isacharparenright}\ f{\isachardot}\ f{\isacharparenleft}k\ {\isachardollar}{\isacharcolon}{\isacharequal}\ Some\ v{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}enumerate\ {\isadigit{0}}\ n{\isacharparenright}\ {\isacharparenleft}K{\isachardollar}\ None{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{primrec}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}prim\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}value\ list\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ registers{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}input{\isadigit{2}}state{\isacharunderscore}prim\ {\isacharbrackleft}{\isacharbrackright}\ {\isacharunderscore}\ {\isacharequal}\ {\isacharparenleft}K{\isachardollar}\ None{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}input{\isadigit{2}}state{\isacharunderscore}prim\ {\isacharparenleft}v{\isacharhash}t{\isacharparenright}\ k\ {\isacharequal}\ {\isacharparenleft}input{\isadigit{2}}state{\isacharunderscore}prim\ t\ {\isacharparenleft}k{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenleft}k\ {\isachardollar}{\isacharcolon}{\isacharequal}\ Some\ v{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}append{\isacharcolon}\ {\isachardoublequoteopen}input{\isadigit{2}}state\ {\isacharparenleft}i\ {\isacharat}\ {\isacharbrackleft}a{\isacharbrackright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}input{\isadigit{2}}state\ i{\isacharparenright}{\isacharparenleft}length\ i\ {\isachardollar}{\isacharcolon}{\isacharequal}\ Some\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ eq{\isacharunderscore}finfun{\isacharunderscore}All{\isacharunderscore}ext\ finfun{\isacharunderscore}All{\isacharunderscore}def\ finfun{\isacharunderscore}All{\isacharunderscore}except{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def\ enumerate{\isacharunderscore}eq{\isacharunderscore}zip{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fold{\isacharunderscore}conv{\isacharunderscore}foldr{\isacharcolon}\ {\isachardoublequoteopen}fold\ f\ xs\ {\isacharequal}\ foldr\ f\ {\isacharparenleft}rev\ xs{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ foldr{\isacharunderscore}conv{\isacharunderscore}fold{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}out{\isacharunderscore}of{\isacharunderscore}bounds{\isacharcolon}\ {\isachardoublequoteopen}i\ {\isasymge}\ length\ ia\ {\isasymLongrightarrow}\ input{\isadigit{2}}state\ ia\ {\isachardollar}\ i\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ ia\ rule{\isacharcolon}\ rev{\isacharunderscore}induct{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}snoc\ a\ as{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def\ enumerate{\isacharunderscore}eq{\isacharunderscore}zip{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}within{\isacharunderscore}bounds{\isacharcolon}\ {\isachardoublequoteopen}input{\isadigit{2}}state\ i\ {\isachardollar}\ x\ {\isacharequal}\ Some\ a\ {\isasymLongrightarrow}\ x\ {\isacharless}\ length\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ input{\isadigit{2}}state{\isacharunderscore}out{\isacharunderscore}of{\isacharunderscore}bounds\ not{\isacharunderscore}le{\isacharunderscore}imp{\isacharunderscore}less\ option{\isachardot}distinct{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}empty{\isacharcolon}\ {\isachardoublequoteopen}input{\isadigit{2}}state\ {\isacharbrackleft}{\isacharbrackright}\ {\isachardollar}\ x{\isadigit{1}}\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}out{\isacharunderscore}of{\isacharunderscore}bounds{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}nth{\isacharcolon}\ {\isachardoublequoteopen}i\ {\isacharless}\ length\ ia\ {\isasymLongrightarrow}\ input{\isadigit{2}}state\ ia\ {\isachardollar}\ i\ {\isacharequal}\ Some\ {\isacharparenleft}ia\ {\isacharbang}\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ ia\ rule{\isacharcolon}\ rev{\isacharunderscore}induct{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}snoc\ a\ ia{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def\ enumerate{\isacharunderscore}eq{\isacharunderscore}zip{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ finfun{\isacharunderscore}upd{\isacharunderscore}apply\ nth{\isacharunderscore}append{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}take{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharless}\ A\ {\isasymLongrightarrow}\isanewline
\ \ \ A\ {\isasymle}\ length\ i\ {\isasymLongrightarrow}\isanewline
\ \ \ x\ {\isacharequal}\ vname{\isachardot}I\ x{\isadigit{1}}\ {\isasymLongrightarrow}\isanewline
\ \ \ input{\isadigit{2}}state\ i\ {\isachardollar}\ x{\isadigit{1}}\ {\isacharequal}\ input{\isadigit{2}}state\ {\isacharparenleft}take\ A\ i{\isacharparenright}\ {\isachardollar}\ x{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ i{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cons\ a\ i{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}nth{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}not{\isacharunderscore}None{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}input{\isadigit{2}}state\ i\ {\isachardollar}\ x\ {\isasymnoteq}\ None{\isacharparenright}\ {\isasymLongrightarrow}\ {\isacharparenleft}x\ {\isacharless}\ length\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}within{\isacharunderscore}bounds\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}Some{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}v{\isachardot}\ input{\isadigit{2}}state\ i\ {\isachardollar}\ x\ {\isacharequal}\ Some\ v{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}x\ {\isacharless}\ length\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ standard\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}within{\isacharunderscore}bounds\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}nth{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}cons{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isachargreater}\ {\isadigit{0}}\ {\isasymLongrightarrow}\isanewline
\ \ \ x{\isadigit{1}}\ {\isacharless}\ length\ ia\ {\isasymLongrightarrow}\isanewline
\ \ \ input{\isadigit{2}}state\ {\isacharparenleft}a\ {\isacharhash}\ ia{\isacharparenright}\ {\isachardollar}\ x{\isadigit{1}}\ {\isacharequal}\ input{\isadigit{2}}state\ ia\ {\isachardollar}\ {\isacharparenleft}x{\isadigit{1}}{\isacharminus}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}nth{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}cons{\isacharunderscore}shift{\isacharcolon}\ {\isachardoublequoteopen}input{\isadigit{2}}state\ i\ {\isachardollar}\ x{\isadigit{1}}\ {\isacharequal}\ Some\ a\ {\isasymLongrightarrow}\ input{\isadigit{2}}state\ {\isacharparenleft}b\ {\isacharhash}\ i{\isacharparenright}\ {\isachardollar}\ {\isacharparenleft}Suc\ x{\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ Some\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ i\ rule{\isacharcolon}\ rev{\isacharunderscore}induct{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}snoc\ x\ xs{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}within{\isacharunderscore}bounds{\isacharbrackleft}of\ xs\ x{\isadigit{1}}\ a{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}cons{\isacharbrackleft}of\ {\isachardoublequoteopen}Suc\ x{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs\ {\isacharat}\ {\isacharbrackleft}x{\isacharbrackright}{\isachardoublequoteclose}\ b{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharless}\ length\ xs{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ finfun{\isacharunderscore}upd{\isacharunderscore}apply\ input{\isadigit{2}}state{\isacharunderscore}append\ input{\isadigit{2}}state{\isacharunderscore}nth\ length{\isacharunderscore}Cons\ length{\isacharunderscore}append{\isacharunderscore}singleton\ lessI\ list{\isachardot}sel{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ nth{\isacharunderscore}tl{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}exists{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}\ input{\isadigit{2}}state\ i\ {\isachardollar}\ x{\isadigit{1}}\ {\isacharequal}\ Some\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ x{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharbrackleft}a{\isacharbrackright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Suc\ x{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}a{\isacharhash}i{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}cons{\isacharunderscore}shift{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{primrec}\isamarkupfalse%
\ repeat\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}repeat\ {\isadigit{0}}\ {\isacharunderscore}\ {\isacharequal}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}repeat\ {\isacharparenleft}Suc\ m{\isacharparenright}\ a\ {\isacharequal}\ a{\isacharhash}{\isacharparenleft}repeat\ m\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ length{\isacharunderscore}repeat{\isacharcolon}\ {\isachardoublequoteopen}length\ {\isacharparenleft}repeat\ n\ a{\isacharparenright}\ {\isacharequal}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ n{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Suc\ a{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ length{\isacharunderscore}append{\isacharunderscore}repeat{\isacharcolon}\ {\isachardoublequoteopen}length\ {\isacharparenleft}i{\isacharat}{\isacharparenleft}repeat\ a\ y{\isacharparenright}{\isacharparenright}\ {\isasymge}\ length\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ length{\isacharunderscore}input{\isadigit{2}}state{\isacharunderscore}repeat{\isacharcolon}\ {\isachardoublequoteopen}input{\isadigit{2}}state\ i\ {\isachardollar}\ x\ {\isacharequal}\ Some\ a\ {\isasymLongrightarrow}\ y\ {\isacharless}\ length\ {\isacharparenleft}i\ {\isacharat}\ repeat\ y\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ append{\isachardot}simps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ append{\isacharunderscore}eq{\isacharunderscore}append{\isacharunderscore}conv\ input{\isadigit{2}}state{\isacharunderscore}within{\isacharunderscore}bounds\ length{\isacharunderscore}append\ length{\isacharunderscore}repeat\ list{\isachardot}size{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ neqE\ not{\isacharunderscore}add{\isacharunderscore}less{\isadigit{2}}\ zero{\isacharunderscore}order{\isacharparenleft}{\isadigit{3}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}double{\isacharunderscore}exists{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}\ input{\isadigit{2}}state\ i\ {\isachardollar}\ x\ {\isacharequal}\ Some\ a\ {\isasymand}\ input{\isadigit{2}}state\ i\ {\isachardollar}\ y\ {\isacharequal}\ Some\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}insert\ input{\isadigit{2}}state{\isacharunderscore}exists{\isacharbrackleft}of\ x\ a{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}x\ {\isasymge}\ y{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}list{\isacharunderscore}update\ i\ y\ a{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharcomma}\ lifting{\isacharparenright}\ input{\isadigit{2}}state{\isacharunderscore}within{\isacharunderscore}bounds\ input{\isadigit{2}}state{\isacharunderscore}nth\ input{\isadigit{2}}state{\isacharunderscore}out{\isacharunderscore}of{\isacharunderscore}bounds\ le{\isacharunderscore}trans\ length{\isacharunderscore}list{\isacharunderscore}update\ not{\isacharunderscore}le{\isacharunderscore}imp{\isacharunderscore}less\ nth{\isacharunderscore}list{\isacharunderscore}update{\isacharunderscore}eq\ nth{\isacharunderscore}list{\isacharunderscore}update{\isacharunderscore}neq{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}list{\isacharunderscore}update\ {\isacharparenleft}i{\isacharat}{\isacharparenleft}repeat\ y\ a{\isacharparenright}{\isacharparenright}\ y\ a{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ not{\isacharunderscore}le{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ length{\isacharunderscore}input{\isadigit{2}}state{\isacharunderscore}repeat\ input{\isadigit{2}}state{\isacharunderscore}nth\ input{\isadigit{2}}state{\isacharunderscore}out{\isacharunderscore}of{\isacharunderscore}bounds\ le{\isacharunderscore}trans\ length{\isacharunderscore}append{\isacharunderscore}repeat\ length{\isacharunderscore}list{\isacharunderscore}update\ not{\isacharunderscore}le{\isacharunderscore}imp{\isacharunderscore}less\ nth{\isacharunderscore}append\ nth{\isacharunderscore}list{\isacharunderscore}update{\isacharunderscore}eq\ nth{\isacharunderscore}list{\isacharunderscore}update{\isacharunderscore}neq\ option{\isachardot}distinct{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}double{\isacharunderscore}exists{\isacharunderscore}{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y\ {\isasymLongrightarrow}\ {\isasymexists}i{\isachardot}\ input{\isadigit{2}}state\ i\ {\isachardollar}\ x\ {\isacharequal}\ Some\ a\ {\isasymand}\ input{\isadigit{2}}state\ i\ {\isachardollar}\ y\ {\isacharequal}\ Some\ a{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}insert\ input{\isadigit{2}}state{\isacharunderscore}exists{\isacharbrackleft}of\ x\ a{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}x\ {\isasymge}\ y{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}list{\isacharunderscore}update\ i\ y\ a{\isacharprime}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharcomma}\ lifting{\isacharparenright}\ input{\isadigit{2}}state{\isacharunderscore}within{\isacharunderscore}bounds\ input{\isadigit{2}}state{\isacharunderscore}nth\ input{\isadigit{2}}state{\isacharunderscore}out{\isacharunderscore}of{\isacharunderscore}bounds\ le{\isacharunderscore}trans\ length{\isacharunderscore}list{\isacharunderscore}update\ not{\isacharunderscore}le{\isacharunderscore}imp{\isacharunderscore}less\ nth{\isacharunderscore}list{\isacharunderscore}update{\isacharunderscore}eq\ nth{\isacharunderscore}list{\isacharunderscore}update{\isacharunderscore}neq{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}list{\isacharunderscore}update\ {\isacharparenleft}i{\isacharat}{\isacharparenleft}repeat\ y\ a{\isacharprime}{\isacharparenright}{\isacharparenright}\ y\ a{\isacharprime}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ not{\isacharunderscore}le{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ standard\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}metis\ input{\isadigit{2}}state{\isacharunderscore}nth\ input{\isadigit{2}}state{\isacharunderscore}within{\isacharunderscore}bounds\ le{\isacharunderscore}trans\ length{\isacharunderscore}append{\isacharunderscore}repeat\ length{\isacharunderscore}list{\isacharunderscore}update\ linorder{\isacharunderscore}not{\isacharunderscore}le\ nth{\isacharunderscore}append\ nth{\isacharunderscore}list{\isacharunderscore}update{\isacharunderscore}neq\ order{\isacharunderscore}refl{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ input{\isadigit{2}}state{\isacharunderscore}nth\ length{\isacharunderscore}append\ length{\isacharunderscore}input{\isadigit{2}}state{\isacharunderscore}repeat\ length{\isacharunderscore}list{\isacharunderscore}update\ length{\isacharunderscore}repeat\ nth{\isacharunderscore}list{\isacharunderscore}update{\isacharunderscore}eq{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ join{\isacharunderscore}ir\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}value\ list\ {\isasymRightarrow}\ registers\ {\isasymRightarrow}\ datastate{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}join{\isacharunderscore}ir\ i\ r\ {\isasymequiv}\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ case\ x\ of\isanewline
\ \ \ \ R\ n\ {\isasymRightarrow}\ r\ {\isachardollar}\ n\ {\isacharbar}\isanewline
\ \ \ \ I\ n\ {\isasymRightarrow}\ {\isacharparenleft}input{\isadigit{2}}state\ i{\isacharparenright}\ {\isachardollar}\ n\isanewline
\ \ {\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ datastate\ {\isacharequal}\ join{\isacharunderscore}ir{\isacharunderscore}def\ input{\isadigit{2}}state{\isacharunderscore}def\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ join{\isacharunderscore}ir{\isacharunderscore}empty\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}join{\isacharunderscore}ir\ {\isacharbrackleft}{\isacharbrackright}\ {\isacharless}{\isachargreater}\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ None{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ext{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ join{\isacharunderscore}ir{\isacharunderscore}double{\isacharunderscore}exists{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}i\ r{\isachardot}\ join{\isacharunderscore}ir\ i\ r\ v\ {\isacharequal}\ Some\ a\ {\isasymand}\ join{\isacharunderscore}ir\ i\ r\ v{\isacharprime}\ {\isacharequal}\ Some\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}cases\ v{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}I\ x{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ v{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}double{\isacharunderscore}exists\ input{\isadigit{2}}state{\isacharunderscore}exists{\isacharparenright}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}exists\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}R\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ v{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}exists\ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}double{\isacharunderscore}exists\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ join{\isacharunderscore}ir{\isacharunderscore}double{\isacharunderscore}exists{\isacharunderscore}{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}v\ {\isasymnoteq}\ v{\isacharprime}\ {\isasymLongrightarrow}\ {\isasymexists}i\ r{\isachardot}\ join{\isacharunderscore}ir\ i\ r\ v\ {\isacharequal}\ Some\ a\ {\isasymand}\ join{\isacharunderscore}ir\ i\ r\ v{\isacharprime}\ {\isacharequal}\ Some\ a{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}cases\ v{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}I\ x{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymnoteq}\ v{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ v{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ I\ input{\isadigit{2}}state{\isacharunderscore}double{\isacharunderscore}exists{\isacharunderscore}{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ I\ input{\isadigit{2}}state{\isacharunderscore}exists\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}R\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymnoteq}\ v{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ v{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ R\ input{\isadigit{2}}state{\isacharunderscore}exists\ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ R{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharparenleft}K{\isachardollar}\ None{\isacharparenright}{\isacharparenleft}x{\isadigit{2}}\ {\isachardollar}{\isacharcolon}{\isacharequal}\ Some\ a{\isacharparenright}{\isacharparenleft}x{\isadigit{2}}a\ {\isachardollar}{\isacharcolon}{\isacharequal}\ Some\ a{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}join{\isacharunderscore}ir{\isacharunderscore}ext{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}i\ r{\isachardot}\ join{\isacharunderscore}ir\ i\ r\ v\ {\isacharequal}\ s\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}s\ v{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ v{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}out{\isacharunderscore}of{\isacharunderscore}bounds{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharless}{\isachargreater}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ v{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{defer}\isamarkupfalse%
\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharless}{\isachargreater}{\isacharparenleft}x{\isadigit{2}}\ {\isacharcolon}{\isacharequal}\ a{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}exists{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}plus{\isacharunderscore}aexp{\isacharcolon}\ {\isachardoublequoteopen}aval\ {\isacharparenleft}a{\isacharplus}b{\isacharparenright}\ s\ {\isacharequal}\ aval\ {\isacharparenleft}Plus\ a\ b{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}induct\ a\ b\ rule{\isacharcolon}\ plus{\isacharunderscore}aexp{\isachardot}induct{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ value{\isacharunderscore}plus{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}minus{\isacharunderscore}aexp{\isacharcolon}\ {\isachardoublequoteopen}aval\ {\isacharparenleft}a{\isacharminus}b{\isacharparenright}\ s\ {\isacharequal}\ aval\ {\isacharparenleft}Minus\ a\ b{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}induct\ a\ b\ rule{\isacharcolon}\ minus{\isacharunderscore}aexp{\isachardot}induct{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ value{\isacharunderscore}minus{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ aexp{\isacharunderscore}constrains\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}L\ l{\isacharparenright}\ a\ {\isacharequal}\ {\isacharparenleft}L\ l\ {\isacharequal}\ a{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}V\ v{\isacharparenright}\ v{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}V\ v\ {\isacharequal}\ v{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ v\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ v\ {\isasymor}\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ v\ {\isasymor}\ {\isacharparenleft}aexp{\isacharunderscore}constrains\ a{\isadigit{1}}\ v\ {\isasymor}\ aexp{\isacharunderscore}constrains\ a{\isadigit{2}}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ v\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ v\ {\isasymor}\ {\isacharparenleft}aexp{\isacharunderscore}constrains\ a{\isadigit{1}}\ v\ {\isasymor}\ aexp{\isacharunderscore}constrains\ a{\isadigit{2}}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}L\ v{\isacharparenright}\ {\isacharparenleft}L\ v{\isacharprime}{\isacharparenright}\ {\isacharequal}\ True{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}V\ v{\isacharparenright}\ {\isacharparenleft}V\ v{\isacharprime}{\isacharparenright}\ {\isacharequal}\ True{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Plus\ a{\isadigit{1}}{\isacharprime}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{1}}\ a{\isadigit{1}}{\isacharprime}\ {\isasymand}\ aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{2}}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Minus\ a{\isadigit{1}}{\isacharprime}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{1}}\ a{\isadigit{1}}{\isacharprime}\ {\isasymand}\ aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{2}}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharequal}\ False{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ nat\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}L\ {\isacharunderscore}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}V\ {\isacharparenleft}I\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}n{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}V\ {\isacharparenleft}R\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}Plus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ v\ {\isasymunion}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ va{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}Minus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ v\ {\isasymunion}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ va{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}l{\isachardot}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ a\ {\isacharequal}\ set\ l{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}set{\isacharunderscore}insert\ aexp{\isachardot}distinct{\isacharparenleft}{\isadigit{7}}{\isacharparenright}\ aexp{\isachardot}distinct{\isacharparenleft}{\isadigit{9}}{\isacharparenright}\ empty{\isacharunderscore}set\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isachardot}elims{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isachardot}simps{\isacharparenleft}{\isadigit{4}}{\isacharparenright}\ set{\isacharunderscore}union{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isachardot}simps{\isacharparenleft}{\isadigit{5}}{\isacharparenright}\ set{\isacharunderscore}union{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ nat\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}L\ {\isacharunderscore}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}V\ {\isacharparenleft}R\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}n{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}V\ {\isacharparenleft}I\ {\isacharunderscore}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}Plus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ v\ {\isasymunion}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ va{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}Minus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ v\ {\isasymunion}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ va{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}l{\isachardot}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ a\ {\isacharequal}\ set\ l{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}set{\isacharunderscore}insert\ aexp{\isachardot}distinct{\isacharparenleft}{\isadigit{7}}{\isacharparenright}\ aexp{\isachardot}distinct{\isacharparenleft}{\isadigit{9}}{\isacharparenright}\ empty{\isacharunderscore}set\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isachardot}elims{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isachardot}simps{\isacharparenleft}{\isadigit{4}}{\isacharparenright}\ set{\isacharunderscore}union{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isachardot}simps{\isacharparenleft}{\isadigit{5}}{\isacharparenright}\ set{\isacharunderscore}union{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}variables{\isacharunderscore}aval{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\isanewline
\ \ \ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\isanewline
\ \ \ aval\ a\ s\ {\isacharequal}\ aval\ a\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}not{\isacharunderscore}empty{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ a\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymexists}b\ c{\isachardot}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ a\ {\isacharequal}\ set\ {\isacharparenleft}b{\isacharhash}c{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}union{\isacharunderscore}append{\isacharcolon}\ {\isachardoublequoteopen}set\ l\ {\isasymunion}\ set\ la\ {\isacharequal}\ set\ {\isacharparenleft}l{\isacharat}la{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}ir{\isacharunderscore}take{\isacharcolon}\ {\isachardoublequoteopen}A\ {\isasymle}\ length\ i\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ a\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ Max\ {\isacharparenleft}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ a{\isacharparenright}\ {\isacharless}\ A\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ {\isacharparenleft}take\ A\ i{\isacharparenright}\ r{\isacharparenright}\ {\isacharequal}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ ra{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def\ input{\isadigit{2}}state{\isacharunderscore}nth{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}not{\isacharunderscore}empty{\isacharbrackleft}of\ {\isachardoublequoteopen}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}erule\ exE{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}erule\ exE{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ neq{\isacharunderscore}Nil{\isacharunderscore}conv\ List{\isachardot}linorder{\isacharunderscore}class{\isachardot}Max{\isachardot}set{\isacharunderscore}eq{\isacharunderscore}fold{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}fold\ max\ c\ b\ {\isasymle}\ length\ i{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set\ Max{\isachardot}union\ Plus{\isachardot}prems{\isacharparenleft}{\isadigit{4}}{\isacharparenright}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isachardot}simps{\isacharparenleft}{\isadigit{4}}{\isacharparenright}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}not{\isacharunderscore}empty\ max{\isacharunderscore}less{\isacharunderscore}iff{\isacharunderscore}conj\ no{\isacharunderscore}variables{\isacharunderscore}aval\ sup{\isacharunderscore}bot{\isachardot}left{\isacharunderscore}neutral\ sup{\isacharunderscore}bot{\isachardot}right{\isacharunderscore}neutral{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}not{\isacharunderscore}empty{\isacharbrackleft}of\ {\isachardoublequoteopen}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}erule\ exE{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}erule\ exE{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ neq{\isacharunderscore}Nil{\isacharunderscore}conv\ List{\isachardot}linorder{\isacharunderscore}class{\isachardot}Max{\isachardot}set{\isacharunderscore}eq{\isacharunderscore}fold{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}fold\ max\ c\ b\ {\isasymle}\ length\ i{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set\ Max{\isachardot}union\ Minus{\isachardot}prems{\isacharparenleft}{\isadigit{4}}{\isacharparenright}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isachardot}simps{\isacharparenleft}{\isadigit{5}}{\isacharparenright}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}not{\isacharunderscore}empty\ max{\isacharunderscore}less{\isacharunderscore}iff{\isacharunderscore}conj\ no{\isacharunderscore}variables{\isacharunderscore}aval\ sup{\isacharunderscore}bot{\isachardot}left{\isacharunderscore}neutral\ sup{\isacharunderscore}bot{\isachardot}right{\isacharunderscore}neutral{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ max{\isacharunderscore}input\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ nat\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}max{\isacharunderscore}input\ g\ {\isacharequal}\ {\isacharparenleft}let\ inputs\ {\isacharequal}\ {\isacharparenleft}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ g{\isacharparenright}\ in\ if\ inputs\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ then\ None\ else\ Some\ {\isacharparenleft}Max\ inputs{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ max{\isacharunderscore}reg\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ nat\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}max{\isacharunderscore}reg\ g\ {\isacharequal}\ {\isacharparenleft}let\ regs\ {\isacharequal}\ {\isacharparenleft}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ g{\isacharparenright}\ in\ if\ regs\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ then\ None\ else\ Some\ {\isacharparenleft}Max\ regs{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}reg{\isacharunderscore}V{\isacharunderscore}I{\isacharcolon}\ {\isachardoublequoteopen}max{\isacharunderscore}reg\ {\isacharparenleft}V\ {\isacharparenleft}I\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}reg{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}reg{\isacharunderscore}V{\isacharunderscore}R{\isacharcolon}\ {\isachardoublequoteopen}max{\isacharunderscore}reg\ {\isacharparenleft}V\ {\isacharparenleft}R\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Some\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}reg{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ max{\isacharunderscore}reg{\isacharunderscore}V\ {\isacharequal}\ max{\isacharunderscore}reg{\isacharunderscore}V{\isacharunderscore}I\ max{\isacharunderscore}reg{\isacharunderscore}V{\isacharunderscore}R\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}reg{\isacharunderscore}Plus{\isacharcolon}\ {\isachardoublequoteopen}max{\isacharunderscore}reg\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ max\ {\isacharparenleft}max{\isacharunderscore}reg\ a{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}max{\isacharunderscore}reg\ a{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}reg{\isacharunderscore}def\ Let{\isacharunderscore}def\ max{\isacharunderscore}None\ max{\isacharunderscore}Some{\isacharunderscore}Some{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set\ Max{\isachardot}union\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}reg{\isacharunderscore}Minus{\isacharcolon}\ {\isachardoublequoteopen}max{\isacharunderscore}reg\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ max\ {\isacharparenleft}max{\isacharunderscore}reg\ a{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}max{\isacharunderscore}reg\ a{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}reg{\isacharunderscore}def\ Let{\isacharunderscore}def\ max{\isacharunderscore}None\ max{\isacharunderscore}Some{\isacharunderscore}Some{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set\ Max{\isachardot}union\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}reg{\isacharunderscore}aval{\isacharunderscore}swap{\isacharunderscore}regs{\isacharcolon}\ {\isachardoublequoteopen}AExp{\isachardot}max{\isacharunderscore}reg\ a\ {\isacharequal}\ None\ {\isasymLongrightarrow}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}reg{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}reg{\isacharunderscore}Plus\ max{\isacharunderscore}is{\isacharunderscore}None{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}reg{\isacharunderscore}Minus\ max{\isacharunderscore}is{\isacharunderscore}None{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}empty{\isacharunderscore}reg{\isacharunderscore}unconstrained{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ {\isasymforall}r{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}R\ r{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}empty{\isacharunderscore}input{\isacharunderscore}unconstrained{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ {\isasymforall}r{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}I\ r{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isacharunderscore}unconstrained{\isacharunderscore}aval{\isacharunderscore}input{\isacharunderscore}swap{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}I\ i{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i{\isacharprime}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isacharunderscore}unconstrained{\isacharunderscore}aval{\isacharunderscore}register{\isacharunderscore}swap{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}R\ i{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ unconstrained{\isacharunderscore}variable{\isacharunderscore}swap{\isacharunderscore}aval{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}I\ i{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ {\isasymforall}r{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}R\ r{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ aval\ a\ s\ {\isacharequal}\ aval\ a\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}input{\isacharunderscore}I{\isacharcolon}\ {\isachardoublequoteopen}AExp{\isachardot}max{\isacharunderscore}input\ {\isacharparenleft}V\ {\isacharparenleft}vname{\isachardot}I\ i{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Some\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ AExp{\isachardot}max{\isacharunderscore}input{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}input{\isacharunderscore}Plus{\isacharcolon}\ {\isachardoublequoteopen}AExp{\isachardot}max{\isacharunderscore}input\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ max\ {\isacharparenleft}AExp{\isachardot}max{\isacharunderscore}input\ a{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}AExp{\isachardot}max{\isacharunderscore}input\ a{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ AExp{\isachardot}max{\isacharunderscore}input{\isacharunderscore}def\ Let{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}None{\isacharunderscore}l{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isachardot}commute\ max{\isacharunderscore}None{\isacharunderscore}l{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set\ Max{\isachardot}union\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ max{\isacharunderscore}Some{\isacharunderscore}Some{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}input{\isacharunderscore}Minus{\isacharcolon}\ {\isachardoublequoteopen}AExp{\isachardot}max{\isacharunderscore}input\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ max\ {\isacharparenleft}AExp{\isachardot}max{\isacharunderscore}input\ a{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}AExp{\isachardot}max{\isacharunderscore}input\ a{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ AExp{\isachardot}max{\isacharunderscore}input{\isacharunderscore}def\ Let{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}None{\isacharunderscore}l{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isachardot}commute\ max{\isacharunderscore}None{\isacharunderscore}l{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set\ Max{\isachardot}union\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ max{\isacharunderscore}Some{\isacharunderscore}Some{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}reg{\isacharunderscore}list{\isacharunderscore}Minus{\isacharcolon}\ {\isachardoublequoteopen}AExp{\isachardot}max{\isacharunderscore}reg\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ max\ {\isacharparenleft}AExp{\isachardot}max{\isacharunderscore}reg\ a{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}AExp{\isachardot}max{\isacharunderscore}reg\ a{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ AExp{\isachardot}max{\isacharunderscore}reg{\isacharunderscore}def\ Let{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}None{\isacharunderscore}l{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isachardot}commute\ max{\isacharunderscore}None{\isacharunderscore}l{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set\ Max{\isachardot}union\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ max{\isacharunderscore}Some{\isacharunderscore}Some{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}reg{\isacharunderscore}list{\isacharunderscore}Plus{\isacharcolon}\ {\isachardoublequoteopen}AExp{\isachardot}max{\isacharunderscore}reg\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ max\ {\isacharparenleft}AExp{\isachardot}max{\isacharunderscore}reg\ a{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}AExp{\isachardot}max{\isacharunderscore}reg\ a{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ AExp{\isachardot}max{\isacharunderscore}reg{\isacharunderscore}def\ Let{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}None{\isacharunderscore}l{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isachardot}commute\ max{\isacharunderscore}None{\isacharunderscore}l{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set\ Max{\isachardot}union\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ max{\isacharunderscore}Some{\isacharunderscore}Some{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}take{\isacharcolon}\ {\isachardoublequoteopen}AExp{\isachardot}max{\isacharunderscore}input\ x\ {\isacharless}\ Some\ a\ {\isasymLongrightarrow}\ aval\ x\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ aval\ x\ {\isacharparenleft}join{\isacharunderscore}ir\ {\isacharparenleft}take\ a\ i{\isacharparenright}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ x{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def\ max{\isacharunderscore}input{\isacharunderscore}I{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}metis\ leI\ nat{\isacharunderscore}less{\isacharunderscore}le\ take{\isacharunderscore}all\ input{\isadigit{2}}state{\isacharunderscore}take{\isacharparenright}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isachardot}simps{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}empty{\isacharunderscore}input{\isacharunderscore}unconstrained\ input{\isacharunderscore}unconstrained{\isacharunderscore}aval{\isacharunderscore}input{\isacharunderscore}swap\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ x{\isadigit{1}}\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}input{\isacharunderscore}Plus{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ x{\isadigit{1}}\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}input{\isacharunderscore}Minus{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}no{\isacharunderscore}reg{\isacharunderscore}swap{\isacharunderscore}regs{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}AExp{\isachardot}max{\isacharunderscore}input\ x\ {\isacharless}\ Some\ a\ {\isasymLongrightarrow}\isanewline
\ \ \ AExp{\isachardot}max{\isacharunderscore}reg\ x\ {\isacharequal}\ None\ {\isasymLongrightarrow}\isanewline
\ \ \ aval\ x\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ ra{\isacharparenright}\ {\isacharequal}\ aval\ x\ {\isacharparenleft}join{\isacharunderscore}ir\ {\isacharparenleft}take\ a\ i{\isacharparenright}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ x{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}metis\ aval{\isacharunderscore}take\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isachardot}simps{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}empty{\isacharunderscore}reg{\isacharunderscore}unconstrained\ input{\isacharunderscore}unconstrained{\isacharunderscore}aval{\isacharunderscore}register{\isacharunderscore}swap{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ AExp{\isachardot}max{\isacharunderscore}reg{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ x{\isadigit{1}}\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}input{\isacharunderscore}Plus\ max{\isacharunderscore}is{\isacharunderscore}None\ max{\isacharunderscore}reg{\isacharunderscore}list{\isacharunderscore}Plus{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ x{\isadigit{1}}\ x{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ max{\isacharunderscore}input{\isacharunderscore}Minus\ max{\isacharunderscore}is{\isacharunderscore}None\ max{\isacharunderscore}reg{\isacharunderscore}list{\isacharunderscore}Minus{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/efsm-sal/theories/AExp.thy%:%
%:%11=1%:%
%:%23=3%:%
%:%24=4%:%
%:%25=5%:%
%:%26=6%:%
%:%27=7%:%
%:%28=8%:%
%:%29=9%:%
%:%30=10%:%
%:%31=11%:%
%:%40=13%:%
%:%52=15%:%
%:%53=16%:%
%:%54=17%:%
%:%62=20%:%
%:%63=20%:%
%:%64=21%:%
%:%65=22%:%
%:%72=22%:%
%:%73=23%:%
%:%74=24%:%
%:%75=24%:%
%:%76=25%:%
%:%77=25%:%
%:%78=26%:%
%:%79=27%:%
%:%80=27%:%
%:%81=28%:%
%:%82=28%:%
%:%83=30%:%
%:%84=31%:%
%:%85=31%:%
%:%86=32%:%
%:%87=34%:%
%:%88=34%:%
%:%89=35%:%
%:%90=36%:%
%:%91=37%:%
%:%92=38%:%
%:%93=38%:%
%:%96=39%:%
%:%100=39%:%
%:%101=39%:%
%:%102=39%:%
%:%107=39%:%
%:%110=40%:%
%:%111=41%:%
%:%112=41%:%
%:%115=42%:%
%:%119=42%:%
%:%120=42%:%
%:%121=42%:%
%:%126=42%:%
%:%129=43%:%
%:%130=44%:%
%:%131=44%:%
%:%134=45%:%
%:%138=45%:%
%:%139=45%:%
%:%140=45%:%
%:%145=45%:%
%:%148=46%:%
%:%149=47%:%
%:%150=47%:%
%:%153=48%:%
%:%157=48%:%
%:%158=48%:%
%:%163=48%:%
%:%166=49%:%
%:%167=50%:%
%:%168=50%:%
%:%169=51%:%
%:%170=52%:%
%:%171=52%:%
%:%174=53%:%
%:%178=53%:%
%:%179=53%:%
%:%180=53%:%
%:%185=53%:%
%:%188=54%:%
%:%189=55%:%
%:%190=55%:%
%:%193=56%:%
%:%197=56%:%
%:%198=56%:%
%:%199=57%:%
%:%200=57%:%
%:%205=57%:%
%:%208=58%:%
%:%209=59%:%
%:%210=59%:%
%:%211=60%:%
%:%212=61%:%
%:%213=61%:%
%:%216=62%:%
%:%220=62%:%
%:%221=62%:%
%:%226=62%:%
%:%229=63%:%
%:%230=64%:%
%:%231=64%:%
%:%232=65%:%
%:%233=66%:%
%:%234=67%:%
%:%235=68%:%
%:%236=69%:%
%:%237=70%:%
%:%238=70%:%
%:%241=71%:%
%:%245=71%:%
%:%246=71%:%
%:%251=71%:%
%:%254=72%:%
%:%255=73%:%
%:%256=73%:%
%:%257=74%:%
%:%258=75%:%
%:%259=76%:%
%:%260=76%:%
%:%261=77%:%
%:%262=78%:%
%:%263=79%:%
%:%264=79%:%
%:%265=80%:%
%:%266=81%:%
%:%267=82%:%
%:%268=83%:%
%:%269=84%:%
%:%270=85%:%
%:%271=86%:%
%:%272=87%:%
%:%273=88%:%
%:%274=88%:%
%:%275=89%:%
%:%276=90%:%
%:%277=91%:%
%:%278=92%:%
%:%279=93%:%
%:%280=94%:%
%:%281=98%:%
%:%282=99%:%
%:%283=100%:%
%:%284=100%:%
%:%285=101%:%
%:%286=101%:%
%:%287=102%:%
%:%288=103%:%
%:%289=104%:%
%:%290=105%:%
%:%293=105%:%
%:%297=105%:%
%:%298=105%:%
%:%305=105%:%
%:%306=106%:%
%:%307=106%:%
%:%308=107%:%
%:%309=108%:%
%:%310=108%:%
%:%311=109%:%
%:%312=109%:%
%:%313=110%:%
%:%314=111%:%
%:%315=112%:%
%:%316=113%:%
%:%319=113%:%
%:%323=113%:%
%:%324=113%:%
%:%331=113%:%
%:%332=114%:%
%:%333=114%:%
%:%334=115%:%
%:%335=116%:%
%:%336=116%:%
%:%337=117%:%
%:%338=118%:%
%:%339=119%:%
%:%340=119%:%
%:%341=120%:%
%:%342=121%:%
%:%343=122%:%
%:%344=123%:%
%:%345=123%:%
%:%348=124%:%
%:%352=124%:%
%:%353=124%:%
%:%354=125%:%
%:%355=125%:%
%:%356=126%:%
%:%357=126%:%
%:%362=126%:%
%:%365=127%:%
%:%366=128%:%
%:%367=128%:%
%:%370=129%:%
%:%374=129%:%
%:%375=129%:%
%:%380=129%:%
%:%383=130%:%
%:%384=131%:%
%:%385=131%:%
%:%392=132%:%
%:%393=132%:%
%:%394=133%:%
%:%395=133%:%
%:%396=134%:%
%:%397=134%:%
%:%398=134%:%
%:%399=135%:%
%:%400=135%:%
%:%401=136%:%
%:%402=136%:%
%:%403=137%:%
%:%404=137%:%
%:%405=138%:%
%:%406=138%:%
%:%407=138%:%
%:%408=139%:%
%:%409=139%:%
%:%410=140%:%
%:%416=140%:%
%:%419=141%:%
%:%420=142%:%
%:%421=142%:%
%:%424=143%:%
%:%428=143%:%
%:%429=143%:%
%:%434=143%:%
%:%437=144%:%
%:%438=145%:%
%:%439=145%:%
%:%442=146%:%
%:%446=146%:%
%:%447=146%:%
%:%452=146%:%
%:%455=147%:%
%:%456=148%:%
%:%457=148%:%
%:%464=149%:%
%:%465=149%:%
%:%466=150%:%
%:%467=150%:%
%:%468=151%:%
%:%469=151%:%
%:%470=151%:%
%:%471=152%:%
%:%472=152%:%
%:%473=153%:%
%:%474=153%:%
%:%475=154%:%
%:%476=154%:%
%:%477=155%:%
%:%478=155%:%
%:%479=155%:%
%:%480=156%:%
%:%481=156%:%
%:%482=157%:%
%:%483=157%:%
%:%484=158%:%
%:%490=158%:%
%:%493=159%:%
%:%494=160%:%
%:%495=160%:%
%:%496=161%:%
%:%499=164%:%
%:%506=165%:%
%:%507=165%:%
%:%508=166%:%
%:%509=166%:%
%:%510=167%:%
%:%511=167%:%
%:%512=167%:%
%:%513=168%:%
%:%514=168%:%
%:%515=169%:%
%:%516=169%:%
%:%517=170%:%
%:%518=170%:%
%:%519=171%:%
%:%520=171%:%
%:%521=171%:%
%:%522=172%:%
%:%523=172%:%
%:%524=173%:%
%:%530=173%:%
%:%533=174%:%
%:%534=175%:%
%:%535=175%:%
%:%538=176%:%
%:%542=176%:%
%:%543=176%:%
%:%544=176%:%
%:%549=176%:%
%:%552=177%:%
%:%553=178%:%
%:%554=178%:%
%:%557=179%:%
%:%561=179%:%
%:%562=179%:%
%:%563=180%:%
%:%564=180%:%
%:%565=180%:%
%:%566=181%:%
%:%567=181%:%
%:%572=181%:%
%:%575=182%:%
%:%576=183%:%
%:%577=183%:%
%:%578=184%:%
%:%580=186%:%
%:%583=187%:%
%:%587=187%:%
%:%588=187%:%
%:%593=187%:%
%:%596=188%:%
%:%597=189%:%
%:%598=189%:%
%:%605=190%:%
%:%606=190%:%
%:%607=191%:%
%:%608=191%:%
%:%609=192%:%
%:%610=192%:%
%:%611=192%:%
%:%612=193%:%
%:%613=193%:%
%:%614=194%:%
%:%615=194%:%
%:%616=195%:%
%:%617=195%:%
%:%618=196%:%
%:%619=196%:%
%:%620=196%:%
%:%621=197%:%
%:%622=197%:%
%:%623=198%:%
%:%624=198%:%
%:%625=199%:%
%:%626=199%:%
%:%627=200%:%
%:%628=200%:%
%:%629=201%:%
%:%630=201%:%
%:%631=202%:%
%:%632=202%:%
%:%633=203%:%
%:%639=203%:%
%:%642=204%:%
%:%643=205%:%
%:%644=205%:%
%:%651=206%:%
%:%652=206%:%
%:%653=207%:%
%:%654=207%:%
%:%655=208%:%
%:%656=208%:%
%:%657=208%:%
%:%658=209%:%
%:%659=209%:%
%:%660=210%:%
%:%661=210%:%
%:%662=211%:%
%:%663=211%:%
%:%664=212%:%
%:%665=212%:%
%:%666=213%:%
%:%667=213%:%
%:%668=213%:%
%:%669=214%:%
%:%670=214%:%
%:%671=215%:%
%:%672=215%:%
%:%673=216%:%
%:%674=216%:%
%:%675=217%:%
%:%681=217%:%
%:%684=218%:%
%:%685=219%:%
%:%686=219%:%
%:%687=220%:%
%:%688=221%:%
%:%689=222%:%
%:%690=223%:%
%:%691=223%:%
%:%698=224%:%
%:%699=224%:%
%:%700=225%:%
%:%701=225%:%
%:%702=226%:%
%:%703=226%:%
%:%704=226%:%
%:%705=227%:%
%:%706=227%:%
%:%707=228%:%
%:%708=228%:%
%:%709=229%:%
%:%710=229%:%
%:%711=230%:%
%:%712=230%:%
%:%713=230%:%
%:%714=231%:%
%:%715=231%:%
%:%716=232%:%
%:%722=232%:%
%:%725=233%:%
%:%726=234%:%
%:%727=234%:%
%:%730=235%:%
%:%734=235%:%
%:%735=235%:%
%:%740=235%:%
%:%743=236%:%
%:%744=237%:%
%:%745=237%:%
%:%748=238%:%
%:%752=238%:%
%:%753=238%:%
%:%758=238%:%
%:%761=239%:%
%:%762=240%:%
%:%763=240%:%
%:%766=241%:%
%:%770=241%:%
%:%771=241%:%
%:%772=242%:%
%:%773=242%:%
%:%774=243%:%
%:%775=243%:%
%:%776=244%:%
%:%777=244%:%
%:%778=245%:%
%:%779=245%:%
%:%780=246%:%
%:%781=246%:%
%:%782=247%:%
%:%783=247%:%
%:%784=248%:%
%:%785=248%:%
%:%790=248%:%
%:%793=249%:%
%:%794=250%:%
%:%795=250%:%
%:%798=251%:%
%:%802=251%:%
%:%803=251%:%
%:%804=252%:%
%:%805=252%:%
%:%806=253%:%
%:%807=253%:%
%:%808=254%:%
%:%809=254%:%
%:%810=255%:%
%:%811=255%:%
%:%812=256%:%
%:%813=256%:%
%:%814=257%:%
%:%815=257%:%
%:%816=258%:%
%:%817=258%:%
%:%818=259%:%
%:%819=259%:%
%:%820=260%:%
%:%821=260%:%
%:%826=260%:%
%:%829=261%:%
%:%830=262%:%
%:%831=262%:%
%:%832=263%:%
%:%835=266%:%
%:%836=267%:%
%:%837=268%:%
%:%838=268%:%
%:%839=269%:%
%:%840=270%:%
%:%841=270%:%
%:%844=271%:%
%:%848=271%:%
%:%849=271%:%
%:%850=272%:%
%:%851=272%:%
%:%852=273%:%
%:%853=273%:%
%:%854=274%:%
%:%855=274%:%
%:%856=275%:%
%:%857=275%:%
%:%862=275%:%
%:%865=276%:%
%:%866=277%:%
%:%867=277%:%
%:%874=278%:%
%:%875=278%:%
%:%876=279%:%
%:%877=279%:%
%:%878=280%:%
%:%879=280%:%
%:%880=280%:%
%:%881=281%:%
%:%882=281%:%
%:%883=282%:%
%:%884=282%:%
%:%885=283%:%
%:%886=283%:%
%:%887=284%:%
%:%888=284%:%
%:%889=284%:%
%:%890=285%:%
%:%891=285%:%
%:%892=286%:%
%:%893=286%:%
%:%894=287%:%
%:%895=287%:%
%:%896=287%:%
%:%897=288%:%
%:%898=288%:%
%:%899=289%:%
%:%900=289%:%
%:%901=290%:%
%:%902=290%:%
%:%903=290%:%
%:%904=291%:%
%:%905=291%:%
%:%906=291%:%
%:%907=292%:%
%:%913=292%:%
%:%916=293%:%
%:%917=294%:%
%:%918=294%:%
%:%925=295%:%
%:%926=295%:%
%:%927=296%:%
%:%928=296%:%
%:%929=297%:%
%:%930=297%:%
%:%931=298%:%
%:%932=298%:%
%:%933=298%:%
%:%934=299%:%
%:%935=299%:%
%:%936=300%:%
%:%937=300%:%
%:%938=301%:%
%:%939=301%:%
%:%940=302%:%
%:%941=302%:%
%:%942=302%:%
%:%943=303%:%
%:%944=303%:%
%:%945=304%:%
%:%946=304%:%
%:%947=305%:%
%:%948=305%:%
%:%949=306%:%
%:%950=306%:%
%:%951=306%:%
%:%952=307%:%
%:%953=307%:%
%:%954=308%:%
%:%955=308%:%
%:%956=309%:%
%:%957=309%:%
%:%958=310%:%
%:%959=310%:%
%:%960=310%:%
%:%961=311%:%
%:%962=311%:%
%:%963=312%:%
%:%964=312%:%
%:%965=313%:%
%:%966=313%:%
%:%967=314%:%
%:%973=314%:%
%:%976=315%:%
%:%977=316%:%
%:%978=316%:%
%:%981=317%:%
%:%985=317%:%
%:%986=317%:%
%:%987=318%:%
%:%988=318%:%
%:%989=319%:%
%:%990=319%:%
%:%991=320%:%
%:%992=320%:%
%:%993=321%:%
%:%994=321%:%
%:%995=322%:%
%:%996=322%:%
%:%997=323%:%
%:%998=323%:%
%:%999=324%:%
%:%1000=324%:%
%:%1001=325%:%
%:%1002=325%:%
%:%1003=326%:%
%:%1004=326%:%
%:%1005=327%:%
%:%1006=327%:%
%:%1007=328%:%
%:%1008=328%:%
%:%1009=329%:%
%:%1010=329%:%
%:%1011=330%:%
%:%1012=330%:%
%:%1013=331%:%
%:%1014=331%:%
%:%1015=332%:%
%:%1016=332%:%
%:%1021=332%:%
%:%1024=333%:%
%:%1025=334%:%
%:%1026=334%:%
%:%1029=335%:%
%:%1033=335%:%
%:%1034=335%:%
%:%1035=336%:%
%:%1036=336%:%
%:%1041=336%:%
%:%1044=337%:%
%:%1045=338%:%
%:%1046=338%:%
%:%1049=339%:%
%:%1053=339%:%
%:%1054=339%:%
%:%1055=340%:%
%:%1056=340%:%
%:%1061=340%:%
%:%1064=341%:%
%:%1065=342%:%
%:%1066=342%:%
%:%1067=343%:%
%:%1068=344%:%
%:%1069=345%:%
%:%1070=346%:%
%:%1071=347%:%
%:%1072=348%:%
%:%1073=348%:%
%:%1074=349%:%
%:%1075=350%:%
%:%1076=351%:%
%:%1077=352%:%
%:%1078=353%:%
%:%1079=354%:%
%:%1080=355%:%
%:%1081=355%:%
%:%1082=356%:%
%:%1083=357%:%
%:%1084=358%:%
%:%1085=359%:%
%:%1086=360%:%
%:%1087=361%:%
%:%1088=362%:%
%:%1089=362%:%
%:%1096=363%:%
%:%1097=363%:%
%:%1098=364%:%
%:%1099=364%:%
%:%1100=365%:%
%:%1101=365%:%
%:%1102=365%:%
%:%1103=366%:%
%:%1104=366%:%
%:%1105=367%:%
%:%1106=367%:%
%:%1107=368%:%
%:%1108=368%:%
%:%1109=369%:%
%:%1110=369%:%
%:%1111=369%:%
%:%1112=370%:%
%:%1113=370%:%
%:%1114=371%:%
%:%1115=371%:%
%:%1116=372%:%
%:%1117=372%:%
%:%1118=373%:%
%:%1119=373%:%
%:%1120=373%:%
%:%1121=374%:%
%:%1122=374%:%
%:%1123=375%:%
%:%1124=375%:%
%:%1125=376%:%
%:%1126=376%:%
%:%1127=377%:%
%:%1128=377%:%
%:%1129=377%:%
%:%1130=378%:%
%:%1131=378%:%
%:%1132=379%:%
%:%1138=379%:%
%:%1141=380%:%
%:%1142=381%:%
%:%1143=381%:%
%:%1144=382%:%
%:%1145=383%:%
%:%1146=384%:%
%:%1147=385%:%
%:%1148=386%:%
%:%1149=387%:%
%:%1150=388%:%
%:%1151=388%:%
%:%1158=389%:%
%:%1159=389%:%
%:%1160=390%:%
%:%1161=390%:%
%:%1162=391%:%
%:%1163=391%:%
%:%1164=391%:%
%:%1165=392%:%
%:%1166=392%:%
%:%1167=393%:%
%:%1168=393%:%
%:%1169=394%:%
%:%1170=394%:%
%:%1171=395%:%
%:%1172=395%:%
%:%1173=395%:%
%:%1174=396%:%
%:%1175=396%:%
%:%1176=397%:%
%:%1177=397%:%
%:%1178=398%:%
%:%1179=398%:%
%:%1180=399%:%
%:%1181=399%:%
%:%1182=399%:%
%:%1183=400%:%
%:%1184=400%:%
%:%1185=401%:%
%:%1186=401%:%
%:%1187=402%:%
%:%1188=402%:%
%:%1189=403%:%
%:%1190=403%:%
%:%1191=403%:%
%:%1192=404%:%
%:%1193=404%:%
%:%1194=405%:%
%:%1200=405%:%
%:%1203=406%:%
%:%1204=407%:%
%:%1205=407%:%
%:%1206=408%:%
%:%1208=410%:%
%:%1215=411%:%
%:%1216=411%:%
%:%1217=412%:%
%:%1218=412%:%
%:%1219=413%:%
%:%1220=413%:%
%:%1221=413%:%
%:%1222=413%:%
%:%1223=414%:%
%:%1224=414%:%
%:%1225=415%:%
%:%1226=415%:%
%:%1227=416%:%
%:%1228=416%:%
%:%1229=416%:%
%:%1230=417%:%
%:%1231=417%:%
%:%1232=418%:%
%:%1233=418%:%
%:%1234=419%:%
%:%1235=419%:%
%:%1236=420%:%
%:%1237=420%:%
%:%1238=421%:%
%:%1239=421%:%
%:%1240=421%:%
%:%1241=422%:%
%:%1242=422%:%
%:%1243=423%:%
%:%1244=423%:%
%:%1245=424%:%
%:%1246=424%:%
%:%1247=425%:%
%:%1248=425%:%
%:%1249=425%:%
%:%1250=426%:%
%:%1251=426%:%
%:%1252=427%:%
%:%1258=427%:%
%:%1261=428%:%
%:%1262=429%:%
%:%1263=429%:%
%:%1266=430%:%
%:%1270=430%:%
%:%1271=430%:%
%:%1272=430%:%
%:%1277=430%:%
%:%1280=431%:%
%:%1281=432%:%
%:%1282=432%:%
%:%1285=433%:%
%:%1289=433%:%
%:%1290=433%:%
%:%1295=433%:%
%:%1298=434%:%
%:%1299=435%:%
%:%1300=435%:%
%:%1304=439%:%
%:%1311=440%:%
%:%1312=440%:%
%:%1313=441%:%
%:%1314=441%:%
%:%1315=442%:%
%:%1316=442%:%
%:%1317=442%:%
%:%1318=443%:%
%:%1319=443%:%
%:%1320=444%:%
%:%1321=444%:%
%:%1322=445%:%
%:%1323=445%:%
%:%1324=446%:%
%:%1325=446%:%
%:%1326=446%:%
%:%1327=447%:%
%:%1328=447%:%
%:%1329=448%:%
%:%1330=448%:%
%:%1331=449%:%
%:%1332=449%:%
%:%1333=450%:%
%:%1334=450%:%
%:%1335=451%:%
%:%1336=451%:%
%:%1337=452%:%
%:%1338=452%:%
%:%1339=452%:%
%:%1340=453%:%
%:%1341=453%:%
%:%1342=454%:%
%:%1343=454%:%
%:%1344=455%:%
%:%1345=455%:%
%:%1346=456%:%
%:%1347=456%:%
%:%1348=457%:%
%:%1349=457%:%
%:%1350=458%:%
%:%1351=458%:%
%:%1352=459%:%
%:%1353=459%:%
%:%1354=460%:%
%:%1355=460%:%
%:%1356=461%:%
%:%1357=461%:%
%:%1358=462%:%
%:%1359=462%:%
%:%1360=463%:%
%:%1361=463%:%
%:%1362=463%:%
%:%1363=464%:%
%:%1364=464%:%
%:%1365=465%:%
%:%1366=465%:%
%:%1367=466%:%
%:%1368=466%:%
%:%1369=467%:%
%:%1370=467%:%
%:%1371=468%:%
%:%1372=468%:%
%:%1373=469%:%
%:%1374=469%:%
%:%1375=470%:%
%:%1376=470%:%
%:%1377=471%:%
%:%1378=471%:%
%:%1379=472%:%
%:%1385=472%:%
%:%1388=473%:%
%:%1389=474%:%
%:%1390=474%:%
%:%1391=475%:%
%:%1392=476%:%
%:%1393=477%:%
%:%1394=477%:%
%:%1395=478%:%
%:%1396=479%:%
%:%1397=480%:%
%:%1398=480%:%
%:%1401=481%:%
%:%1405=481%:%
%:%1406=481%:%
%:%1411=481%:%
%:%1414=482%:%
%:%1415=483%:%
%:%1416=483%:%
%:%1419=484%:%
%:%1423=484%:%
%:%1424=484%:%
%:%1429=484%:%
%:%1432=485%:%
%:%1433=486%:%
%:%1434=486%:%
%:%1435=487%:%
%:%1436=488%:%
%:%1437=488%:%
%:%1440=489%:%
%:%1444=489%:%
%:%1445=489%:%
%:%1446=490%:%
%:%1447=490%:%
%:%1452=490%:%
%:%1455=491%:%
%:%1456=492%:%
%:%1457=492%:%
%:%1460=493%:%
%:%1464=493%:%
%:%1465=493%:%
%:%1466=494%:%
%:%1467=494%:%
%:%1472=494%:%
%:%1475=495%:%
%:%1476=496%:%
%:%1477=496%:%
%:%1484=497%:%
%:%1485=497%:%
%:%1486=498%:%
%:%1487=498%:%
%:%1488=499%:%
%:%1489=499%:%
%:%1490=499%:%
%:%1491=500%:%
%:%1492=500%:%
%:%1493=501%:%
%:%1494=501%:%
%:%1495=502%:%
%:%1496=502%:%
%:%1497=503%:%
%:%1498=503%:%
%:%1499=503%:%
%:%1500=504%:%
%:%1501=504%:%
%:%1502=505%:%
%:%1503=505%:%
%:%1504=506%:%
%:%1505=506%:%
%:%1506=507%:%
%:%1507=507%:%
%:%1508=508%:%
%:%1509=508%:%
%:%1510=509%:%
%:%1511=509%:%
%:%1512=510%:%
%:%1513=510%:%
%:%1514=510%:%
%:%1515=511%:%
%:%1516=511%:%
%:%1517=512%:%
%:%1518=512%:%
%:%1519=513%:%
%:%1520=513%:%
%:%1521=514%:%
%:%1522=514%:%
%:%1523=514%:%
%:%1524=515%:%
%:%1525=515%:%
%:%1526=516%:%
%:%1532=516%:%
%:%1535=517%:%
%:%1536=518%:%
%:%1537=519%:%
%:%1538=519%:%
%:%1539=520%:%
%:%1546=521%:%
%:%1547=521%:%
%:%1548=522%:%
%:%1549=522%:%
%:%1550=523%:%
%:%1551=523%:%
%:%1552=523%:%
%:%1553=524%:%
%:%1554=524%:%
%:%1555=525%:%
%:%1556=525%:%
%:%1557=526%:%
%:%1558=526%:%
%:%1559=527%:%
%:%1560=527%:%
%:%1561=527%:%
%:%1562=528%:%
%:%1563=528%:%
%:%1564=529%:%
%:%1565=529%:%
%:%1566=530%:%
%:%1567=530%:%
%:%1568=531%:%
%:%1569=531%:%
%:%1570=532%:%
%:%1571=532%:%
%:%1572=533%:%
%:%1573=533%:%
%:%1574=533%:%
%:%1575=534%:%
%:%1576=534%:%
%:%1577=535%:%
%:%1578=535%:%
%:%1579=536%:%
%:%1580=536%:%
%:%1581=537%:%
%:%1582=537%:%
%:%1583=537%:%
%:%1584=538%:%
%:%1585=538%:%
%:%1586=539%:%
%:%1592=539%:%
%:%1595=540%:%
%:%1596=541%:%
%:%1597=541%:%
%:%1598=542%:%
%:%1605=543%:%
%:%1606=543%:%
%:%1607=544%:%
%:%1608=544%:%
%:%1609=545%:%
%:%1610=545%:%
%:%1611=545%:%
%:%1612=546%:%
%:%1613=546%:%
%:%1614=547%:%
%:%1615=547%:%
%:%1616=548%:%
%:%1617=548%:%
%:%1618=549%:%
%:%1619=549%:%
%:%1620=549%:%
%:%1621=550%:%
%:%1622=550%:%
%:%1623=551%:%
%:%1624=551%:%
%:%1625=552%:%
%:%1626=552%:%
%:%1627=553%:%
%:%1628=553%:%
%:%1629=554%:%
%:%1630=554%:%
%:%1631=555%:%
%:%1632=555%:%
%:%1633=555%:%
%:%1634=556%:%
%:%1635=556%:%
%:%1636=557%:%
%:%1637=557%:%
%:%1638=558%:%
%:%1639=558%:%
%:%1640=559%:%
%:%1641=559%:%
%:%1642=559%:%
%:%1643=560%:%
%:%1644=560%:%
%:%1645=561%:%
%:%1651=561%:%
%:%1654=562%:%
%:%1655=563%:%
%:%1656=563%:%
%:%1657=564%:%
%:%1664=565%:%
%:%1665=565%:%
%:%1666=566%:%
%:%1667=566%:%
%:%1668=567%:%
%:%1669=567%:%
%:%1670=567%:%
%:%1671=568%:%
%:%1672=568%:%
%:%1673=569%:%
%:%1674=569%:%
%:%1675=570%:%
%:%1676=570%:%
%:%1677=571%:%
%:%1678=571%:%
%:%1679=571%:%
%:%1680=572%:%
%:%1681=572%:%
%:%1682=573%:%
%:%1683=573%:%
%:%1684=574%:%
%:%1685=574%:%
%:%1686=575%:%
%:%1687=575%:%
%:%1688=576%:%
%:%1689=576%:%
%:%1690=577%:%
%:%1691=577%:%
%:%1692=577%:%
%:%1693=578%:%
%:%1694=578%:%
%:%1695=579%:%
%:%1696=579%:%
%:%1697=580%:%
%:%1698=580%:%
%:%1699=581%:%
%:%1700=581%:%
%:%1701=581%:%
%:%1702=582%:%
%:%1703=582%:%
%:%1704=583%:%
%:%1710=583%:%
%:%1713=584%:%
%:%1714=585%:%
%:%1715=585%:%
%:%1716=586%:%
%:%1723=587%:%
%:%1724=587%:%
%:%1725=588%:%
%:%1726=588%:%
%:%1727=589%:%
%:%1728=589%:%
%:%1729=589%:%
%:%1730=590%:%
%:%1731=590%:%
%:%1732=591%:%
%:%1733=591%:%
%:%1734=592%:%
%:%1735=592%:%
%:%1736=593%:%
%:%1737=593%:%
%:%1738=593%:%
%:%1739=594%:%
%:%1740=594%:%
%:%1741=595%:%
%:%1742=595%:%
%:%1743=596%:%
%:%1744=596%:%
%:%1745=597%:%
%:%1746=597%:%
%:%1747=598%:%
%:%1748=598%:%
%:%1749=599%:%
%:%1750=599%:%
%:%1751=599%:%
%:%1752=600%:%
%:%1753=600%:%
%:%1754=601%:%
%:%1755=601%:%
%:%1756=602%:%
%:%1757=602%:%
%:%1758=603%:%
%:%1759=603%:%
%:%1760=603%:%
%:%1761=604%:%
%:%1762=604%:%
%:%1763=605%:%
%:%1769=605%:%
%:%1772=606%:%
%:%1773=607%:%
%:%1774=607%:%
%:%1775=608%:%
%:%1777=610%:%
%:%1784=611%:%
%:%1785=611%:%
%:%1786=612%:%
%:%1787=612%:%
%:%1788=613%:%
%:%1789=613%:%
%:%1790=613%:%
%:%1791=614%:%
%:%1792=614%:%
%:%1793=615%:%
%:%1794=615%:%
%:%1795=616%:%
%:%1796=616%:%
%:%1797=617%:%
%:%1798=617%:%
%:%1799=617%:%
%:%1800=618%:%
%:%1801=618%:%
%:%1802=619%:%
%:%1803=619%:%
%:%1804=620%:%
%:%1805=620%:%
%:%1806=621%:%
%:%1807=621%:%
%:%1808=622%:%
%:%1809=622%:%
%:%1810=622%:%
%:%1811=623%:%
%:%1812=623%:%
%:%1813=624%:%
%:%1814=624%:%
%:%1815=625%:%
%:%1816=625%:%
%:%1817=626%:%
%:%1818=626%:%
%:%1819=626%:%
%:%1820=627%:%
%:%1821=627%:%
%:%1822=628%:%
%:%1828=628%:%
%:%1831=629%:%
%:%1832=630%:%
%:%1833=630%:%
%:%1836=631%:%
%:%1840=631%:%
%:%1841=631%:%
%:%1846=631%:%
%:%1849=632%:%
%:%1850=633%:%
%:%1851=633%:%
%:%1854=634%:%
%:%1858=634%:%
%:%1859=634%:%
%:%1860=635%:%
%:%1861=635%:%
%:%1862=636%:%
%:%1863=636%:%
%:%1864=637%:%
%:%1865=637%:%
%:%1866=638%:%
%:%1867=638%:%
%:%1872=638%:%
%:%1875=639%:%
%:%1876=640%:%
%:%1877=640%:%
%:%1880=641%:%
%:%1884=641%:%
%:%1885=641%:%
%:%1886=642%:%
%:%1887=642%:%
%:%1888=643%:%
%:%1889=643%:%
%:%1890=644%:%
%:%1891=644%:%
%:%1892=645%:%
%:%1893=645%:%
%:%1898=645%:%
%:%1901=646%:%
%:%1902=647%:%
%:%1903=647%:%
%:%1906=648%:%
%:%1910=648%:%
%:%1911=648%:%
%:%1912=649%:%
%:%1913=649%:%
%:%1914=650%:%
%:%1915=650%:%
%:%1916=651%:%
%:%1917=651%:%
%:%1918=652%:%
%:%1919=652%:%
%:%1924=652%:%
%:%1927=653%:%
%:%1928=654%:%
%:%1929=654%:%
%:%1932=655%:%
%:%1936=655%:%
%:%1937=655%:%
%:%1938=656%:%
%:%1939=656%:%
%:%1940=657%:%
%:%1941=657%:%
%:%1942=658%:%
%:%1943=658%:%
%:%1944=659%:%
%:%1945=659%:%
%:%1950=659%:%
%:%1953=660%:%
%:%1954=661%:%
%:%1955=661%:%
%:%1962=662%:%
%:%1963=662%:%
%:%1964=663%:%
%:%1965=663%:%
%:%1966=664%:%
%:%1967=664%:%
%:%1968=664%:%
%:%1969=665%:%
%:%1970=665%:%
%:%1971=666%:%
%:%1972=666%:%
%:%1973=667%:%
%:%1974=667%:%
%:%1975=668%:%
%:%1976=668%:%
%:%1977=668%:%
%:%1978=669%:%
%:%1979=669%:%
%:%1980=670%:%
%:%1981=670%:%
%:%1982=671%:%
%:%1983=671%:%
%:%1984=672%:%
%:%1985=672%:%
%:%1986=673%:%
%:%1987=673%:%
%:%1988=674%:%
%:%1989=674%:%
%:%1990=675%:%
%:%1991=675%:%
%:%1992=676%:%
%:%1993=676%:%
%:%1994=676%:%
%:%1995=677%:%
%:%1996=677%:%
%:%1997=678%:%
%:%1998=678%:%
%:%1999=679%:%
%:%2000=679%:%
%:%2001=680%:%
%:%2002=680%:%
%:%2003=680%:%
%:%2004=681%:%
%:%2005=681%:%
%:%2006=682%:%
%:%2012=682%:%
%:%2015=683%:%
%:%2016=684%:%
%:%2017=684%:%
%:%2018=685%:%
%:%2020=687%:%
%:%2027=688%:%
%:%2028=688%:%
%:%2029=689%:%
%:%2030=689%:%
%:%2031=690%:%
%:%2032=690%:%
%:%2033=690%:%
%:%2034=691%:%
%:%2035=691%:%
%:%2036=692%:%
%:%2037=692%:%
%:%2038=693%:%
%:%2039=693%:%
%:%2040=694%:%
%:%2041=694%:%
%:%2042=694%:%
%:%2043=695%:%
%:%2044=695%:%
%:%2045=696%:%
%:%2046=696%:%
%:%2047=697%:%
%:%2048=697%:%
%:%2049=698%:%
%:%2050=698%:%
%:%2051=699%:%
%:%2052=699%:%
%:%2053=700%:%
%:%2054=700%:%
%:%2055=700%:%
%:%2056=701%:%
%:%2057=701%:%
%:%2058=702%:%
%:%2059=702%:%
%:%2060=703%:%
%:%2061=703%:%
%:%2062=704%:%
%:%2063=704%:%
%:%2064=704%:%
%:%2065=705%:%
%:%2066=705%:%
%:%2067=706%:%
%:%2073=706%:%
%:%2078=707%:%
%:%2083=708%:%