%
\begin{isabellebody}%
\setisabellecontext{AExp}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Extended Finite State Machines%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This section presents the theories associated with EFSMs. First we define a language of arithmetic
expressions for guards, outputs, and updates similar to that in IMP \cite{fixme}. We then go on to
define the guard logic such that nonsensical guards (such as testing to see if an integer is greater
than a string) can never evaluate to true. Next, the guard language is defined in terms of
arithmetic expressions and binary relations. In the interest of simplifying the conversion of guards
to constraints, we use a Nor logic, although we define syntax hacks for the expression of guards
using other logical operators. With the underlying types defined, we then define EFSMs and prove
that they are prefix-closed, that is to say that if a string of inputs is accepted by the machine
then all of its prefixes are also accepted.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Arithmetic Expressions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This theory defines a language of arithmetic expressions over literal values and variables. Here,
values are limited to integers and strings. Variables may be either inputs or registers. We also
limit ourselves to a simple arithmetic of plus and minus as a proof of concept.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ AExp\isanewline
\ \ \isakeyword{imports}\ Value\ VName\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
\isanewline
\isanewline
\isacommand{declare}\isamarkupfalse%
\ One{\isacharunderscore}nat{\isacharunderscore}def\ {\isacharbrackleft}simp\ del{\isacharbrackright}\isanewline
\isanewline
\isacommand{type{\isacharunderscore}synonym}\isamarkupfalse%
\ registers\ {\isacharequal}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\isanewline
\isacommand{type{\isacharunderscore}synonym}\isamarkupfalse%
\ datastate\ {\isacharequal}\ {\isachardoublequoteopen}vname\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}%
\snip{aexptype}{1}{2}{%
\isacommand{datatype}\isamarkupfalse%
\ aexp\ {\isacharequal}\ L\ {\isachardoublequoteopen}value{\isachardoublequoteclose}\ {\isacharbar}\ V\ vname\ {\isacharbar}\ Plus\ aexp\ aexp\ {\isacharbar}\ Minus\ aexp\ aexp%
}%endsnip
\isacommand{syntax}\isamarkupfalse%
\ {\isacharparenleft}xsymbols{\isacharparenright}\isanewline
\ \ Plus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isanewline
\ \ Minus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ value{\isacharunderscore}plus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}value\ option\ {\isasymRightarrow}\ value\ option\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\ \ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}value{\isacharunderscore}plus\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ x{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ y{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ {\isacharparenleft}x{\isacharplus}y{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}value{\isacharunderscore}plus\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ plus{\isacharunderscore}no{\isacharunderscore}string\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}{\isachardoublequoteopen}value{\isacharunderscore}plus\ a\ b\ {\isasymnoteq}\ Some\ {\isacharparenleft}Str\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ value{\isacharunderscore}plus{\isachardot}elims\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ value{\isacharunderscore}plus{\isacharunderscore}symmetry{\isacharcolon}\ {\isachardoublequoteopen}value{\isacharunderscore}plus\ x\ y\ {\isacharequal}\ value{\isacharunderscore}plus\ y\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Some\ a{\isacharparenright}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ y{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ a{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ aa{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ aa{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharunderscore}all\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ value{\isacharunderscore}minus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}value\ option\ {\isasymRightarrow}\ value\ option\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\ \ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}value{\isacharunderscore}minus\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ x{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ y{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ {\isacharparenleft}x{\isacharminus}y{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}value{\isacharunderscore}minus\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ minus{\isacharunderscore}no{\isacharunderscore}string\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}{\isachardoublequoteopen}value{\isacharunderscore}minus\ a\ b\ {\isasymnoteq}\ Some\ {\isacharparenleft}Str\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ value{\isacharunderscore}minus{\isachardot}elims\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ aval\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ datastate\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}L\ x{\isacharparenright}\ s\ {\isacharequal}\ Some\ x{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}V\ x{\isacharparenright}\ s\ {\isacharequal}\ s\ x{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}Plus\ a\isactrlsub {\isadigit{1}}\ a\isactrlsub {\isadigit{2}}{\isacharparenright}\ s\ {\isacharequal}\ value{\isacharunderscore}plus\ {\isacharparenleft}aval\ a\isactrlsub {\isadigit{1}}\ s{\isacharparenright}{\isacharparenleft}aval\ a\isactrlsub {\isadigit{2}}\ s{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}Minus\ a\isactrlsub {\isadigit{1}}\ a\isactrlsub {\isadigit{2}}{\isacharparenright}\ s\ {\isacharequal}\ value{\isacharunderscore}minus\ {\isacharparenleft}aval\ a\isactrlsub {\isadigit{1}}\ s{\isacharparenright}\ {\isacharparenleft}aval\ a\isactrlsub {\isadigit{2}}\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}plus{\isacharunderscore}symmetry{\isacharcolon}\ {\isachardoublequoteopen}aval\ {\isacharparenleft}Plus\ x\ y{\isacharparenright}\ s\ {\isacharequal}\ aval\ {\isacharparenleft}Plus\ y\ x{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ value{\isacharunderscore}plus{\isacharunderscore}symmetry{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ null{\isacharunderscore}state\ {\isacharparenleft}{\isachardoublequoteopen}{\isacharless}{\isachargreater}{\isachardoublequoteclose}{\isacharparenright}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}null{\isacharunderscore}state\ {\isasymequiv}\ {\isasymlambda}x{\isachardot}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{syntax}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}maplet{\isachardoublequoteclose}\ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharprime}a{\isacharcomma}\ {\isacharprime}a{\isacharbrackright}\ {\isasymRightarrow}\ maplet{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}\ {\isacharslash}{\isacharcolon}{\isacharequal}{\isacharslash}\ {\isacharunderscore}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}maplets{\isachardoublequoteclose}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharprime}a{\isacharcomma}\ {\isacharprime}a{\isacharbrackright}\ {\isasymRightarrow}\ maplet{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}\ {\isacharslash}{\isacharbrackleft}{\isacharcolon}{\isacharequal}{\isacharbrackright}{\isacharslash}\ {\isacharunderscore}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Map{\isachardoublequoteclose}\ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}maplets\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymrightharpoonup}\ {\isacharprime}b{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{1}}{\isacharless}{\isacharunderscore}{\isachargreater}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\isanewline
\isacommand{instantiation}\isamarkupfalse%
\ aexp\ {\isacharcolon}{\isacharcolon}\ plus\ \isakeyword{begin}\isanewline
\isacommand{fun}\isamarkupfalse%
\ plus{\isacharunderscore}aexp\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}plus{\isacharunderscore}aexp\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{1}}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ L\ {\isacharparenleft}Num\ {\isacharparenleft}n{\isadigit{1}}{\isacharplus}n{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}plus{\isacharunderscore}aexp\ x\ y\ {\isacharequal}\ Plus\ x\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{instance}\isamarkupfalse%
%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ standard%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{instantiation}\isamarkupfalse%
\ aexp\ {\isacharcolon}{\isacharcolon}\ minus\ \isakeyword{begin}\isanewline
\isacommand{fun}\isamarkupfalse%
\ minus{\isacharunderscore}aexp\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}minus{\isacharunderscore}aexp\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{1}}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ L\ {\isacharparenleft}Num\ {\isacharparenleft}n{\isadigit{1}}{\isacharminus}n{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}minus{\isacharunderscore}aexp\ x\ y\ {\isacharequal}\ Minus\ x\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{instance}\isamarkupfalse%
%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ standard%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ input{\isadigit{2}}state\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}value\ list\ {\isasymRightarrow}\ registers{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}input{\isadigit{2}}state\ n\ {\isacharequal}\ map{\isacharunderscore}of\ {\isacharparenleft}enumerate\ {\isadigit{0}}\ n{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}out{\isacharunderscore}of{\isacharunderscore}bounds{\isacharcolon}\ {\isachardoublequoteopen}i\ {\isasymge}\ length\ ia\ {\isasymLongrightarrow}\ input{\isadigit{2}}state\ ia\ i\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ {\isachardoublequoteopen}ia{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cons\ a\ ia{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}mono{\isacharunderscore}tags{\isacharcomma}\ lifting{\isacharparenright}\ imageE\ in{\isacharunderscore}set{\isacharunderscore}enumerate{\isacharunderscore}eq\ length{\isacharunderscore}Cons\ linorder{\isacharunderscore}not{\isacharunderscore}le\ list{\isachardot}size{\isacharparenleft}{\isadigit{4}}{\isacharparenright}\ map{\isacharunderscore}of{\isacharunderscore}eq{\isacharunderscore}None{\isacharunderscore}iff{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}empty{\isacharcolon}\ {\isachardoublequoteopen}input{\isadigit{2}}state\ {\isacharbrackleft}{\isacharbrackright}\ x{\isadigit{1}}\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}out{\isacharunderscore}of{\isacharunderscore}bounds{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}nth{\isacharcolon}\ {\isachardoublequoteopen}i\ {\isacharless}\ length\ ia\ {\isasymLongrightarrow}\ input{\isadigit{2}}state\ ia\ i\ {\isacharequal}\ Some\ {\isacharparenleft}ia\ {\isacharbang}\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ ia{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cons\ a\ ia{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ add{\isachardot}commute\ in{\isacharunderscore}set{\isacharunderscore}enumerate{\isacharunderscore}eq\ plus{\isacharunderscore}{\isadigit{1}}{\isacharunderscore}eq{\isacharunderscore}Suc\ One{\isacharunderscore}nat{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isadigit{2}}state{\isacharunderscore}cons{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isachargreater}\ {\isadigit{0}}\ {\isasymLongrightarrow}\isanewline
\ \ \ x{\isadigit{1}}\ {\isacharless}\ length\ ia\ {\isasymLongrightarrow}\isanewline
\ \ \ input{\isadigit{2}}state\ {\isacharparenleft}a\ {\isacharhash}\ ia{\isacharparenright}\ x{\isadigit{1}}\ {\isacharequal}\ input{\isadigit{2}}state\ ia\ {\isacharparenleft}x{\isadigit{1}}{\isacharminus}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}nth{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ join{\isacharunderscore}ir\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}value\ list\ {\isasymRightarrow}\ registers\ {\isasymRightarrow}\ datastate{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}join{\isacharunderscore}ir\ i\ r\ {\isasymequiv}\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ case\ x\ of\isanewline
\ \ \ \ R\ n\ {\isasymRightarrow}\ r\ n\ {\isacharbar}\isanewline
\ \ \ \ I\ n\ {\isasymRightarrow}\ {\isacharparenleft}input{\isadigit{2}}state\ i{\isacharparenright}\ n\isanewline
\ \ {\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ datastate\ {\isacharequal}\ join{\isacharunderscore}ir{\isacharunderscore}def\ input{\isadigit{2}}state{\isacharunderscore}def\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ join{\isacharunderscore}ir{\isacharunderscore}empty{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}join{\isacharunderscore}ir\ {\isacharbrackleft}{\isacharbrackright}\ {\isacharless}{\isachargreater}\ {\isacharequal}\ {\isacharless}{\isachargreater}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ext{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ input{\isadigit{2}}state{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}plus{\isacharunderscore}aexp{\isacharcolon}\ {\isachardoublequoteopen}aval\ {\isacharparenleft}a{\isacharplus}b{\isacharparenright}\ s\ {\isacharequal}\ aval\ {\isacharparenleft}Plus\ a\ b{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ a{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ b{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{1}}b{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}minus{\isacharunderscore}aexp{\isacharcolon}\ {\isachardoublequoteopen}aval\ {\isacharparenleft}a{\isacharminus}b{\isacharparenright}\ s\ {\isacharequal}\ aval\ {\isacharparenleft}Minus\ a\ b{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ a{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ b{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{1}}b{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ aexp{\isacharunderscore}constrains\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}L\ l{\isacharparenright}\ a\ {\isacharequal}\ {\isacharparenleft}L\ l\ {\isacharequal}\ a{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}V\ v{\isacharparenright}\ v{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}V\ v\ {\isacharequal}\ v{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ v\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ v\ {\isasymor}\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ v\ {\isasymor}\ {\isacharparenleft}aexp{\isacharunderscore}constrains\ a{\isadigit{1}}\ v\ {\isasymor}\ aexp{\isacharunderscore}constrains\ a{\isadigit{2}}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ v\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ v\ {\isasymor}\ {\isacharparenleft}aexp{\isacharunderscore}constrains\ a{\isadigit{1}}\ v\ {\isasymor}\ aexp{\isacharunderscore}constrains\ a{\isadigit{2}}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ constrains{\isacharunderscore}implies{\isacharunderscore}not{\isacharunderscore}equal{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ aexp{\isacharunderscore}constrains\ x\ a\ {\isasymLongrightarrow}\ x\ {\isasymnoteq}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ aexp{\isacharunderscore}constrains{\isachardot}elims{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}L\ v{\isacharparenright}\ {\isacharparenleft}L\ v{\isacharprime}{\isacharparenright}\ {\isacharequal}\ True{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}V\ v{\isacharparenright}\ {\isacharparenleft}V\ v{\isacharprime}{\isacharparenright}\ {\isacharequal}\ True{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Plus\ a{\isadigit{1}}{\isacharprime}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{1}}\ a{\isadigit{1}}{\isacharprime}\ {\isasymand}\ aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{2}}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Minus\ a{\isadigit{1}}{\isacharprime}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{1}}\ a{\isadigit{1}}{\isacharprime}\ {\isasymand}\ aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{2}}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharequal}\ False{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ nat\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}L\ {\isacharunderscore}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}V\ {\isacharparenleft}I\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}n{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}V\ {\isacharparenleft}R\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}Plus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ v\ {\isasymunion}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ va{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ {\isacharparenleft}Minus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ v\ {\isasymunion}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ va{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ nat\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ {\isacharparenleft}L\ {\isacharunderscore}{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ {\isacharparenleft}V\ {\isacharparenleft}I\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}n{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ {\isacharparenleft}V\ {\isacharparenleft}R\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ {\isacharparenleft}Plus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ v\ {\isacharat}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ va{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ {\isacharparenleft}Minus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ v\ {\isacharat}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ va{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ nat\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}L\ {\isacharunderscore}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}V\ {\isacharparenleft}R\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}n{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}V\ {\isacharparenleft}I\ {\isacharunderscore}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}Plus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ v\ {\isasymunion}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ va{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ {\isacharparenleft}Minus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ v\ {\isasymunion}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ va{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ nat\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ {\isacharparenleft}L\ {\isacharunderscore}{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ {\isacharparenleft}V\ {\isacharparenleft}R\ n{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}n{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ {\isacharparenleft}V\ {\isacharparenleft}I\ {\isacharunderscore}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ {\isacharparenleft}Plus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ v\ {\isacharat}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ va{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ {\isacharparenleft}Minus\ v\ va{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ v\ {\isacharat}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ va{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list{\isacharcolon}\ {\isachardoublequoteopen}set\ {\isacharparenleft}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ l{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ l{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ l{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ l{\isadigit{1}}\ l{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ l{\isadigit{1}}\ l{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list{\isacharcolon}\ {\isachardoublequoteopen}set\ {\isacharparenleft}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}list\ l{\isacharparenright}\ {\isacharequal}\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ l{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ l{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ l{\isadigit{1}}\ l{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ l{\isadigit{1}}\ l{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}regs{\isacharunderscore}empty{\isacharunderscore}reg{\isacharunderscore}unconstrained{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}regs\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ {\isasymforall}r{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}R\ r{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list{\isacharcolon}\ {\isachardoublequoteopen}set\ {\isacharparenleft}fold\ {\isacharparenleft}{\isacharat}{\isacharparenright}\ {\isacharparenleft}map\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\ l{\isacharparenright}\ {\isacharbrackleft}{\isacharbrackright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymUnion}\ set\ {\isacharparenleft}map\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ l{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ l{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cons\ a\ l{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}list\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ fold{\isacharunderscore}append{\isacharunderscore}concat{\isacharunderscore}rev\ inf{\isacharunderscore}sup{\isacharunderscore}aci{\isacharparenleft}{\isadigit{5}}{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs{\isacharunderscore}empty{\isacharunderscore}input{\isacharunderscore}unconstrained{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}enumerate{\isacharunderscore}aexp{\isacharunderscore}inputs\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ {\isasymforall}r{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}I\ r{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isacharunderscore}unconstrained{\isacharunderscore}aval{\isacharunderscore}input{\isacharunderscore}swap{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}I\ i{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i{\isacharprime}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ input{\isacharunderscore}unconstrained{\isacharunderscore}aval{\isacharunderscore}register{\isacharunderscore}swap{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}R\ i{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharparenright}\ {\isacharequal}\ aval\ a\ {\isacharparenleft}join{\isacharunderscore}ir\ i\ r{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ join{\isacharunderscore}ir{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ unconstrained{\isacharunderscore}variable{\isacharunderscore}swap{\isacharunderscore}aval{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}I\ i{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ {\isasymforall}r{\isachardot}\ {\isasymnot}\ aexp{\isacharunderscore}constrains\ a\ {\isacharparenleft}V\ {\isacharparenleft}R\ r{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\isanewline
\ \ \ aval\ a\ s\ {\isacharequal}\ aval\ a\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}induct\ a{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}L\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}V\ x{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/efsm-sal/theories/AExp.thy%:%
%:%11=1%:%
%:%23=3%:%
%:%24=4%:%
%:%25=5%:%
%:%26=6%:%
%:%27=7%:%
%:%28=8%:%
%:%29=9%:%
%:%30=10%:%
%:%31=11%:%
%:%40=13%:%
%:%52=15%:%
%:%53=16%:%
%:%54=17%:%
%:%62=20%:%
%:%63=20%:%
%:%64=21%:%
%:%65=22%:%
%:%72=22%:%
%:%73=23%:%
%:%74=24%:%
%:%75=24%:%
%:%76=25%:%
%:%77=26%:%
%:%78=26%:%
%:%79=27%:%
%:%80=27%:%
%:%81=29%:%
%:%82=30%:%
%:%83=30%:%
%:%84=31%:%
%:%85=33%:%
%:%86=33%:%
%:%87=34%:%
%:%88=35%:%
%:%89=36%:%
%:%90=37%:%
%:%91=37%:%
%:%92=38%:%
%:%93=39%:%
%:%94=40%:%
%:%95=41%:%
%:%96=41%:%
%:%99=42%:%
%:%103=42%:%
%:%104=42%:%
%:%105=42%:%
%:%110=42%:%
%:%113=43%:%
%:%114=44%:%
%:%115=44%:%
%:%118=45%:%
%:%122=45%:%
%:%123=45%:%
%:%124=46%:%
%:%125=46%:%
%:%126=47%:%
%:%127=47%:%
%:%128=47%:%
%:%129=47%:%
%:%130=48%:%
%:%131=48%:%
%:%132=49%:%
%:%133=49%:%
%:%134=50%:%
%:%135=50%:%
%:%136=50%:%
%:%137=51%:%
%:%138=51%:%
%:%139=52%:%
%:%140=52%:%
%:%141=53%:%
%:%142=53%:%
%:%143=54%:%
%:%144=54%:%
%:%145=55%:%
%:%146=55%:%
%:%147=56%:%
%:%148=56%:%
%:%149=57%:%
%:%150=57%:%
%:%151=58%:%
%:%152=58%:%
%:%153=59%:%
%:%159=59%:%
%:%162=60%:%
%:%163=61%:%
%:%164=61%:%
%:%165=62%:%
%:%166=63%:%
%:%167=64%:%
%:%168=65%:%
%:%169=65%:%
%:%172=66%:%
%:%176=66%:%
%:%177=66%:%
%:%178=66%:%
%:%183=66%:%
%:%186=67%:%
%:%187=68%:%
%:%188=68%:%
%:%189=69%:%
%:%190=70%:%
%:%191=71%:%
%:%192=72%:%
%:%193=73%:%
%:%194=74%:%
%:%195=74%:%
%:%198=75%:%
%:%202=75%:%
%:%203=75%:%
%:%208=75%:%
%:%211=76%:%
%:%212=77%:%
%:%213=77%:%
%:%214=78%:%
%:%215=79%:%
%:%216=80%:%
%:%217=80%:%
%:%218=81%:%
%:%219=82%:%
%:%220=83%:%
%:%221=84%:%
%:%222=85%:%
%:%223=85%:%
%:%224=86%:%
%:%225=86%:%
%:%226=87%:%
%:%227=88%:%
%:%228=89%:%
%:%229=90%:%
%:%232=90%:%
%:%236=90%:%
%:%237=90%:%
%:%244=90%:%
%:%245=91%:%
%:%246=91%:%
%:%247=92%:%
%:%248=93%:%
%:%249=93%:%
%:%250=94%:%
%:%251=94%:%
%:%252=95%:%
%:%253=96%:%
%:%254=97%:%
%:%255=98%:%
%:%258=98%:%
%:%262=98%:%
%:%263=98%:%
%:%270=98%:%
%:%271=99%:%
%:%272=99%:%
%:%273=100%:%
%:%274=101%:%
%:%275=101%:%
%:%276=102%:%
%:%277=103%:%
%:%278=104%:%
%:%279=104%:%
%:%286=105%:%
%:%287=105%:%
%:%288=106%:%
%:%289=106%:%
%:%290=107%:%
%:%291=107%:%
%:%292=107%:%
%:%293=108%:%
%:%294=108%:%
%:%295=109%:%
%:%296=109%:%
%:%297=110%:%
%:%298=110%:%
%:%299=111%:%
%:%300=111%:%
%:%301=111%:%
%:%302=112%:%
%:%303=112%:%
%:%304=113%:%
%:%305=113%:%
%:%306=114%:%
%:%312=114%:%
%:%315=115%:%
%:%316=116%:%
%:%317=116%:%
%:%320=117%:%
%:%324=117%:%
%:%325=117%:%
%:%330=117%:%
%:%333=118%:%
%:%334=119%:%
%:%335=119%:%
%:%342=120%:%
%:%343=120%:%
%:%344=121%:%
%:%345=121%:%
%:%346=122%:%
%:%347=122%:%
%:%348=122%:%
%:%349=123%:%
%:%350=123%:%
%:%351=124%:%
%:%352=124%:%
%:%353=125%:%
%:%354=125%:%
%:%355=126%:%
%:%356=126%:%
%:%357=126%:%
%:%358=127%:%
%:%359=127%:%
%:%360=128%:%
%:%361=128%:%
%:%362=129%:%
%:%363=129%:%
%:%364=130%:%
%:%370=130%:%
%:%373=131%:%
%:%374=132%:%
%:%375=132%:%
%:%376=133%:%
%:%378=135%:%
%:%381=136%:%
%:%385=136%:%
%:%386=136%:%
%:%391=136%:%
%:%394=137%:%
%:%395=138%:%
%:%396=138%:%
%:%397=139%:%
%:%400=142%:%
%:%401=143%:%
%:%402=144%:%
%:%403=144%:%
%:%404=145%:%
%:%405=146%:%
%:%406=146%:%
%:%409=147%:%
%:%413=147%:%
%:%414=147%:%
%:%415=148%:%
%:%416=148%:%
%:%417=149%:%
%:%418=149%:%
%:%419=150%:%
%:%420=150%:%
%:%421=151%:%
%:%422=151%:%
%:%427=151%:%
%:%430=152%:%
%:%431=153%:%
%:%432=153%:%
%:%435=154%:%
%:%439=154%:%
%:%440=154%:%
%:%441=155%:%
%:%442=155%:%
%:%443=156%:%
%:%444=156%:%
%:%445=157%:%
%:%446=157%:%
%:%447=158%:%
%:%448=158%:%
%:%453=158%:%
%:%456=159%:%
%:%457=160%:%
%:%458=160%:%
%:%461=161%:%
%:%465=161%:%
%:%466=161%:%
%:%467=162%:%
%:%468=162%:%
%:%469=163%:%
%:%470=163%:%
%:%471=164%:%
%:%472=164%:%
%:%473=165%:%
%:%474=165%:%
%:%479=165%:%
%:%482=166%:%
%:%483=167%:%
%:%484=167%:%
%:%485=168%:%
%:%486=169%:%
%:%487=170%:%
%:%488=171%:%
%:%489=172%:%
%:%490=173%:%
%:%491=173%:%
%:%494=174%:%
%:%498=174%:%
%:%499=174%:%
%:%500=174%:%
%:%505=174%:%
%:%508=175%:%
%:%509=176%:%
%:%510=176%:%
%:%511=177%:%
%:%512=178%:%
%:%513=179%:%
%:%514=180%:%
%:%515=181%:%
%:%516=182%:%
%:%517=183%:%
%:%518=183%:%
%:%519=184%:%
%:%520=185%:%
%:%521=186%:%
%:%522=187%:%
%:%523=188%:%
%:%524=189%:%
%:%525=190%:%
%:%526=190%:%
%:%527=191%:%
%:%528=192%:%
%:%529=193%:%
%:%530=194%:%
%:%531=195%:%
%:%532=196%:%
%:%533=197%:%
%:%534=197%:%
%:%535=198%:%
%:%536=199%:%
%:%537=200%:%
%:%538=201%:%
%:%539=202%:%
%:%540=203%:%
%:%541=204%:%
%:%542=204%:%
%:%543=205%:%
%:%544=206%:%
%:%545=207%:%
%:%546=208%:%
%:%547=209%:%
%:%548=210%:%
%:%549=211%:%
%:%550=211%:%
%:%557=212%:%
%:%558=212%:%
%:%559=213%:%
%:%560=213%:%
%:%561=214%:%
%:%562=214%:%
%:%563=214%:%
%:%564=215%:%
%:%565=215%:%
%:%566=216%:%
%:%567=216%:%
%:%568=217%:%
%:%569=217%:%
%:%570=218%:%
%:%571=218%:%
%:%572=218%:%
%:%573=219%:%
%:%574=219%:%
%:%575=220%:%
%:%576=220%:%
%:%577=221%:%
%:%578=221%:%
%:%579=222%:%
%:%580=222%:%
%:%581=223%:%
%:%582=223%:%
%:%583=223%:%
%:%584=224%:%
%:%585=224%:%
%:%586=225%:%
%:%587=225%:%
%:%588=226%:%
%:%589=226%:%
%:%590=227%:%
%:%591=227%:%
%:%592=227%:%
%:%593=228%:%
%:%594=228%:%
%:%595=229%:%
%:%601=229%:%
%:%604=230%:%
%:%605=231%:%
%:%606=231%:%
%:%613=232%:%
%:%614=232%:%
%:%615=233%:%
%:%616=233%:%
%:%617=234%:%
%:%618=234%:%
%:%619=234%:%
%:%620=235%:%
%:%621=235%:%
%:%622=236%:%
%:%623=236%:%
%:%624=237%:%
%:%625=237%:%
%:%626=238%:%
%:%627=238%:%
%:%628=238%:%
%:%629=239%:%
%:%630=239%:%
%:%631=240%:%
%:%632=240%:%
%:%633=241%:%
%:%634=241%:%
%:%635=242%:%
%:%636=242%:%
%:%637=243%:%
%:%638=243%:%
%:%639=243%:%
%:%640=244%:%
%:%641=244%:%
%:%642=245%:%
%:%643=245%:%
%:%644=246%:%
%:%645=246%:%
%:%646=247%:%
%:%647=247%:%
%:%648=247%:%
%:%649=248%:%
%:%650=248%:%
%:%651=249%:%
%:%657=249%:%
%:%660=250%:%
%:%661=251%:%
%:%662=252%:%
%:%663=252%:%
%:%664=253%:%
%:%671=254%:%
%:%672=254%:%
%:%673=255%:%
%:%674=255%:%
%:%675=256%:%
%:%676=256%:%
%:%677=256%:%
%:%678=257%:%
%:%679=257%:%
%:%680=258%:%
%:%681=258%:%
%:%682=259%:%
%:%683=259%:%
%:%684=260%:%
%:%685=260%:%
%:%686=260%:%
%:%687=261%:%
%:%688=261%:%
%:%689=262%:%
%:%690=262%:%
%:%691=263%:%
%:%692=263%:%
%:%693=264%:%
%:%694=264%:%
%:%695=265%:%
%:%696=265%:%
%:%697=266%:%
%:%698=266%:%
%:%699=266%:%
%:%700=267%:%
%:%701=267%:%
%:%702=268%:%
%:%703=268%:%
%:%704=269%:%
%:%705=269%:%
%:%706=270%:%
%:%707=270%:%
%:%708=270%:%
%:%709=271%:%
%:%710=271%:%
%:%711=272%:%
%:%717=272%:%
%:%720=273%:%
%:%721=274%:%
%:%722=274%:%
%:%729=275%:%
%:%730=275%:%
%:%731=276%:%
%:%732=276%:%
%:%733=277%:%
%:%734=277%:%
%:%735=277%:%
%:%736=278%:%
%:%737=278%:%
%:%738=279%:%
%:%739=279%:%
%:%740=280%:%
%:%741=280%:%
%:%742=281%:%
%:%743=281%:%
%:%744=281%:%
%:%745=282%:%
%:%746=282%:%
%:%747=283%:%
%:%748=283%:%
%:%749=284%:%
%:%755=284%:%
%:%758=285%:%
%:%759=286%:%
%:%760=286%:%
%:%761=287%:%
%:%768=288%:%
%:%769=288%:%
%:%770=289%:%
%:%771=289%:%
%:%772=290%:%
%:%773=290%:%
%:%774=290%:%
%:%775=291%:%
%:%776=291%:%
%:%777=292%:%
%:%778=292%:%
%:%779=293%:%
%:%780=293%:%
%:%781=294%:%
%:%782=294%:%
%:%783=294%:%
%:%784=295%:%
%:%785=295%:%
%:%786=296%:%
%:%787=296%:%
%:%788=297%:%
%:%789=297%:%
%:%790=298%:%
%:%791=298%:%
%:%792=299%:%
%:%793=299%:%
%:%794=300%:%
%:%795=300%:%
%:%796=300%:%
%:%797=301%:%
%:%798=301%:%
%:%799=302%:%
%:%800=302%:%
%:%801=303%:%
%:%802=303%:%
%:%803=304%:%
%:%804=304%:%
%:%805=304%:%
%:%806=305%:%
%:%807=305%:%
%:%808=306%:%
%:%814=306%:%
%:%817=307%:%
%:%818=308%:%
%:%819=308%:%
%:%820=309%:%
%:%827=310%:%
%:%828=310%:%
%:%829=311%:%
%:%830=311%:%
%:%831=312%:%
%:%832=312%:%
%:%833=312%:%
%:%834=313%:%
%:%835=313%:%
%:%836=314%:%
%:%837=314%:%
%:%838=315%:%
%:%839=315%:%
%:%840=316%:%
%:%841=316%:%
%:%842=316%:%
%:%843=317%:%
%:%844=317%:%
%:%845=318%:%
%:%846=318%:%
%:%847=319%:%
%:%848=319%:%
%:%849=320%:%
%:%850=320%:%
%:%851=321%:%
%:%852=321%:%
%:%853=322%:%
%:%854=322%:%
%:%855=322%:%
%:%856=323%:%
%:%857=323%:%
%:%858=324%:%
%:%859=324%:%
%:%860=325%:%
%:%861=325%:%
%:%862=326%:%
%:%863=326%:%
%:%864=326%:%
%:%865=327%:%
%:%866=327%:%
%:%867=328%:%
%:%873=328%:%
%:%876=329%:%
%:%877=330%:%
%:%878=330%:%
%:%879=331%:%
%:%886=332%:%
%:%887=332%:%
%:%888=333%:%
%:%889=333%:%
%:%890=334%:%
%:%891=334%:%
%:%892=334%:%
%:%893=335%:%
%:%894=335%:%
%:%895=336%:%
%:%896=336%:%
%:%897=337%:%
%:%898=337%:%
%:%899=338%:%
%:%900=338%:%
%:%901=338%:%
%:%902=339%:%
%:%903=339%:%
%:%904=340%:%
%:%905=340%:%
%:%906=341%:%
%:%907=341%:%
%:%908=342%:%
%:%909=342%:%
%:%910=343%:%
%:%911=343%:%
%:%912=344%:%
%:%913=344%:%
%:%914=344%:%
%:%915=345%:%
%:%916=345%:%
%:%917=346%:%
%:%918=346%:%
%:%919=347%:%
%:%920=347%:%
%:%921=348%:%
%:%922=348%:%
%:%923=348%:%
%:%924=349%:%
%:%925=349%:%
%:%926=350%:%
%:%932=350%:%
%:%935=351%:%
%:%936=352%:%
%:%937=352%:%
%:%938=353%:%
%:%940=355%:%
%:%947=356%:%
%:%948=356%:%
%:%949=357%:%
%:%950=357%:%
%:%951=358%:%
%:%952=358%:%
%:%953=358%:%
%:%954=359%:%
%:%955=359%:%
%:%956=360%:%
%:%957=360%:%
%:%958=361%:%
%:%959=361%:%
%:%960=362%:%
%:%961=362%:%
%:%962=362%:%
%:%963=363%:%
%:%964=363%:%
%:%965=364%:%
%:%966=364%:%
%:%967=365%:%
%:%968=365%:%
%:%969=366%:%
%:%970=366%:%
%:%971=367%:%
%:%972=367%:%
%:%973=367%:%
%:%974=368%:%
%:%975=368%:%
%:%976=369%:%
%:%977=369%:%
%:%978=370%:%
%:%979=370%:%
%:%980=371%:%
%:%981=371%:%
%:%982=371%:%
%:%983=372%:%
%:%984=372%:%
%:%985=373%:%
%:%991=373%:%
%:%996=374%:%
%:%1001=375%:%