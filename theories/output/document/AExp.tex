%
\begin{isabellebody}%
\setisabellecontext{AExp}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Extended Finite State Machines%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This section presents the theories associated with EFSMs. First we define a language of arithmetic
expressions for guards, outputs, and updates similar to that in IMP \cite{fixme}. We then go on to
define the guard logic such that nonsensical guards (such as testing to see if an integer is greater
than a string) can never evaluate to true. Next, the guard language is defined in terms of
arithmetic expressions and binary relations. In the interest of simplifying the conversion of guards
to constraints, we use a Nor logic, although we define syntax hacks for the expression of guards
using other logical operators. With the underlying types defined, we then define EFSMs and prove
that they are prefix-closed, that is to say that if a string of inputs is accepted by the machine
then all of its prefixes are also accepted.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Arithmetic Expressions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This theory defines a language of arithmetic expressions over literal values and variables. Here,
values are limited to integers and strings. Variables may be either inputs or registers. We also
limit ourselves to a simple arithmetic of plus and minus as a proof of concept.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ AExp\isanewline
\ \ \isakeyword{imports}\ Value\ VName\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
\isanewline
\isanewline
\isacommand{type{\isacharunderscore}synonym}\isamarkupfalse%
\ datastate\ {\isacharequal}\ {\isachardoublequoteopen}vname\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{datatype}\isamarkupfalse%
\ aexp\ {\isacharequal}\ L\ {\isachardoublequoteopen}value{\isachardoublequoteclose}\ {\isacharbar}\ V\ vname\ {\isacharbar}\ Plus\ aexp\ aexp\ {\isacharbar}\ Minus\ aexp\ aexp\isanewline
\isanewline
\isacommand{syntax}\isamarkupfalse%
\ {\isacharparenleft}xsymbols{\isacharparenright}\isanewline
\ \ Plus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isanewline
\ \ Minus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ value{\isacharunderscore}plus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}value\ option\ {\isasymRightarrow}\ value\ option\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\ \ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}value{\isacharunderscore}plus\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ x{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ y{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ {\isacharparenleft}x{\isacharplus}y{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}value{\isacharunderscore}plus\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ plus{\isacharunderscore}no{\isacharunderscore}string\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}{\isachardoublequoteopen}value{\isacharunderscore}plus\ a\ b\ {\isasymnoteq}\ Some\ {\isacharparenleft}Str\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ value{\isacharunderscore}plus{\isachardot}elims\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ value{\isacharunderscore}plus{\isacharunderscore}symmetry{\isacharcolon}\ {\isachardoublequoteopen}value{\isacharunderscore}plus\ x\ y\ {\isacharequal}\ value{\isacharunderscore}plus\ y\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Some\ a{\isacharparenright}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ y{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ a{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ aa{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ aa{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharunderscore}all\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ value{\isacharunderscore}minus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}value\ option\ {\isasymRightarrow}\ value\ option\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\ \ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}value{\isacharunderscore}minus\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ x{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}Some\ {\isacharparenleft}Num\ y{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ Some\ {\isacharparenleft}Num\ {\isacharparenleft}x{\isacharminus}y{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}value{\isacharunderscore}minus\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ minus{\isacharunderscore}no{\isacharunderscore}string\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}{\isachardoublequoteopen}value{\isacharunderscore}minus\ a\ b\ {\isasymnoteq}\ Some\ {\isacharparenleft}Str\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ value{\isacharunderscore}minus{\isachardot}elims\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ aval\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ datastate\ {\isasymRightarrow}\ value\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}L\ x{\isacharparenright}\ s\ {\isacharequal}\ Some\ x{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}V\ x{\isacharparenright}\ s\ {\isacharequal}\ s\ x{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}Plus\ a\isactrlsub {\isadigit{1}}\ a\isactrlsub {\isadigit{2}}{\isacharparenright}\ s\ {\isacharequal}\ value{\isacharunderscore}plus\ {\isacharparenleft}aval\ a\isactrlsub {\isadigit{1}}\ s{\isacharparenright}{\isacharparenleft}aval\ a\isactrlsub {\isadigit{2}}\ s{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aval\ {\isacharparenleft}Minus\ a\isactrlsub {\isadigit{1}}\ a\isactrlsub {\isadigit{2}}{\isacharparenright}\ s\ {\isacharequal}\ value{\isacharunderscore}minus\ {\isacharparenleft}aval\ a\isactrlsub {\isadigit{1}}\ s{\isacharparenright}\ {\isacharparenleft}aval\ a\isactrlsub {\isadigit{2}}\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}plus{\isacharunderscore}symmetry{\isacharcolon}\ {\isachardoublequoteopen}aval\ {\isacharparenleft}Plus\ x\ y{\isacharparenright}\ s\ {\isacharequal}\ aval\ {\isacharparenleft}Plus\ y\ x{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ value{\isacharunderscore}plus{\isacharunderscore}symmetry{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ null{\isacharunderscore}state\ {\isacharparenleft}{\isachardoublequoteopen}{\isacharless}{\isachargreater}{\isachardoublequoteclose}{\isacharparenright}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}null{\isacharunderscore}state\ {\isasymequiv}\ {\isasymlambda}x{\isachardot}\ None{\isachardoublequoteclose}\isanewline
\isacommand{declare}\isamarkupfalse%
\ null{\isacharunderscore}state{\isacharunderscore}def\ {\isacharbrackleft}simp{\isacharbrackright}\isanewline
\isanewline
\isacommand{syntax}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}maplet{\isachardoublequoteclose}\ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharprime}a{\isacharcomma}\ {\isacharprime}a{\isacharbrackright}\ {\isasymRightarrow}\ maplet{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}\ {\isacharslash}{\isacharcolon}{\isacharequal}{\isacharslash}\ {\isacharunderscore}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}maplets{\isachardoublequoteclose}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharprime}a{\isacharcomma}\ {\isacharprime}a{\isacharbrackright}\ {\isasymRightarrow}\ maplet{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}\ {\isacharslash}{\isacharbrackleft}{\isacharcolon}{\isacharequal}{\isacharbrackright}{\isacharslash}\ {\isacharunderscore}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}Map{\isachardoublequoteclose}\ \ \ \ \ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}maplets\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymrightharpoonup}\ {\isacharprime}b{\isachardoublequoteclose}\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharparenleft}{\isadigit{1}}{\isacharless}{\isacharunderscore}{\isachargreater}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\isanewline
\isacommand{instantiation}\isamarkupfalse%
\ aexp\ {\isacharcolon}{\isacharcolon}\ plus\ \isakeyword{begin}\isanewline
\isacommand{fun}\isamarkupfalse%
\ plus{\isacharunderscore}aexp\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}plus{\isacharunderscore}aexp\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{1}}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ L\ {\isacharparenleft}Num\ {\isacharparenleft}n{\isadigit{1}}{\isacharplus}n{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}plus{\isacharunderscore}aexp\ x\ y\ {\isacharequal}\ Plus\ x\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{instance}\isamarkupfalse%
%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ standard%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{instantiation}\isamarkupfalse%
\ aexp\ {\isacharcolon}{\isacharcolon}\ minus\ \isakeyword{begin}\isanewline
\isacommand{fun}\isamarkupfalse%
\ minus{\isacharunderscore}aexp\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ aexp{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}minus{\isacharunderscore}aexp\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{1}}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}L\ {\isacharparenleft}Num\ n{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ L\ {\isacharparenleft}Num\ {\isacharparenleft}n{\isadigit{1}}{\isacharminus}n{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}minus{\isacharunderscore}aexp\ x\ y\ {\isacharequal}\ Minus\ x\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{instance}\isamarkupfalse%
%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ standard%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}plus{\isacharunderscore}aexp{\isacharcolon}\ {\isachardoublequoteopen}aval\ {\isacharparenleft}a{\isacharplus}b{\isacharparenright}\ s\ {\isacharequal}\ aval\ {\isacharparenleft}Plus\ a\ b{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ a{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ b{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{1}}b{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ aval{\isacharunderscore}minus{\isacharunderscore}aexp{\isacharcolon}\ {\isachardoublequoteopen}aval\ {\isacharparenleft}a{\isacharminus}b{\isacharparenright}\ s\ {\isacharequal}\ aval\ {\isacharparenleft}Minus\ a\ b{\isacharparenright}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ a{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ b{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ x{\isadigit{1}}b{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ aexp{\isacharunderscore}constrains\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}L\ l{\isacharparenright}\ a\ {\isacharequal}\ {\isacharparenleft}L\ l\ {\isacharequal}\ a{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}V\ v{\isacharparenright}\ v{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}V\ v\ {\isacharequal}\ v{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ v\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ v\ {\isasymor}\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ v\ {\isasymor}\ {\isacharparenleft}aexp{\isacharunderscore}constrains\ a{\isadigit{1}}\ v\ {\isasymor}\ aexp{\isacharunderscore}constrains\ a{\isadigit{2}}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}constrains\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ v\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ v\ {\isasymor}\ {\isacharparenleft}aexp{\isacharunderscore}constrains\ a{\isadigit{1}}\ v\ {\isasymor}\ aexp{\isacharunderscore}constrains\ a{\isadigit{2}}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ constrains{\isacharunderscore}implies{\isacharunderscore}not{\isacharunderscore}equal{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ aexp{\isacharunderscore}constrains\ x\ a\ {\isasymLongrightarrow}\ x\ {\isasymnoteq}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ aexp{\isacharunderscore}constrains{\isachardot}elims{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}aexp\ {\isasymRightarrow}\ aexp\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}L\ v{\isacharparenright}\ {\isacharparenleft}L\ v{\isacharprime}{\isacharparenright}\ {\isacharequal}\ True{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}V\ v{\isacharparenright}\ {\isacharparenleft}V\ v{\isacharprime}{\isacharparenright}\ {\isacharequal}\ True{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}Plus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Plus\ a{\isadigit{1}}{\isacharprime}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{1}}\ a{\isadigit{1}}{\isacharprime}\ {\isasymand}\ aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{2}}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharparenleft}Minus\ a{\isadigit{1}}\ a{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}Minus\ a{\isadigit{1}}{\isacharprime}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{1}}\ a{\isadigit{1}}{\isacharprime}\ {\isasymand}\ aexp{\isacharunderscore}same{\isacharunderscore}structure\ a{\isadigit{2}}\ a{\isadigit{2}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
\ \ {\isachardoublequoteopen}aexp{\isacharunderscore}same{\isacharunderscore}structure\ {\isacharunderscore}\ {\isacharunderscore}\ {\isacharequal}\ False{\isachardoublequoteclose}\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/efsm-sal/theories/AExp.thy%:%
%:%11=1%:%
%:%23=3%:%
%:%24=4%:%
%:%25=5%:%
%:%26=6%:%
%:%27=7%:%
%:%28=8%:%
%:%29=9%:%
%:%30=10%:%
%:%31=11%:%
%:%40=13%:%
%:%52=15%:%
%:%53=16%:%
%:%54=17%:%
%:%62=20%:%
%:%63=20%:%
%:%64=21%:%
%:%65=22%:%
%:%72=22%:%
%:%73=23%:%
%:%74=24%:%
%:%75=24%:%
%:%76=25%:%
%:%77=26%:%
%:%78=26%:%
%:%79=27%:%
%:%80=28%:%
%:%81=28%:%
%:%82=29%:%
%:%83=30%:%
%:%84=31%:%
%:%85=32%:%
%:%86=32%:%
%:%87=33%:%
%:%88=34%:%
%:%89=35%:%
%:%90=36%:%
%:%91=36%:%
%:%94=37%:%
%:%98=37%:%
%:%99=37%:%
%:%100=37%:%
%:%105=37%:%
%:%108=38%:%
%:%109=39%:%
%:%110=39%:%
%:%113=40%:%
%:%117=40%:%
%:%118=40%:%
%:%119=41%:%
%:%120=41%:%
%:%121=42%:%
%:%122=42%:%
%:%123=42%:%
%:%124=42%:%
%:%125=43%:%
%:%126=43%:%
%:%127=44%:%
%:%128=44%:%
%:%129=45%:%
%:%130=45%:%
%:%131=45%:%
%:%132=46%:%
%:%133=46%:%
%:%134=47%:%
%:%135=47%:%
%:%136=48%:%
%:%137=48%:%
%:%138=49%:%
%:%139=49%:%
%:%140=50%:%
%:%141=50%:%
%:%142=51%:%
%:%143=51%:%
%:%144=52%:%
%:%145=52%:%
%:%146=53%:%
%:%147=53%:%
%:%148=54%:%
%:%154=54%:%
%:%157=55%:%
%:%158=56%:%
%:%159=56%:%
%:%160=57%:%
%:%161=58%:%
%:%162=59%:%
%:%163=60%:%
%:%164=60%:%
%:%167=61%:%
%:%171=61%:%
%:%172=61%:%
%:%173=61%:%
%:%178=61%:%
%:%181=62%:%
%:%182=63%:%
%:%183=63%:%
%:%184=64%:%
%:%185=65%:%
%:%186=66%:%
%:%187=67%:%
%:%188=68%:%
%:%189=69%:%
%:%190=69%:%
%:%193=70%:%
%:%197=70%:%
%:%198=70%:%
%:%203=70%:%
%:%206=71%:%
%:%207=72%:%
%:%208=72%:%
%:%209=73%:%
%:%210=74%:%
%:%211=74%:%
%:%212=75%:%
%:%213=76%:%
%:%214=76%:%
%:%215=77%:%
%:%216=78%:%
%:%217=79%:%
%:%218=80%:%
%:%219=81%:%
%:%220=81%:%
%:%221=82%:%
%:%222=82%:%
%:%223=83%:%
%:%224=84%:%
%:%225=85%:%
%:%226=86%:%
%:%229=86%:%
%:%233=86%:%
%:%234=86%:%
%:%241=86%:%
%:%242=87%:%
%:%243=87%:%
%:%244=88%:%
%:%245=89%:%
%:%246=89%:%
%:%247=90%:%
%:%248=90%:%
%:%249=91%:%
%:%250=92%:%
%:%251=93%:%
%:%252=94%:%
%:%255=94%:%
%:%259=94%:%
%:%260=94%:%
%:%267=94%:%
%:%268=95%:%
%:%269=95%:%
%:%270=96%:%
%:%271=97%:%
%:%272=97%:%
%:%275=98%:%
%:%279=98%:%
%:%280=98%:%
%:%281=99%:%
%:%282=99%:%
%:%283=100%:%
%:%284=100%:%
%:%285=101%:%
%:%286=101%:%
%:%287=102%:%
%:%288=102%:%
%:%293=102%:%
%:%296=103%:%
%:%297=104%:%
%:%298=104%:%
%:%301=105%:%
%:%305=105%:%
%:%306=105%:%
%:%307=106%:%
%:%308=106%:%
%:%309=107%:%
%:%310=107%:%
%:%311=108%:%
%:%312=108%:%
%:%313=109%:%
%:%314=109%:%
%:%319=109%:%
%:%322=110%:%
%:%323=111%:%
%:%324=111%:%
%:%325=112%:%
%:%326=113%:%
%:%327=114%:%
%:%328=115%:%
%:%329=116%:%
%:%330=117%:%
%:%331=117%:%
%:%334=118%:%
%:%338=118%:%
%:%339=118%:%
%:%340=118%:%
%:%345=118%:%
%:%348=119%:%
%:%349=120%:%
%:%350=120%:%
%:%351=121%:%
%:%352=122%:%
%:%353=123%:%
%:%354=124%:%
%:%355=125%:%
%:%358=126%:%
%:%363=127%:%